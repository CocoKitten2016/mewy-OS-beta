{"entries":[{"timestamp":1764277618394,"editorVersion":"2.0.62","changes":[{"type":"edited","filename":"main.blocks","patch":[{"start1":0,"length1":131,"diffs":[[1,"<xml xmlns=\"http://www.w3.org/1999/xhtml\">\n  <variables></variables>\n  <block type=\"pxt-on-start\" x=\"0\" y=\"0\"></block>\n</xml>"]]}]},{"type":"edited","filename":"main.ts","patch":[{"start1":0,"length1":3785,"diffs":[[1," "]]}]},{"type":"edited","filename":"pxt.json","patch":[{"start1":217,"length1":31,"diffs":[[1,"    \"additionalFilePaths\": []\n"]]}]}]},{"timestamp":1764278202819,"editorVersion":"2.0.62","changes":[{"type":"edited","filename":"main.ts","patch":[{"start1":36,"length1":33,"diffs":[[1,"// MEWY OS v0.3 – FIXED INPUT\r\n"]]},{"start1":128,"length1":11,"diffs":[[1,"    ArenaGame,\r\n"]]},{"start1":210,"length1":50,"diffs":[[1,"let menuItems = [\"Arena Brawl\", \"Coming Soon\"]\r\n"]]},{"start1":260,"length1":53,"diffs":[[1,"let p1: Sprite = null\r\nlet p2: Sprite = null\r\n"]]},{"start1":402,"length1":95,"diffs":[[1,"    . . . . . . . . .\r\n    . 5 5 . . 5 5 . .\r\n    . 5 . 5 . 5 . 5 .\r\n    . 5 5 . . 5 5 . .\r\n    . . . . . . . . .\r\n"]]},{"start1":1038,"length1":71,"diffs":[[1,"function startArenaGame() {\r\n    currentApp = App.ArenaGame\r\n\r\n"]]},{"start1":1134,"length1":0,"diffs":[[1,"    screen.fill(7)\r\n"]]},{"start1":1156,"length1":171,"diffs":[[1,"    sprites.destroyAllSprites()\r\n"]]},{"start1":1191,"length1":49,"diffs":[[1,"    info.player1.setLife(3)\r\n    info.player2.setLife(3)\r\n\r\n    // Player 1\r\n    p1 = sprites.create(img`\r\n"]]},{"start1":1393,"length1":0,"diffs":[[1,"    p1.setPosition(30, 60)\r\n    p1.setStayInScreen(true)\r\n    controller.moveSprite(p1, 100, 100)\r\n"]]},{"start1":1494,"length1":160,"diffs":[[1,"    // Player 2\r\n    p2 = sprites.create(img`\r\n"]]},{"start1":1635,"length1":129,"diffs":[[1,"    p2.setPosition(130, 60)\r\n    p2.setStayInScreen(true)\r\n"]]},{"start1":2003,"length1":37,"diffs":[[1,"// ---------- MENU NAV ----------\r\n"]]},{"start1":2387,"length1":0,"diffs":[[1,"// ---------- A BUTTON (UNIFIED) ----------\r\n"]]},{"start1":2501,"length1":13,"diffs":[[1,"    // MENU SELECT\r\n"]]},{"start1":2556,"length1":40,"diffs":[[1,"        if (selected == 0) startArenaGame()\r\n"]]},{"start1":2668,"length1":332,"diffs":[[1,"    // GAME ATTACK\r\n    if (currentApp == App.ArenaGame) {\r\n        if (p1.overlapsWith(p2)) {\r\n            info.player2.changeLifeBy(-1)\r\n            p2.vx = randint(-150, 150)\r\n            p2.vy = randint(-150, 150)\r\n        }\r\n"]]},{"start1":2911,"length1":31,"diffs":[[1,"// ---------- B BUTTON ----------\r\n"]]},{"start1":3048,"length1":183,"diffs":[[1,"        sprites.destroyAllSprites()\r\n"]]},{"start1":3153,"length1":338,"diffs":[[1,"// ---------- PLAYER 2 ATTACK ----------\r\ncontroller.player2.onButtonEvent(ControllerButton.A, ControllerButtonEvent.Pressed, function () {\r\n    if (currentApp != App.ArenaGame) return\r\n    if (p2.overlapsWith(p1)) {\r\n        info.player1.changeLifeBy(-1)\r\n        p1.vx = randint(-150, 150)\r\n        p1.vy = randint(-150, 150)\r\n"]]},{"start1":3495,"length1":36,"diffs":[[1,"// ---------- GAME OVER ----------\r\n"]]},{"start1":3560,"length1":40,"diffs":[[1,"    if (currentApp != App.ArenaGame) return\r\n"]]},{"start1":3607,"length1":74,"diffs":[[1,"    if (info.player1.life() <= 0 || info.player2.life() <= 0) {\r\n        game.splash(\"GAME OVER\")\r\n        sprites.destroyAllSprites()\r\n        currentApp = App.Menu\r\n"]]},{"start1":3785,"length1":4,"diffs":[[1,""]]}]}]},{"timestamp":1764279172649,"editorVersion":"2.0.62","changes":[{"type":"edited","filename":"main.ts","patch":[{"start1":0,"length1":0,"diffs":[[1,"// ===============================\r\n// MEWY OS v0.4 – SINGLE PLAYER\r\n// ===============================\r\n\r\nenum App {\r\n    Menu,\r\n    Game,\r\n    ComingSoon\r\n}\r\n\r\nlet currentApp = App.Menu\r\nlet selected = 0\r\nlet menuItems = [\"Arena Shooter\", \"Coming Soon\"]\r\n\r\nlet player: Sprite = null\r\nlet enemy: Sprite = null\r\n\r\n// ---------- BOOT ----------\r\nscene.setBackgroundColor(1)\r\n\r\nlet logo = sprites.create(img`\r\n    . . . . . . .\r\n    . 5 5 . 5 5 .\r\n    . 5 . 5 . 5 .\r\n    . 5 5 . 5 5 .\r\n    . . . . . . .\r\n`, SpriteKind.Player)\r\n\r\nlogo.setPosition(80, 40)\r\nlogo.say(\"Mewy OS\", 2000)\r\nmusic.powerUp.play()\r\npause(2000)\r\nlogo.destroy()\r\n\r\n// ---------- MENU DRAW ----------\r\nfunction drawMenu() {\r\n    screen.fill(9)\r\n    screen.printCenter(\"MEWY OS\", 10, 1)\r\n\r\n    for (let i = 0; i < menuItems.length; i++) {\r\n        let y = 40 + i * 18\r\n        if (i == selected) {\r\n            screen.drawRect(20, y - 4, 120, 14, 2)\r\n        }\r\n        screen.print(menuItems[i], 30, y, 1)\r\n    }\r\n}\r\n\r\n// ---------- START GAME ----------\r\nfunction startGame() {\r\n    currentApp = App.Game\r\n    screen.fill(7)\r\n    scene.setBackgroundColor(7)\r\n\r\n    sprites.destroyAllSpritesOfKind(SpriteKind.Player)\r\n    sprites.destroyAllSpritesOfKind(SpriteKind.Enemy)\r\n    sprites.destroyAllSpritesOfKind(SpriteKind.Projectile)\r\n\r\n    // Player\r\n    player = sprites.create(img`\r\n        . 2 2 .\r\n        2 2 2 2\r\n        2 2 2 2\r\n        . 2 2 .\r\n    `, SpriteKind.Player)\r\n\r\n    player.setPosition(30, 60)\r\n    player.setStayInScreen(true)\r\n    controller.moveSprite(player, 100, 100)\r\n\r\n    // Enemy\r\n    enemy = sprites.create(img`\r\n        . 4 4 .\r\n        4 4 4 4\r\n        4 4 4 4\r\n        . 4 4 .\r\n    `, SpriteKind.Enemy)\r\n\r\n    enemy.setPosition(120, 60)\r\n    enemy.setBounceOnWall(true)\r\n    enemy.vx = -40\r\n    enemy.vy = 40\r\n\r\n    info.setLife(5)\r\n}\r\n\r\n// ---------- PAINT LOOP ----------\r\ngame.onPaint(function () {\r\n    if (currentApp == App.Menu) {\r\n        drawMenu()\r\n    }\r\n\r\n    if (currentApp == App.ComingSoon) {\r\n        screen.fill(9)\r\n        screen.printCenter(\"COMING SOON\", 60, 5)\r\n        screen.printCenter(\"B = Back\", 90, 1)\r\n    }\r\n})\r\n\r\n// ---------- MENU INPUT ----------\r\ncontroller.up.onEvent(ControllerButtonEvent.Pressed, function () {\r\n    if (currentApp != App.Menu) return\r\n    selected = (selected - 1 + menuItems.length) % menuItems.length\r\n})\r\n\r\ncontroller.down.onEvent(ControllerButtonEvent.Pressed, function () {\r\n    if (currentApp != App.Menu) return\r\n    selected = (selected + 1) % menuItems.length\r\n})\r\n\r\ncontroller.A.onEvent(ControllerButtonEvent.Pressed, function () {\r\n\r\n    // MENU\r\n    if (currentApp == App.Menu) {\r\n        if (selected == 0) startGame()\r\n        else currentApp = App.ComingSoon\r\n        return\r\n    }\r\n\r\n    // SHOOT\r\n    if (currentApp == App.Game && player) {\r\n        let bullet = sprites.createProjectileFromSprite(\r\n            img`\r\n                . 1 .\r\n                1 1 1\r\n                . 1 .\r\n            `,\r\n            player,\r\n            150,\r\n            0\r\n        )\r\n        bullet.setKind(SpriteKind.Projectile)\r\n    }\r\n})\r\n\r\n// ---------- BACK ----------\r\ncontroller.B.onEvent(ControllerButtonEvent.Pressed, function () {\r\n    if (currentApp != App.Menu) {\r\n        sprites.destroyAllSpritesOfKind(SpriteKind.Player)\r\n        sprites.destroyAllSpritesOfKind(SpriteKind.Enemy)\r\n        sprites.destroyAllSpritesOfKind(SpriteKind.Projectile)\r\n        screen.fill(9)\r\n        currentApp = App.Menu\r\n    }\r\n})\r\n\r\n// ---------- BULLET HIT ----------\r\nsprites.onOverlap(SpriteKind.Projectile, SpriteKind.Enemy, function (projectile, enemySprite) {\r\n    projectile.destroy()\r\n    info.changeLifeBy(-1)\r\n    music.baDing.play()\r\n\r\n    if (info.life() <= 0) {\r\n        enemySprite.destroy()\r\n        game.splash(\"YOU WIN!\")\r\n        currentApp = App.Menu\r\n    }\r\n})\r\n\r\n// ---------- GAME LOOP ----------\r\ngame.onUpdate(function () {\r\n    if (currentApp != App.Game) return\r\n\r\n    if (enemy && enemy.overlapsWith(player)) {\r\n        game.over(false)\r\n    }\r\n})\r\n\r\n\r\n"]]}]}]},{"timestamp":1764279530012,"editorVersion":"2.0.62","changes":[{"type":"edited","filename":"main.blocks","patch":[{"start1":0,"length1":41875,"diffs":[[1,"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables></variables><block type=\"pxt-on-start\" x=\"0\" y=\"0\"></block></xml>"]]}]},{"type":"edited","filename":"main.ts","patch":[{"start1":0,"length1":3264,"diffs":[[1,""]]}]}]},{"timestamp":1764281976306,"editorVersion":"2.0.62","changes":[{"type":"edited","filename":"main.blocks","patch":[{"start1":0,"length1":23806,"diffs":[[1,"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable type=\"KIND_SpriteKind\" id=\"u2O48jn+?E8bEpDUFA+7\">Player</variable><variable type=\"KIND_SpriteKind\" id=\"K_EzPsDCCeOSUzXa/$tp\">Projectile</variable><variable type=\"KIND_SpriteKind\" id=\"R89wA5xPJ-Y.MuY,LhzY\">Food</variable><variable type=\"KIND_SpriteKind\" id=\"U?Lw;+HskpbSEvxR0I91\">Enemy</variable><variable id=\"1qokRj-=^q)i`r1`}o^p\">i</variable><variable id=\"1eg)e{n`_[D?vf0nT}^T\">menuItems</variable><variable id=\"^-]ntReO[GPQThs#cV60\">y</variable><variable id=\"M#qL4P5L^Qf%$;;drIXF\">selected</variable><variable id=\"d;%fx!:1Q!LX}c%fI/p%\">enemyHealth</variable><variable id=\"12~-PJPGFPlr8k|766Cx\">difficulty</variable><variable id=\"1+O.ObGm8vwFp:h?g^#q\">enemyAccuracy</variable><variable id=\"97N*M!j-G[81yO/Q_YMK\">player</variable><variable id=\"6#zEPo}]!LqQS]wDXU2=\">enemy</variable><variable id=\")Yc$b/|HfGL^jUVwTg%H\">currentApp</variable><variable id=\"5DZlh9:-R$3j8[5#Z)}D\">b</variable><variable id=\"vDKUv-/MmO]_+;sOQmWf\">aimX</variable><variable id=\"Ss9pTeIH7E2/CQJFwEm#\">aimY</variable><variable id=\"zF`Zf[pRPIo6=;!y%?Jg\">dx</variable><variable id=\"IG6)L*Nh_q/B*7:s%(s)\">dy</variable><variable id=\"%)Yv|Wb!Xs~~hpo?;1Zo\">len</variable><variable id=\"0w7kP8Md{8o}zK@++r;;\">p</variable><variable id=\"A^FQmRLn;Qut{{lUN8EY\">e</variable><variable id=\"yvtgVY;Fz5~in[EtxR25\">soundOn</variable><variable id=\"y2i:D#6t~c|^BA5-]MSN\">logo</variable></variables><block type=\"pxt-on-start\" x=\"20\" y=\"20\"><statement name=\"HANDLER\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let enemy: Sprite = null\" numlines=\"1\" declaredvars=\"enemy\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let player: Sprite = null\" numlines=\"1\" declaredvars=\"player\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"enum App {&#13;\" line1=\"    Boot,&#13;\" line2=\"    Menu,&#13;\" line3=\"    Game,&#13;\" line4=\"    Settings&#13;\" line5=\"}\" numlines=\"6\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let currentApp = App.Boot\" numlines=\"1\" declaredvars=\"currentApp\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"1eg)e{n`_[D?vf0nT}^T\">menuItems</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_create_with\"><mutation items=\"1\" horizontalafter=\"3\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">Arena Shooter</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"yvtgVY;Fz5~in[EtxR25\">soundOn</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"12~-PJPGFPlr8k|766Cx\">difficulty</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"d;%fx!:1Q!LX}c%fI/p%\">enemyHealth</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">6</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"1+O.ObGm8vwFp:h?g^#q\">enemyAccuracy</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">70</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"yvtgVY;Fz5~in[EtxR25\">soundOn</field><comment pinned=\"false\" h=\"80\" w=\"160\">---------- LOAD SETTINGS ----------</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_compare\"><field name=\"OP\">NEQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">settings.readNumber(\"sound\")</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"difficulty = settings.readNumber(&quot;difficulty&quot;)\" numlines=\"1\"></mutation><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"12~-PJPGFPlr8k|766Cx\">difficulty</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"12~-PJPGFPlr8k|766Cx\">difficulty</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></statement><next><block type=\"synth_set_volume\"><value name=\"volume\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">soundOn ? 128 : 0</field></block></value><next><block type=\"gamesetbackgroundcolor\"><comment pinned=\"false\" h=\"80\" w=\"160\">---------- BOOT SCREEN ----------</comment><value name=\"color\"><shadow type=\"colorindexpicker\"><field name=\"index\">1</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"y2i:D#6t~c|^BA5-]MSN\">logo</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"spritescreate\"><value name=\"img\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n. . . . . . . \n. 5 5 . 5 5 . \n. 5 . 5 . 5 . \n. 5 5 . 5 5 . \n. . . . . . . \n`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value><value name=\"kind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Player</field></shadow></value></block></value><next><block type=\"spritesetpos\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"y2i:D#6t~c|^BA5-]MSN\">logo</field></block></value><value name=\"x\"><shadow type=\"positionPicker\"><field name=\"index\">80</field></shadow></value><value name=\"y\"><shadow type=\"positionPicker\"><field name=\"index\">50</field></shadow></value><next><block type=\"spritesay\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"1\" _input_init=\"true\"></mutation><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"y2i:D#6t~c|^BA5-]MSN\">logo</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Mewy OS</field></shadow></value><value name=\"millis\"><shadow type=\"timePicker\"><field name=\"ms\">2000</field></shadow></value><next><block type=\"mixer_play_sound\"><field name=\"sound\">music.powerUp</field><next><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">2000</field></shadow></value><next><block type=\"spritedestroy\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><field name=\"effect\">effects.spray</field><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"y2i:D#6t~c|^BA5-]MSN\">logo</field></block></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"currentApp = App.Menu\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"game.onPaint(function () {&#13;\" line1=\"    if (currentApp == App.Menu) drawMenu()&#13;\" line2=\"})\" numlines=\"3\"></mutation></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"gameinterval\" x=\"711\" y=\"20\"><comment pinned=\"false\" h=\"80\" w=\"160\">---------- ENEMY SHOOT ----------</comment><value name=\"period\"><shadow type=\"timePicker\"><field name=\"ms\">500</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">800</field></shadow></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"12~-PJPGFPlr8k|766Cx\">difficulty</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">150</field></shadow></value></block></value></block></value><statement name=\"HANDLER\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">NEQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\")Yc$b/|HfGL^jUVwTg%H\">currentApp</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">App.Game</field></block></value></block></value><statement name=\"DO0\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"return\" numlines=\"1\"></mutation></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">OR</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"6#zEPo}]!LqQS]wDXU2=\">enemy</field></block></value></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"97N*M!j-G[81yO/Q_YMK\">player</field></block></value></block></value></block></value><statement name=\"DO0\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"return\" numlines=\"1\"></mutation></block></statement><next><block type=\"variables_set\"><field name=\"VAR\" id=\"vDKUv-/MmO]_+;sOQmWf\">aimX</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"Sprite_blockCombine_get\"><field name=\"property\">Sprite.x</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"97N*M!j-G[81yO/Q_YMK\">player</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"Ss9pTeIH7E2/CQJFwEm#\">aimY</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"Sprite_blockCombine_get\"><field name=\"property\">Sprite.y</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"97N*M!j-G[81yO/Q_YMK\">player</field></block></value></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_random\"><value name=\"min\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"limit\"><shadow type=\"math_number\"><field name=\"NUM\">100</field></shadow></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"1+O.ObGm8vwFp:h?g^#q\">enemyAccuracy</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_change\"><field name=\"VAR\" id=\"vDKUv-/MmO]_+;sOQmWf\">aimX</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_random\"><value name=\"min\"><shadow type=\"math_number\"><field name=\"NUM\">-25</field></shadow></value><value name=\"limit\"><shadow type=\"math_number\"><field name=\"NUM\">25</field></shadow></value></block></value><next><block type=\"variables_change\"><field name=\"VAR\" id=\"Ss9pTeIH7E2/CQJFwEm#\">aimY</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_random\"><value name=\"min\"><shadow type=\"math_number\"><field name=\"NUM\">-25</field></shadow></value><value name=\"limit\"><shadow type=\"math_number\"><field name=\"NUM\">25</field></shadow></value></block></value></block></next></block></statement><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zF`Zf[pRPIo6=;!y%?Jg\">dx</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"vDKUv-/MmO]_+;sOQmWf\">aimX</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"Sprite_blockCombine_get\"><field name=\"property\">Sprite.x</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"6#zEPo}]!LqQS]wDXU2=\">enemy</field></block></value></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"IG6)L*Nh_q/B*7:s%(s)\">dy</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Ss9pTeIH7E2/CQJFwEm#\">aimY</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"Sprite_blockCombine_get\"><field name=\"property\">Sprite.y</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"6#zEPo}]!LqQS]wDXU2=\">enemy</field></block></value></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"%)Yv|Wb!Xs~~hpo?;1Zo\">len</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_js_op\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" op-type=\"unary\"></mutation><field name=\"OP\">sqrt</field><value name=\"ARG0\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zF`Zf[pRPIo6=;!y%?Jg\">dx</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zF`Zf[pRPIo6=;!y%?Jg\">dx</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"IG6)L*Nh_q/B*7:s%(s)\">dy</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"IG6)L*Nh_q/B*7:s%(s)\">dy</field></block></value></block></value></block></value></block></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sprites.createProjectileFromSprite(&#13;\" line1=\"        img`&#13;\" line2=\"            . 8 .&#13;\" line3=\"            8 8 8&#13;\" line4=\"            . 8 .&#13;\" line5=\"        `,&#13;\" line6=\"        enemy,&#13;\" line7=\"        dx / len * 85,&#13;\" line8=\"        dy / len * 85&#13;\" line9=\"    )\" numlines=\"10\"></mutation></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"gameupdate\" x=\"1538\" y=\"20\"><comment pinned=\"false\" h=\"80\" w=\"160\">---------- SMART FAST AI ----------</comment><statement name=\"HANDLER\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">NEQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\")Yc$b/|HfGL^jUVwTg%H\">currentApp</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">App.Game</field></block></value></block></value><statement name=\"DO0\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"return\" numlines=\"1\"></mutation></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">OR</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"6#zEPo}]!LqQS]wDXU2=\">enemy</field></block></value></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"97N*M!j-G[81yO/Q_YMK\">player</field></block></value></block></value></block></value><statement name=\"DO0\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"return\" numlines=\"1\"></mutation></block></statement><next><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vx@set</field><comment pinned=\"false\" h=\"80\" w=\"160\">Faster movement</comment><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"6#zEPo}]!LqQS]wDXU2=\">enemy</field></block></value><value name=\"value\"><block type=\"typescript_expression\"><field name=\"EXPRESSION\">enemy.x &lt; player.x ? 40 : -40</field></block></value><next><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vy@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"6#zEPo}]!LqQS]wDXU2=\">enemy</field></block></value><value name=\"value\"><block type=\"typescript_expression\"><field name=\"EXPRESSION\">enemy.y &lt; player.y ? 40 : -40</field></block></value><next><block type=\"pxt_controls_for_of\"><comment pinned=\"false\" h=\"80\" w=\"160\">Dodge nearby bullets</comment><value name=\"VAR\"><block type=\"variables_get_reporter\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VAR\" id=\"5DZlh9:-R$3j8[5#Z)}D\">b</field></block></value><value name=\"LIST\"><block type=\"allOfKind\"><value name=\"kind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Projectile</field></shadow></value></block></value><statement name=\"DO\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">AND</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_op3\"><value name=\"x\"><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"Sprite_blockCombine_get\"><field name=\"property\">Sprite.x</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"5DZlh9:-R$3j8[5#Z)}D\">b</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"Sprite_blockCombine_get\"><field name=\"property\">Sprite.x</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"6#zEPo}]!LqQS]wDXU2=\">enemy</field></block></value></block></value></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">14</field></shadow></value></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_op3\"><value name=\"x\"><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"Sprite_blockCombine_get\"><field name=\"property\">Sprite.y</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"5DZlh9:-R$3j8[5#Z)}D\">b</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"Sprite_blockCombine_get\"><field name=\"property\">Sprite.y</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"6#zEPo}]!LqQS]wDXU2=\">enemy</field></block></value></block></value></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">14</field></shadow></value></block></value></block></value><statement name=\"DO0\"><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vy@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"6#zEPo}]!LqQS]wDXU2=\">enemy</field></block></value><value name=\"value\"><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"Sprite_blockCombine_get\"><field name=\"property\">Sprite.vy</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"6#zEPo}]!LqQS]wDXU2=\">enemy</field></block></value></block></value></block></value></block></statement></block></statement></block></next></block></next></block></next></block></next></block></statement></block><block type=\"keyonevent\" x=\"3120\" y=\"20\"><field name=\"button\">controller.A</field><field name=\"event\">ControllerButtonEvent.Pressed</field><comment pinned=\"false\" h=\"80\" w=\"160\">---------- PLAYER SHOOT ----------</comment><statement name=\"HANDLER\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\")Yc$b/|HfGL^jUVwTg%H\">currentApp</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">App.Menu</field></block></value></block></value><statement name=\"DO0\"><block type=\"function_call\"><mutation name=\"startGame\" functionid=\"q3rZ4G/3Uu0PcYi*`Y4F\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"return\" numlines=\"1\"></mutation></block></next></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">AND</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\")Yc$b/|HfGL^jUVwTg%H\">currentApp</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">App.Game</field></block></value></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"97N*M!j-G[81yO/Q_YMK\">player</field></block></value></block></value><statement name=\"DO0\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sprites.createProjectileFromSprite(&#13;\" line1=\"            img`&#13;\" line2=\"                . 1 .&#13;\" line3=\"                1 1 1&#13;\" line4=\"                . 1 .&#13;\" line5=\"            `,&#13;\" line6=\"            player,&#13;\" line7=\"            160,&#13;\" line8=\"            0&#13;\" line9=\"        )\" numlines=\"10\"></mutation></block></statement></block></next></block></statement></block><block type=\"spritesoverlap\" x=\"3826\" y=\"20\"><comment pinned=\"false\" h=\"80\" w=\"160\">---------- TOUCH DAMAGE ----------</comment><value name=\"HANDLER_DRAG_PARAM_sprite\"><block type=\"argument_reporter_custom\"><mutation duplicateondrag=\"true\" typename=\"Sprite\"></mutation><field name=\"VALUE\">sprite</field></block></value><value name=\"kind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Player</field></shadow></value><value name=\"HANDLER_DRAG_PARAM_otherSprite\"><block type=\"argument_reporter_custom\"><mutation duplicateondrag=\"true\" typename=\"Sprite\"></mutation><field name=\"VALUE\">otherSprite</field></block></value><value name=\"otherKind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Enemy</field></shadow></value><statement name=\"HANDLER\"><block type=\"hudChangeLifeBy\"><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">-1</field></shadow></value><next><block type=\"device_pause\"><comment pinned=\"false\" h=\"80\" w=\"160\">cooldown so it's fair</comment><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">300</field></shadow></value><next><block type=\"controls_if\"><data>{\"commentRefs\":[],\"fieldData\":{}}</data><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LTE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"hudLife\"></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"gameOver\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><field name=\"effect\">effects.confetti</field><value name=\"win\"><shadow type=\"toggleWinLose\"><field name=\"win\">false</field></shadow></value></block></statement></block></next></block></next></block></statement></block><block type=\"spritesoverlap\" x=\"20\" y=\"1595\"><comment pinned=\"false\" h=\"80\" w=\"160\">---------- BULLET HIT ENEMY ----------</comment><value name=\"HANDLER_DRAG_PARAM_sprite\"><block type=\"argument_reporter_custom\"><mutation duplicateondrag=\"true\" typename=\"Sprite\"></mutation><field name=\"VALUE\">p</field></block></value><value name=\"kind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Projectile</field></shadow></value><value name=\"HANDLER_DRAG_PARAM_otherSprite\"><block type=\"argument_reporter_custom\"><mutation duplicateondrag=\"true\" typename=\"Sprite\"></mutation><field name=\"VALUE\">e</field></block></value><value name=\"otherKind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Enemy</field></shadow></value><statement name=\"HANDLER\"><block type=\"spritedestroy\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><field name=\"effect\">effects.spray</field><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"0w7kP8Md{8o}zK@++r;;\">p</field></block></value><next><block type=\"variables_change\"><field name=\"VAR\" id=\"d;%fx!:1Q!LX}c%fI/p%\">enemyHealth</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">-1</field></shadow></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LTE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"d;%fx!:1Q!LX}c%fI/p%\">enemyHealth</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"spritedestroy\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><field name=\"effect\">effects.spray</field><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"A^FQmRLn;Qut{{lUN8EY\">e</field></block></value><next><block type=\"hudChangeScoreBy\"><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"function_call\"><mutation name=\"spawnEnemy\" functionid=\"i85W=:F(|f|*LOD:_0_#\"></mutation></block></next></block></next></block></statement></block></next></block></next></block></statement></block><block type=\"spritesoverlap\" x=\"695\" y=\"1595\"><comment pinned=\"false\" h=\"80\" w=\"160\">---------- BULLET HIT PLAYER ----------</comment><value name=\"HANDLER_DRAG_PARAM_sprite\"><block type=\"argument_reporter_custom\"><mutation duplicateondrag=\"true\" typename=\"Sprite\"></mutation><field name=\"VALUE\">p</field></block></value><value name=\"kind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Projectile</field></shadow></value><value name=\"HANDLER_DRAG_PARAM_otherSprite\"><block type=\"argument_reporter_custom\"><mutation duplicateondrag=\"true\" typename=\"Sprite\"></mutation><field name=\"VALUE\">otherSprite</field></block></value><value name=\"otherKind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Player</field></shadow></value><statement name=\"HANDLER\"><block type=\"spritedestroy\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><field name=\"effect\">effects.spray</field><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"0w7kP8Md{8o}zK@++r;;\">p</field></block></value><next><block type=\"hudChangeLifeBy\"><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">-1</field></shadow></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LTE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"hudLife\"></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"gameOver\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><field name=\"effect\">effects.confetti</field><value name=\"win\"><shadow type=\"toggleWinLose\"><field name=\"win\">false</field></shadow></value></block></statement></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"1454\" y=\"1595\"><mutation name=\"drawMenu\" functionid=\"k@Oo-0+Y%(AgA.@Z6uDX\"></mutation><field name=\"function_name\">drawMenu</field><comment pinned=\"false\" h=\"80\" w=\"160\">---------- MENU ----------</comment><statement name=\"STACK\"><block type=\"Image_fill\"><value name=\"picture\"><block type=\"typescript_expression\"><field name=\"EXPRESSION\">screen</field></block></value><value name=\"c\"><shadow type=\"colorindexpicker\"><field name=\"index\">9</field></shadow></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"screen.printCenter(&quot;MEWY OS&quot;, 10, 1)\" numlines=\"1\"></mutation><next><block type=\"pxt_controls_for\"><value name=\"VAR\"><block type=\"variables_get_reporter\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VAR\" id=\"1qokRj-=^q)i`r1`}o^p\">i</field></block></value><value name=\"TO\"><shadow type=\"math_whole_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"1eg)e{n`_[D?vf0nT}^T\">menuItems</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><statement name=\"DO\"><block type=\"variables_set\"><field name=\"VAR\" id=\"^-]ntReO[GPQThs#cV60\">y</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">50</field></shadow></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"1qokRj-=^q)i`r1`}o^p\">i</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">18</field></shadow></value></block></value></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"1qokRj-=^q)i`r1`}o^p\">i</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"M#qL4P5L^Qf%$;;drIXF\">selected</field></block></value></block></value><statement name=\"DO0\"><block type=\"Image_drawRect\"><comment pinned=\"false\" h=\"80\" w=\"160\">❤️ red box</comment><value name=\"picture\"><block type=\"typescript_expression\"><field name=\"EXPRESSION\">screen</field></block></value><value name=\"x\"><shadow type=\"math_number\"><field name=\"NUM\">20</field></shadow></value><value name=\"y\"><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"^-]ntReO[GPQThs#cV60\">y</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">4</field></shadow></value></block></value><value name=\"w\"><shadow type=\"math_number\"><field name=\"NUM\">120</field></shadow></value><value name=\"h\"><shadow type=\"math_number\"><field name=\"NUM\">14</field></shadow></value><value name=\"c\"><shadow type=\"colorindexpicker\"><field name=\"index\">2</field></shadow></value></block></statement><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"screen.print(menuItems[i], 30, y, 1)\" numlines=\"1\"></mutation></block></next></block></next></block></statement><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"screen.printCenter(&quot;A = Start&quot;, 105, 1)\" numlines=\"1\"></mutation></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"2394\" y=\"1595\"><mutation name=\"startGame\" functionid=\"q3rZ4G/3Uu0PcYi*`Y4F\"></mutation><field name=\"function_name\">startGame</field><comment pinned=\"false\" h=\"80\" w=\"160\">---------- START GAME ----------</comment><statement name=\"STACK\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"currentApp = App.Game\" numlines=\"1\"></mutation><next><block type=\"gamesetbackgroundcolor\"><value name=\"color\"><shadow type=\"colorindexpicker\"><field name=\"index\">7</field></shadow></value><next><block type=\"Image_fill\"><value name=\"picture\"><block type=\"typescript_expression\"><field name=\"EXPRESSION\">screen</field></block></value><value name=\"c\"><shadow type=\"colorindexpicker\"><field name=\"index\">7</field></shadow></value><next><block type=\"sprites_destroy_all_sprites_of_kind\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><field name=\"effect\">effects.spray</field><value name=\"kind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Player</field></shadow></value><next><block type=\"sprites_destroy_all_sprites_of_kind\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><field name=\"effect\">effects.spray</field><value name=\"kind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Enemy</field></shadow></value><next><block type=\"sprites_destroy_all_sprites_of_kind\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><field name=\"effect\">effects.spray</field><value name=\"kind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Projectile</field></shadow></value><next><block type=\"hudSetLife\"><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">3</field></shadow></value><next><block type=\"hudsetScore\"><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"d;%fx!:1Q!LX}c%fI/p%\">enemyHealth</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">4</field></shadow></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"12~-PJPGFPlr8k|766Cx\">difficulty</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"1+O.ObGm8vwFp:h?g^#q\">enemyAccuracy</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">60</field></shadow></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"12~-PJPGFPlr8k|766Cx\">difficulty</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">10</field></shadow></value></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"97N*M!j-G[81yO/Q_YMK\">player</field><comment pinned=\"false\" h=\"80\" w=\"160\">PLAYER</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"spritescreate\"><value name=\"img\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n. 2 2 . \n2 2 2 2 \n2 2 2 2 \n. 2 2 . \n`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value><value name=\"kind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Player</field></shadow></value></block></value><next><block type=\"spritesetpos\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"97N*M!j-G[81yO/Q_YMK\">player</field></block></value><value name=\"x\"><shadow type=\"positionPicker\"><field name=\"index\">25</field></shadow></value><value name=\"y\"><shadow type=\"positionPicker\"><field name=\"index\">60</field></shadow></value><next><block type=\"spritesetsetstayinscreen\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"97N*M!j-G[81yO/Q_YMK\">player</field></block></value><value name=\"on\"><shadow type=\"toggleOnOff\"><field name=\"on\">true</field></shadow></value><next><block type=\"game_control_sprite\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"97N*M!j-G[81yO/Q_YMK\">player</field></block></value><value name=\"vx\"><shadow type=\"spriteSpeedPicker\"><field name=\"speed\">100</field></shadow></value><value name=\"vy\"><shadow type=\"spriteSpeedPicker\"><field name=\"speed\">100</field></shadow></value><next><block type=\"function_call\"><mutation name=\"spawnEnemy\" functionid=\"i85W=:F(|f|*LOD:_0_#\"></mutation></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"3053\" y=\"1595\"><mutation name=\"spawnEnemy\" functionid=\"i85W=:F(|f|*LOD:_0_#\"></mutation><field name=\"function_name\">spawnEnemy</field><comment pinned=\"false\" h=\"80\" w=\"160\">---------- SPAWN ENEMY ----------</comment><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\"6#zEPo}]!LqQS]wDXU2=\">enemy</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"spritescreate\"><value name=\"img\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n. 4 4 . \n4 4 4 4 \n4 4 4 4 \n. 4 4 . \n`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value><value name=\"kind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Enemy</field></shadow></value></block></value><next><block type=\"spritesetpos\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"6#zEPo}]!LqQS]wDXU2=\">enemy</field></block></value><value name=\"x\"><shadow type=\"positionPicker\"><field name=\"index\">140</field></shadow></value><value name=\"y\"><shadow type=\"positionPicker\"><field name=\"index\">0</field></shadow><block type=\"device_random\"><value name=\"min\"><shadow type=\"math_number\"><field name=\"NUM\">20</field></shadow></value><value name=\"limit\"><shadow type=\"math_number\"><field name=\"NUM\">100</field></shadow></value></block></value></block></next></block></statement></block></xml>"]]}]}]},{"timestamp":1764282218779,"editorVersion":"2.0.62","changes":[{"type":"edited","filename":"main.blocks","patch":[{"start1":0,"length1":23886,"diffs":[[1,"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable type=\"KIND_SpriteKind\" id=\"K10;JM4UhC|}eQn/[u)%\">Player</variable><variable type=\"KIND_SpriteKind\" id=\"~er+1ipXi0I^[UN`a3*#\">Projectile</variable><variable type=\"KIND_SpriteKind\" id=\"_dQK[}}9+sRGxLo,pmje\">Food</variable><variable type=\"KIND_SpriteKind\" id=\"Ql7k6Q%+3[iA+WRx8LiK\">Enemy</variable><variable id=\"`xbeyYgqoc:w%uL]]BG?\">i</variable><variable id=\"=Li;s4!`|zdItTH?tKnQ\">menuItems</variable><variable id=\"(-As/SpxD(`^8g.tvV^e\">y</variable><variable id=\"_b+sh3nJXAPx?C,MTQ|M\">selected</variable><variable id=\"@6,P!l3gyA!o4u7va@#u\">player</variable><variable id=\"5}Y_5YpV)aM_V$:0SsNz\">enemyHearts</variable><variable id=\"aG_c^~Joa,3=Uv1Haj,i\">enemy</variable><variable id=\"?xRcPH/e#nUD#H:3[Q(-\">currentApp</variable><variable id=\"P.h:7)ovmm!U_4gF!vBm\">bullet</variable><variable id=\"jU6)R*?EGZRH/iMqy!2n\">e</variable><variable id=\"M*@uk^1W{6=,hN%OmMaz\">logo</variable></variables><block type=\"spritesoverlap\" x=\"10\" y=\"10\"><comment pinned=\"false\" h=\"80\" w=\"160\">---------- BULLET HIT ENEMY ----------</comment><value name=\"HANDLER_DRAG_PARAM_sprite\"><block type=\"argument_reporter_custom\"><mutation duplicateondrag=\"true\" typename=\"Sprite\"></mutation><field name=\"VALUE\">bullet</field></block></value><value name=\"kind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Projectile</field></shadow></value><value name=\"HANDLER_DRAG_PARAM_otherSprite\"><block type=\"argument_reporter_custom\"><mutation duplicateondrag=\"true\" typename=\"Sprite\"></mutation><field name=\"VALUE\">e</field></block></value><value name=\"otherKind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Enemy</field></shadow></value><statement name=\"HANDLER\"><block type=\"spritedestroy\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><field name=\"effect\">effects.spray</field><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"P.h:7)ovmm!U_4gF!vBm\">bullet</field></block></value><next><block type=\"variables_change\"><field name=\"VAR\" id=\"5}Y_5YpV)aM_V$:0SsNz\">enemyHearts</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">-1</field></shadow></value><next><block type=\"hudChangeScoreBy\"><comment pinned=\"false\" h=\"80\" w=\"160\">refund score (hit)</comment><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"controls_if\"><data>{\"commentRefs\":[],\"fieldData\":{}}</data><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LTE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"5}Y_5YpV)aM_V$:0SsNz\">enemyHearts</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"spritedestroy\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><field name=\"effect\">effects.spray</field><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"jU6)R*?EGZRH/iMqy!2n\">e</field></block></value><next><block type=\"function_call\"><mutation name=\"spawnEnemy\" functionid=\"1a%0#Wq6D1jq4~$Y2k-p\"></mutation></block></next></block></statement></block></next></block></next></block></next></block></statement></block><block type=\"pxt-on-start\" x=\"20\" y=\"20\"><statement name=\"HANDLER\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let enemy: Sprite = null\" numlines=\"1\" declaredvars=\"enemy\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let player: Sprite = null\" numlines=\"1\" declaredvars=\"player\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"enum App {\" line1=\"    Boot,\" line2=\"    Menu,\" line3=\"    Game\" line4=\"}\" numlines=\"5\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let currentApp = App.Boot\" numlines=\"1\" declaredvars=\"currentApp\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"=Li;s4!`|zdItTH?tKnQ\">menuItems</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_create_with\"><mutation items=\"1\" horizontalafter=\"3\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">Arena Shooter</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"5}Y_5YpV)aM_V$:0SsNz\">enemyHearts</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">3</field></shadow></value><next><block type=\"gamesetbackgroundcolor\"><comment pinned=\"false\" h=\"80\" w=\"160\">---------- BOOT ----------</comment><value name=\"color\"><shadow type=\"colorindexpicker\"><field name=\"index\">1</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"M*@uk^1W{6=,hN%OmMaz\">logo</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"spritescreate\"><value name=\"img\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n    . . . . . . .\n    . 5 5 . 5 5 .\n    . 5 . 5 . 5 .\n    . 5 5 . 5 5 .\n    . . . . . . .\n`</field></shadow></value><value name=\"kind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Player</field></shadow></value></block></value><next><block type=\"spritesetpos\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"M*@uk^1W{6=,hN%OmMaz\">logo</field></block></value><value name=\"x\"><shadow type=\"positionPicker\"><field name=\"index\">80</field></shadow></value><value name=\"y\"><shadow type=\"positionPicker\"><field name=\"index\">50</field></shadow></value><next><block type=\"spritesay\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"1\" _input_init=\"true\"></mutation><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"M*@uk^1W{6=,hN%OmMaz\">logo</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Mewy OS</field></shadow></value><value name=\"millis\"><shadow type=\"timePicker\"><field name=\"ms\">2000</field></shadow></value><next><block type=\"mixer_play_sound\"><field name=\"sound\">music.powerUp</field><next><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">2000</field></shadow></value><next><block type=\"spritedestroy\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><field name=\"effect\">effects.spray</field><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"M*@uk^1W{6=,hN%OmMaz\">logo</field></block></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"currentApp = App.Menu\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"game.onPaint(function () {\" line1=\"    if (currentApp == App.Menu) {\" line2=\"        drawMenu()\" line3=\"    }\" line4=\"})\" numlines=\"5\"></mutation></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"gameupdate\" x=\"1538\" y=\"20\"><comment pinned=\"false\" h=\"80\" w=\"160\">---------- ENEMY MOVEMENT (FAST, NO SHOOT) ----------</comment><statement name=\"HANDLER\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">NEQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"?xRcPH/e#nUD#H:3[Q(-\">currentApp</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">App.Game</field></block></value></block></value><statement name=\"DO0\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"return\" numlines=\"1\"></mutation></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">OR</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"aG_c^~Joa,3=Uv1Haj,i\">enemy</field></block></value></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@6,P!l3gyA!o4u7va@#u\">player</field></block></value></block></value></block></value><statement name=\"DO0\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"return\" numlines=\"1\"></mutation></block></statement><next><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"aG_c^~Joa,3=Uv1Haj,i\">enemy</field></block></value><value name=\"value\"><block type=\"typescript_expression\"><field name=\"EXPRESSION\">enemy.x &lt; player.x ? 40 : -40</field></block></value><next><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vy@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"aG_c^~Joa,3=Uv1Haj,i\">enemy</field></block></value><value name=\"value\"><block type=\"typescript_expression\"><field name=\"EXPRESSION\">enemy.y &lt; player.y ? 40 : -40</field></block></value></block></next></block></next></block></next></block></statement></block><block type=\"keyonevent\" x=\"3120\" y=\"20\"><field name=\"button\">controller.A</field><field name=\"event\">ControllerButtonEvent.Pressed</field><comment pinned=\"false\" h=\"80\" w=\"160\">---------- PLAYER SHOOT ----------</comment><statement name=\"HANDLER\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"?xRcPH/e#nUD#H:3[Q(-\">currentApp</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">App.Menu</field></block></value></block></value><statement name=\"DO0\"><block type=\"function_call\"><mutation name=\"startGame\" functionid=\"xbQ[)y5?r5SOjS,tRhVz\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"return\" numlines=\"1\"></mutation></block></next></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">AND</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"?xRcPH/e#nUD#H:3[Q(-\">currentApp</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">App.Game</field></block></value></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@6,P!l3gyA!o4u7va@#u\">player</field></block></value></block></value><statement name=\"DO0\"><block type=\"hudChangeScoreBy\"><comment pinned=\"false\" h=\"80\" w=\"160\">shooting costs 1 score</comment><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">-1</field></shadow></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sprites.createProjectileFromSprite(\" line1=\"            img`\" line2=\"                . 1 .\" line3=\"                1 1 1\" line4=\"                . 1 .\" line5=\"            `,\" line6=\"            player,\" line7=\"            160,\" line8=\"            0\" line9=\"        )\" numlines=\"10\"></mutation></block></next></block></statement></block></next></block></statement></block><block type=\"spritesoverlap\" x=\"3826\" y=\"20\"><comment pinned=\"false\" h=\"80\" w=\"160\">---------- ENEMY TOUCH DAMAGE ----------</comment><value name=\"HANDLER_DRAG_PARAM_sprite\"><block type=\"argument_reporter_custom\"><mutation duplicateondrag=\"true\" typename=\"Sprite\"></mutation><field name=\"VALUE\">sprite</field></block></value><value name=\"kind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Player</field></shadow></value><value name=\"HANDLER_DRAG_PARAM_otherSprite\"><block type=\"argument_reporter_custom\"><mutation duplicateondrag=\"true\" typename=\"Sprite\"></mutation><field name=\"VALUE\">otherSprite</field></block></value><value name=\"otherKind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Enemy</field></shadow></value><statement name=\"HANDLER\"><block type=\"hudChangeLifeBy\"><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">-1</field></shadow></value><next><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">300</field></shadow></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LTE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"hudLife\"></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"gameOver\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><field name=\"effect\">effects.confetti</field><value name=\"win\"><shadow type=\"toggleWinLose\"><field name=\"win\">false</field></shadow></value></block></statement></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"1454\" y=\"1595\"><mutation name=\"drawMenu\" functionid=\"YzzKu{{3#F_h;~{2;%Bi\"></mutation><field name=\"function_name\">drawMenu</field><comment pinned=\"false\" h=\"80\" w=\"160\">---------- MENU ----------</comment><statement name=\"STACK\"><block type=\"Image_fill\"><value name=\"picture\"><block type=\"typescript_expression\"><field name=\"EXPRESSION\">screen</field></block></value><value name=\"c\"><shadow type=\"colorindexpicker\"><field name=\"index\">9</field></shadow></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"screen.printCenter(&quot;MEWY OS&quot;, 10, 1)\" numlines=\"1\"></mutation><next><block type=\"pxt_controls_for\"><value name=\"VAR\"><block type=\"variables_get_reporter\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VAR\" id=\"`xbeyYgqoc:w%uL]]BG?\">i</field></block></value><value name=\"TO\"><shadow type=\"math_whole_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"=Li;s4!`|zdItTH?tKnQ\">menuItems</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><statement name=\"DO\"><block type=\"variables_set\"><field name=\"VAR\" id=\"(-As/SpxD(`^8g.tvV^e\">y</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">50</field></shadow></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"`xbeyYgqoc:w%uL]]BG?\">i</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">18</field></shadow></value></block></value></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"`xbeyYgqoc:w%uL]]BG?\">i</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"_b+sh3nJXAPx?C,MTQ|M\">selected</field></block></value></block></value><statement name=\"DO0\"><block type=\"Image_drawRect\"><comment pinned=\"false\" h=\"80\" w=\"160\">red box</comment><value name=\"picture\"><block type=\"typescript_expression\"><field name=\"EXPRESSION\">screen</field></block></value><value name=\"x\"><shadow type=\"math_number\"><field name=\"NUM\">20</field></shadow></value><value name=\"y\"><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"(-As/SpxD(`^8g.tvV^e\">y</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">4</field></shadow></value></block></value><value name=\"w\"><shadow type=\"math_number\"><field name=\"NUM\">120</field></shadow></value><value name=\"h\"><shadow type=\"math_number\"><field name=\"NUM\">14</field></shadow></value><value name=\"c\"><shadow type=\"colorindexpicker\"><field name=\"index\">2</field></shadow></value></block></statement><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"screen.print(menuItems[i], 30, y, 1)\" numlines=\"1\"></mutation></block></next></block></next></block></statement><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"screen.printCenter(&quot;A = Start&quot;, 105, 1)\" numlines=\"1\"></mutation></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"2394\" y=\"1595\"><mutation name=\"startGame\" functionid=\"xbQ[)y5?r5SOjS,tRhVz\"></mutation><field name=\"function_name\">startGame</field><comment pinned=\"false\" h=\"80\" w=\"160\">---------- START GAME ----------</comment><statement name=\"STACK\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"currentApp = App.Game\" numlines=\"1\"></mutation><next><block type=\"gamesetbackgroundcolor\"><value name=\"color\"><shadow type=\"colorindexpicker\"><field name=\"index\">7</field></shadow></value><next><block type=\"Image_fill\"><value name=\"picture\"><block type=\"typescript_expression\"><field name=\"EXPRESSION\">screen</field></block></value><value name=\"c\"><shadow type=\"colorindexpicker\"><field name=\"index\">7</field></shadow></value><next><block type=\"sprites_destroy_all_sprites_of_kind\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><field name=\"effect\">effects.spray</field><value name=\"kind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Player</field></shadow></value><next><block type=\"sprites_destroy_all_sprites_of_kind\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><field name=\"effect\">effects.spray</field><value name=\"kind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Enemy</field></shadow></value><next><block type=\"sprites_destroy_all_sprites_of_kind\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><field name=\"effect\">effects.spray</field><value name=\"kind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Projectile</field></shadow></value><next><block type=\"hudSetLife\"><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">3</field></shadow></value><next><block type=\"hudsetScore\"><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">100</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"@6,P!l3gyA!o4u7va@#u\">player</field><comment pinned=\"false\" h=\"80\" w=\"160\">PLAYER</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"spritescreate\"><value name=\"img\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n        . 2 2 .\n        2 2 2 2\n        2 2 2 2\n        . 2 2 .\n    `</field></shadow></value><value name=\"kind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Player</field></shadow></value></block></value><next><block type=\"spritesetpos\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"@6,P!l3gyA!o4u7va@#u\">player</field></block></value><value name=\"x\"><shadow type=\"positionPicker\"><field name=\"index\">25</field></shadow></value><value name=\"y\"><shadow type=\"positionPicker\"><field name=\"index\">60</field></shadow></value><next><block type=\"spritesetsetstayinscreen\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"@6,P!l3gyA!o4u7va@#u\">player</field></block></value><value name=\"on\"><shadow type=\"toggleOnOff\"><field name=\"on\">true</field></shadow></value><next><block type=\"game_control_sprite\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"@6,P!l3gyA!o4u7va@#u\">player</field></block></value><value name=\"vx\"><shadow type=\"spriteSpeedPicker\"><field name=\"speed\">100</field></shadow></value><value name=\"vy\"><shadow type=\"spriteSpeedPicker\"><field name=\"speed\">100</field></shadow></value><next><block type=\"function_call\"><mutation name=\"spawnEnemy\" functionid=\"1a%0#Wq6D1jq4~$Y2k-p\"></mutation></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"3053\" y=\"1595\"><mutation name=\"spawnEnemy\" functionid=\"1a%0#Wq6D1jq4~$Y2k-p\"></mutation><field name=\"function_name\">spawnEnemy</field><comment pinned=\"false\" h=\"80\" w=\"160\">---------- SPAWN ENEMY ----------</comment><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\"5}Y_5YpV)aM_V$:0SsNz\">enemyHearts</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">3</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"aG_c^~Joa,3=Uv1Haj,i\">enemy</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"spritescreate\"><value name=\"img\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n        . 4 4 .\n        4 4 4 4\n        4 4 4 4\n        . 4 4 .\n    `</field></shadow></value><value name=\"kind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Enemy</field></shadow></value></block></value><next><block type=\"spritesetpos\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"aG_c^~Joa,3=Uv1Haj,i\">enemy</field></block></value><value name=\"x\"><shadow type=\"positionPicker\"><field name=\"index\">140</field></shadow></value><value name=\"y\"><shadow type=\"positionPicker\"><field name=\"index\">0</field></shadow><block type=\"device_random\"><value name=\"min\"><shadow type=\"math_number\"><field name=\"NUM\">20</field></shadow></value><value name=\"limit\"><shadow type=\"math_number\"><field name=\"NUM\">100</field></shadow></value></block></value></block></next></block></next></block></statement></block></xml>"]]}]},{"type":"edited","filename":"main.ts","patch":[{"start1":35,"length1":35,"diffs":[[1,"// MEWY OS v1.0 – FIXED & STABLE\n"]]},{"start1":104,"length1":70,"diffs":[[1,""]]},{"start1":135,"length1":25,"diffs":[[1,"    Game\n"]]},{"start1":190,"length1":45,"diffs":[[1,"let menuItems = [\"Arena Shooter\"]\n"]]},{"start1":225,"length1":207,"diffs":[[1,"let player: Sprite = null\nlet enemy: Sprite = null\nlet enemyHearts = 3\n"]]},{"start1":355,"length1":0,"diffs":[[1,"\n"]]},{"start1":841,"length1":51,"diffs":[[1,"            screen.drawRect(20, y - 4, 120, 14, 2) // red box\n"]]},{"start1":965,"length1":58,"diffs":[[1,"    screen.printCenter(\"A = Start\", 105, 1)\n"]]},{"start1":1012,"length1":117,"diffs":[[1,"// ---------- START GAME ----------\nfunction startGame() {\n    currentApp = App.Game\n    scene.setBackgroundColor(7)\n    screen.fill(7)\n"]]},{"start1":1204,"length1":106,"diffs":[[1,"    sprites.destroyAllSpritesOfKind(SpriteKind.Enemy)\n    sprites.destroyAllSpritesOfKind(SpriteKind.Projectile)\n"]]},{"start1":1318,"length1":37,"diffs":[[1,"    info.setLife(3)\n    info.setScore(100)\n"]]},{"start1":1362,"length1":254,"diffs":[[1,"    // PLAYER\n    player = sprites.create(img`\n"]]},{"start1":1473,"length1":24,"diffs":[[1,"    `, SpriteKind.Player)\n    player.setPosition(25, 60)\n    player.setStayInScreen(true)\n    controller.moveSprite(player, 100, 100)\n"]]},{"start1":1608,"length1":51,"diffs":[[1,"    spawnEnemy()\n"]]},{"start1":1628,"length1":390,"diffs":[[1,"// ---------- SPAWN ENEMY ----------\nfunction spawnEnemy() {\n    enemyHearts = 3\n    enemy = sprites.create(img`\n        . 4 4 .\n        4 4 4 4\n        4 4 4 4\n        . 4 4 .\n    `, SpriteKind.Enemy)\n"]]},{"start1":1831,"length1":106,"diffs":[[1,"    enemy.setPosition(140, randint(20, 100))\n"]]},{"start1":1879,"length1":133,"diffs":[[1,"// ---------- ENEMY MOVEMENT (FAST, NO SHOOT) ----------\ngame.onUpdate(function () {\n    if (currentApp != App.Game) return\n    if (!enemy || !player) return\n\n    enemy.vx = enemy.x < player.x ? 40 : -40\n    enemy.vy = enemy.y < player.y ? 40 : -40\n"]]},{"start1":2132,"length1":296,"diffs":[[1,"// ---------- PLAYER SHOOT ----------\ncontroller.A.onEvent(ControllerButtonEvent.Pressed, function () {\n    if (currentApp == App.Menu) {\n        startGame()\n        return\n"]]},{"start1":2312,"length1":29,"diffs":[[1,"    if (currentApp == App.Game && player) {\n        // shooting costs 1 score\n        info.changeScoreBy(-1)\n"]]},{"start1":2422,"length1":376,"diffs":[[1,"        sprites.createProjectileFromSprite(\n            img`\n                . 1 .\n                1 1 1\n                . 1 .\n            `,\n            player,\n            160,\n            0\n        )\n"]]},{"start1":2635,"length1":205,"diffs":[[1,"// ---------- BULLET HIT ENEMY ----------\nsprites.onOverlap(SpriteKind.Projectile, SpriteKind.Enemy, function (bullet, e) {\n    bullet.destroy()\n"]]},{"start1":2781,"length1":157,"diffs":[[1,"    enemyHearts--\n    info.changeScoreBy(1) // refund score (hit)\n"]]},{"start1":2848,"length1":92,"diffs":[[1,"    if (enemyHearts <= 0) {\n        e.destroy()\n        spawnEnemy()\n    }\n"]]},{"start1":2927,"length1":202,"diffs":[[1,"// ---------- ENEMY TOUCH DAMAGE ----------\nsprites.onOverlap(SpriteKind.Player, SpriteKind.Enemy, function () {\n    info.changeLifeBy(-1)\n    pause(300)\n\n    if (info.life() <= 0) {\n        game.over(false)\n"]]},{"start1":3202,"length1":327,"diffs":[[1,"    if (currentApp == App.Menu) {\n        drawMenu()\n"]]},{"start1":3261,"length1":165,"diffs":[[1,""]]}]},{"type":"edited","filename":"pxt.json","patch":[{"start1":81,"length1":50,"diffs":[[1,"        \"device\": \"*\"\n"]]}]}]},{"timestamp":1764282797113,"editorVersion":"2.0.62","changes":[{"type":"edited","filename":"main.ts","patch":[{"start1":35,"length1":76,"diffs":[[1,"// MEWY OS v1.5 – FIXED MAZE BUILD\n"]]},{"start1":106,"length1":28,"diffs":[[1,""]]},{"start1":207,"length1":13,"diffs":[[1,""]]},{"start1":278,"length1":51,"diffs":[[1,"let menuItems = [\"Maze Game\", \"Coming Soon\"]\n"]]},{"start1":324,"length1":214,"diffs":[[1,"// ---------- MAZE ----------\nlet ball: Sprite = null\nlet goal: Sprite = null\n"]]},{"start1":449,"length1":82,"diffs":[[1,"let bestTime = settings.readNumber(\"bestTime\")\nif (bestTime == 0) bestTime = 9999\n"]]},{"start1":532,"length1":352,"diffs":[[1,""]]},{"start1":733,"length1":0,"diffs":[[1,"\n"]]},{"start1":759,"length1":26,"diffs":[[1,"logo.say(\"Mewy OS\", 2000)\n"]]},{"start1":806,"length1":12,"diffs":[[1,"pause(2000)\n"]]},{"start1":855,"length1":11,"diffs":[[1,""]]},{"start1":908,"length1":32,"diffs":[[1,""]]},{"start1":1018,"length1":28,"diffs":[[1,"        let y = 50 + i * 18\n"]]},{"start1":1075,"length1":99,"diffs":[[1,"            screen.drawRect(20, y - 4, 120, 14, 2)\n"]]},{"start1":1187,"length1":121,"diffs":[[1,""]]},{"start1":1188,"length1":344,"diffs":[[1,"    screen.printCenter(\"BEST: \" + bestTime + \"s\", 105, 1)\n"]]},{"start1":1249,"length1":4622,"diffs":[[1,""]]},{"start1":1308,"length1":22,"diffs":[[1,""]]},{"start1":1366,"length1":18,"diffs":[[1,""]]},{"start1":1367,"length1":39,"diffs":[[1,"    sprites.destroyAllSpritesOfKind(SpriteKind.Player)\n    sprites.destroyAllSpritesOfKind(SpriteKind.Wall)\n    sprites.destroyAllSpritesOfKind(SpriteKind.Food)\n"]]},{"start1":1529,"length1":109,"diffs":[[1,"    mazeTimer = 0\n    mazeWalls = []\n\n    ball = sprites.create(img`\n"]]},{"start1":1688,"length1":136,"diffs":[[1,""]]},{"start1":1689,"length1":253,"diffs":[[1,"    controller.moveSprite(ball, 80, 80)\n    ball.setPosition(10, 10)\n    ball.setStayInScreen(true)\n\n    goal = sprites.create(img`\n"]]},{"start1":1909,"length1":49,"diffs":[[1,""]]},{"start1":1910,"length1":110,"diffs":[[1,"    goal.setPosition(150, 110)\n\n    generateMaze()\n"]]},{"start1":1964,"length1":36,"diffs":[[1,"// ---------- MAZE GENERATION ----------\nfunction generateMaze() {\n    for (let x = 24; x <= 136; x += 16) {\n        for (let y = 24; y <= 100; y += 16) {\n            if (randint(0, 100) < 40) {\n                let wall = sprites.create(img`\n                    8 8 8 8\n                    8 8 8 8\n                    8 8 8 8\n                    8 8 8 8\n                `, SpriteKind.Wall)\n\n                wall.setPosition(x, y)\n                mazeWalls.push(wall)\n            }\n        }\n    }\n}\n\n// ---------- TIMER ----------\n"]]},{"start1":2537,"length1":44,"diffs":[[1,"    if (currentApp == App.Maze) {\n        mazeTimer++\n    }\n"]]},{"start1":2601,"length1":56,"diffs":[[1,"// ---------- COLLISIONS ----------\n"]]},{"start1":2705,"length1":39,"diffs":[[1,""]]},{"start1":2749,"length1":112,"diffs":[[1,"\n    if (mazeTimer < bestTime) {\n        bestTime = mazeTimer\n        settings.writeNumber(\"bestTime\", bestTime)\n"]]},{"start1":2903,"length1":22,"diffs":[[1,"\n"]]},{"start1":2930,"length1":15,"diffs":[[1,""]]},{"start1":2934,"length1":84,"diffs":[[1,"// ---------- WALL COLLISION (BLOCK PLAYER) ----------\n"]]},{"start1":3017,"length1":254,"diffs":[[1,"    if (currentApp != App.Maze) return\n"]]},{"start1":3057,"length1":185,"diffs":[[1,""]]},{"start1":3088,"length1":110,"diffs":[[1,"        if (ball.overlapsWith(w)) {\n            ball.x -= ball.vx * game.currentScene().eventContext.deltaTimeMillis / 1000\n            ball.y -= ball.vy * game.currentScene().eventContext.deltaTimeMillis / 1000\n"]]},{"start1":3320,"length1":1465,"diffs":[[1,"// ---------- INPUT ----------\n"]]},{"start1":3418,"length1":122,"diffs":[[1,"    if (currentApp == App.Menu)\n        selected = (selected - 1 + menuItems.length) % menuItems.length\n"]]},{"start1":3525,"length1":0,"diffs":[[1,"\n"]]},{"start1":3595,"length1":103,"diffs":[[1,"    if (currentApp == App.Menu)\n        selected = (selected + 1) % menuItems.length\n"]]},{"start1":3750,"length1":149,"diffs":[[1,"    currentApp = App.Menu\n"]]},{"start1":3780,"length1":61,"diffs":[[1,"// ✅ SINGLE A HANDLER\n"]]},{"start1":3868,"length1":19,"diffs":[[1,""]]},{"start1":3902,"length1":240,"diffs":[[1,"        if (selected == 0) startMaze()\n        else currentApp = App.ComingSoon\n"]]},{"start1":3988,"length1":0,"diffs":[[1,"})\n"]]},{"start1":3992,"length1":251,"diffs":[[1,"// ---------- DRAW ----------\ngame.onPaint(function () {\n    if (currentApp == App.Menu) drawMenu()\n\n    if (currentApp == App.Maze) {\n        screen.print(\"TIME: \" + mazeTimer, 2, 2, 1)\n\n        // MINIMAP\n        screen.drawRect(110, 2, 46, 30, 1)\n        screen.fillRect(110 + ball.x / 4, 2 + ball.y / 4, 2, 2, 7)\n        screen.fillRect(110 + goal.x / 4, 2 + goal.y / 4, 2, 2, 2)\n"]]},{"start1":4383,"length1":65,"diffs":[[1,"    if (currentApp == App.ComingSoon) {\n        screen.fill(9)\n        screen.printCenter(\"COMING SOON\", 60, 2)\n        screen.printCenter(\"B = Back\", 90, 1)\n    }\n"]]},{"start1":4550,"length1":38,"diffs":[[1,""]]}]}]},{"timestamp":1764283810911,"editorVersion":"2.0.62","changes":[{"type":"edited","filename":"main.ts","patch":[{"start1":35,"length1":57,"diffs":[[1,"// MEWY OS v1.6 — Shooter + Real Maze\n"]]},{"start1":3255,"length1":620,"diffs":[[1,""]]},{"start1":8779,"length1":0,"diffs":[[1,"        // move is applied by engine on every frame; after a short delay we'll check collisions in next onUpdate\n"]]}]}]},{"timestamp":1764283889848,"editorVersion":"2.0.62","changes":[{"type":"edited","filename":"main.ts","patch":[{"start1":35,"length1":26,"diffs":[[1,"// MEWY OS v1.6 — Shooter + Real Maze (enemy now shoots)\n// Double-checked for MakeCode Arcade\n"]]},{"start1":166,"length1":38,"diffs":[[1,"// define a wall SpriteKind\n"]]},{"start1":217,"length1":51,"diffs":[[1,"    export const Wall = SpriteKind.create()\n"]]},{"start1":264,"length1":36,"diffs":[[1,""]]},{"start1":275,"length1":0,"diffs":[[1,"    Boot,\n"]]},{"start1":336,"length1":26,"diffs":[[1,"let currentApp = App.Boot\n"]]},{"start1":431,"length1":0,"diffs":[[1,"// --- global vars for shooter ---\nlet shooterPlayer: Sprite = null\nlet shooterEnemy: Sprite = null\nlet shooterEnemyHP = 3\n\n// --- global vars for maze ---\nlet mazePlayer: Sprite = null\nlet mazeGoal: Sprite = null\nlet mazeWalls: Sprite[] = []\nlet mazeTimer = 0\nlet mazeBest = settings.readNumber(\"mazeBest\")\nif (mazeBest == 0) mazeBest = 9999\n\n// Maze grid parameters (odd-grid carving)\nconst MAZE_CELLS_X = 11 // number of cell columns (odd carving grid will be 2*MAZE_CELLS_X+1)\nconst MAZE_CELLS_Y = 7\nconst CELL = 6 // pixel size per grid cell (small so fits 160x120)\nlet gridCols = MAZE_CELLS_X * 2 + 1\nlet gridRows = MAZE_CELLS_Y * 2 + 1\nlet mazeGrid: number[][] = [] // 0 = wall, 1 = path\n\n"]]},{"start1":1216,"length1":60,"diffs":[[1,"    . . . . . . .\n    . 5 5 . 5 5 .\n    . 5 . 5 . 5 .\n    . 5 5 . 5 5 .\n    . . . . . . .\n"]]},{"start1":1353,"length1":26,"diffs":[[1,"logo.say(\"Mewy OS\", 1200)\n"]]},{"start1":1400,"length1":12,"diffs":[[1,"pause(1300)\n"]]},{"start1":1427,"length1":0,"diffs":[[1,"currentApp = App.Menu\ndrawMenu()\n"]]},{"start1":1491,"length1":67,"diffs":[[1,"function drawMenu() {\n    scene.setBackgroundColor(9)\n"]]},{"start1":1712,"length1":62,"diffs":[[1,"            // red selection rectangle (stroke)\n            screen.drawRect(18, y - 4, 124, 16, 2)\n"]]},{"start1":1872,"length1":3,"diffs":[[1,"    screen.printCenter(\"A = Select   B = Back\", 110, 1)\n    screen.printCenter(\"BEST MAZE: \" + mazeBest + \"s\", 100, 1)\n}\n"]]},{"start1":1994,"length1":213,"diffs":[[1,"// ---------- CLEANUP helpers ----------\nfunction destroyAllKinds() {\n    sprites.destroyAllSpritesOfKind(SpriteKind.Player)\n    sprites.destroyAllSpritesOfKind(SpriteKind.Enemy)\n    sprites.destroyAllSpritesOfKind(SpriteKind.Projectile)\n    sprites.destroyAllSpritesOfKind(SpriteKind.Food)\n    sprites.destroyAllSpritesOfKind(SpriteKind.Wall)\n}\n"]]},{"start1":2341,"length1":891,"diffs":[[1,"// ---------- SHOOTER: start ----------\n"]]},{"start1":2407,"length1":0,"diffs":[[1,"    destroyAllKinds()\n"]]},{"start1":2490,"length1":0,"diffs":[[1,"\n"]]},{"start1":2535,"length1":199,"diffs":[[1,"    shooterEnemyHP = 3\n"]]},{"start1":2559,"length1":32,"diffs":[[1,"    shooterPlayer = sprites.create(img`\n"]]},{"start1":2663,"length1":75,"diffs":[[1,"    `, SpriteKind.Player)\n    shooterPlayer.setPosition(20, 60)\n    shooterPlayer.setStayInScreen(true)\n    controller.moveSprite(shooterPlayer, 100, 100)\n"]]},{"start1":2819,"length1":213,"diffs":[[1,"    shooterEnemy = sprites.create(img`\n        . 2 2 .\n        2 2 2 2\n        2 2 2 2\n        . 2 2 .\n    `, SpriteKind.Enemy)\n    shooterEnemy.setPosition(140, 60)\n"]]},{"start1":2988,"length1":104,"diffs":[[1,"// enemy AI: chase\ngame.onUpdateInterval(200, function () {\n"]]},{"start1":3090,"length1":0,"diffs":[[1,"    if (!shooterEnemy || !shooterPlayer) return\n    shooterEnemy.vx = shooterPlayer.x < shooterEnemy.x ? -40 : 40\n    shooterEnemy.vy = shooterPlayer.y < shooterEnemy.y ? -40 : 40\n})\n"]]},{"start1":3274,"length1":75,"diffs":[[1,"// ---------- ENEMY SHOOTING (ADDED) ----------\ngame.onUpdateInterval(900, function () {\n    if (currentApp != App.Shooter) return\n    if (!shooterEnemy || !shooterPlayer) return\n"]]},{"start1":3454,"length1":73,"diffs":[[1,"    // Aim at player with a little inaccuracy\n    let dx = shooterPlayer.x - shooterEnemy.x + randint(-8, 8)\n    let dy = shooterPlayer.y - shooterEnemy.y + randint(-8, 8)\n    let len = Math.sqrt(dx * dx + dy * dy)\n    if (len == 0) return\n\n    let speed = 90\n    let vx = dx / len * speed\n    let vy = dy / len * speed\n\n    sprites.createProjectileFromSprite(img`\n        . 8 .\n        8 8 8\n        . 8 .\n    `, shooterEnemy, vx, vy)\n"]]},{"start1":3894,"length1":271,"diffs":[[1,"// shooter collisions\nsprites.onOverlap(SpriteKind.Projectile, SpriteKind.Enemy, function (proj, en) {\n    if (currentApp != App.Shooter) return\n    proj.destroy()\n    shooterEnemyHP--\n    music.zapped.play()\n    info.changeScoreBy(1) // refund\n\n    if (shooterEnemyHP <= 0) {\n        en.destroy(effects.disintegrate, 300)\n        info.changeScoreBy(10)\n        pause(200)\n        // respawn enemy\n        shooterEnemy = sprites.create(img`\n            . 2 2 .\n            2 2 2 2\n            2 2 2 2\n            . 2 2 .\n        `, SpriteKind.Enemy)\n        shooterEnemy.setPosition(140, randint(20, 100))\n        shooterEnemyHP = 3\n"]]},{"start1":4537,"length1":137,"diffs":[[1,"sprites.onOverlap(SpriteKind.Projectile, SpriteKind.Player, function (proj, pl) {\n    if (currentApp != App.Shooter) return\n    proj.destroy()\n"]]},{"start1":4706,"length1":59,"diffs":[[1,"    if (info.life() <= 0) game.over(false)\n"]]},{"start1":4753,"length1":134,"diffs":[[1,"sprites.onOverlap(SpriteKind.Player, SpriteKind.Enemy, function (pl, en) {\n    if (currentApp != App.Shooter) return\n    info.changeLifeBy(-1)\n    scene.cameraShake(4, 200)\n    pause(300)\n    if (info.life() <= 0) game.over(false)\n"]]},{"start1":4988,"length1":131,"diffs":[[1,"// ---------- MAZE: generation (recursive backtracker) ----------\nfunction initMazeGrid() {\n    mazeGrid = []\n    for (let r = 0; r < gridRows; r++) {\n        mazeGrid[r] = []\n        for (let c = 0; c < gridCols; c++) {\n            mazeGrid[r][c] = 0 // wall\n        }\n    }\n}\n"]]},{"start1":5267,"length1":0,"diffs":[[1,"function carveMaze() {\n    initMazeGrid()\n    // start at (1,1)\n    let stack: number[][] = []\n    let sr = 1\n    let sc = 1\n    mazeGrid[sr][sc] = 1\n    stack.push([sr, sc])\n\n    while (stack.length > 0) {\n        let top = stack[stack.length - 1]\n        let r = top[0]\n        let c = top[1]\n        let neighbors: number[][] = []\n        // Up\n        if (r - 2 > 0 && mazeGrid[r - 2][c] == 0) neighbors.push([r - 2, c])\n        // Down\n        if (r + 2 < gridRows && mazeGrid[r + 2][c] == 0) neighbors.push([r + 2, c])\n        // Left\n        if (c - 2 > 0 && mazeGrid[r][c - 2] == 0) neighbors.push([r, c - 2])\n        // Right\n        if (c + 2 < gridCols && mazeGrid[r][c + 2] == 0) neighbors.push([r, c + 2])\n\n        if (neighbors.length > 0) {\n            let n = neighbors[randint(0, neighbors.length - 1)]\n            let nr = n[0], nc = n[1]\n            // remove wall between\n            let midR = (r + nr) >> 1\n            let midC = (c + nc) >> 1\n            mazeGrid[midR][midC] = 1\n            mazeGrid[nr][nc] = 1\n            stack.push([nr, nc])\n        } else {\n            stack.pop()\n        }\n    }\n}\n\n// convert grid (r,c) to pixel center\nfunction gridToPixel(c: number, r: number): number[] {\n    let totalW = gridCols * CELL\n    let totalH = gridRows * CELL\n    let offsetX = Math.floor((160 - totalW) / 2)\n    let offsetY = Math.floor((120 - totalH) / 2)\n    let px = offsetX + c * CELL + Math.floor(CELL / 2)\n    let py = offsetY + r * CELL + Math.floor(CELL / 2)\n    return [px, py]\n}\n\nfunction spawnMazeSprites() {\n    // destroy old walls\n    for (let w of mazeWalls) {\n        w.destroy()\n    }\n    mazeWalls = []\n\n    for (let r = 0; r < gridRows; r++) {\n        for (let c = 0; c < gridCols; c++) {\n            if (mazeGrid[r][c] == 0) {\n                let pos = gridToPixel(c, r)\n                let wall = sprites.create(image.create(CELL, CELL), SpriteKind.Wall)\n                // fill wall image\n                for (let yy = 0; yy < CELL; yy++) {\n                    for (let xx = 0; xx < CELL; xx++) {\n                        wall.image.setPixel(xx, yy, 8)\n                    }\n                }\n                wall.setPosition(pos[0], pos[1])\n                wall.setFlag(SpriteFlag.Ghost, false)\n                mazeWalls.push(wall)\n            }\n        }\n    }\n}\n\n// ---------- START MAZE ----------\n"]]},{"start1":7642,"length1":0,"diffs":[[1,"    destroyAllKinds()\n"]]},{"start1":7690,"length1":71,"diffs":[[1,"    scene.setBackgroundColor(6)\n    mazeTimer = 0\n"]]},{"start1":7741,"length1":0,"diffs":[[1,"    carveMaze()\n    spawnMazeSprites()\n\n    // place player at start (1,1)\n    let startPos = gridToPixel(1, 1)\n"]]},{"start1":7890,"length1":64,"diffs":[[1,"        . 7 7 .\n        7 7 7 7\n        7 7 7 7\n        . 7 7 .\n"]]},{"start1":7980,"length1":60,"diffs":[[1,"    mazePlayer.setPosition(startPos[0], startPos[1])\n"]]},{"start1":8079,"length1":0,"diffs":[[1,"    mazePlayer.setStayInScreen(true)\n"]]},{"start1":8117,"length1":31,"diffs":[[1,"    // place goal at opposite corner (gridRows-2, gridCols-2)\n    let exitR = gridRows - 2\n    let exitC = gridCols - 2\n    mazeGrid[exitR][exitC] = 1 // make sure it's open\n    let exitPos = gridToPixel(exitC, exitR)\n    mazeGoal = sprites.create(img`\n        . 2 2 .\n        2 2 2 2\n        2 2 2 2\n        . 2 2 .\n    `, SpriteKind.Food)\n    mazeGoal.setPosition(exitPos[0], exitPos[1])\n\n    // record previous player pos for wall collision revert\n    prevX = mazePlayer.x\n    prevY = mazePlayer.y\n"]]},{"start1":8621,"length1":228,"diffs":[[1,"// ---------- Maze timer ----------\ngame.onUpdateInterval(1000, function () {\n    if (currentApp == App.Maze) mazeTimer++\n"]]},{"start1":8747,"length1":332,"diffs":[[1,"// ---------- collision: player reaches goal ----------\nsprites.onOverlap(SpriteKind.Player, SpriteKind.Food, function () {\n    if (currentApp != App.Maze) return\n    game.splash(\"TIME: \" + mazeTimer + \"s\")\n    if (mazeTimer < mazeBest) {\n        mazeBest = mazeTimer\n        settings.writeNumber(\"mazeBest\", mazeBest)\n        game.splash(\"NEW RECORD!\")\n    }\n    destroyAllKinds()\n"]]},{"start1":9155,"length1":2,"diffs":[[1,"    drawMenu()\n})\n\n// ---------- prevent walking through walls ----------\nlet prevX = 0\nlet prevY = 0\n\ngame.onUpdate(function () {\n    if (currentApp == App.Maze && mazePlayer) {\n        // store previous\n        prevX = mazePlayer.x\n        prevY = mazePlayer.y\n    }\n})\n\ngame.onUpdateInterval(20, function () {\n    if (currentApp != App.Maze || !mazePlayer) return\n    // after movement, check overlap with any wall; if overlapping, revert to previous pos\n    for (let w of mazeWalls) {\n        if (mazePlayer.overlapsWith(w)) {\n            mazePlayer.setPosition(prevX, prevY)\n            return\n        }\n    }\n})\n\n// ---------- DRAW (minimap + HUD + menu) ----------\ngame.onPaint(function () {\n    if (currentApp == App.Menu) {\n        drawMenu()\n    } else if (currentApp == App.Shooter) {\n        screen.printCenter(\"SHOOTER\", 8, 1)\n        screen.print(\"Enemy HP: \" + shooterEnemyHP, 2, 2, 1)\n        screen.print(\"Score:\" + info.score(), 2, 12, 1)\n    } else if (currentApp == App.Maze) {\n        // HUD\n        screen.print(\"TIME: \" + mazeTimer + \"s\", 2, 2, 1)\n        screen.print(\"BEST: \" + mazeBest + \"s\", 2, 12, 1)\n\n        // minimap box top-right\n        let mapX = 110\n        let mapY = 2\n        let mapW = 46\n        let mapH = 30\n        screen.drawRect(mapX, mapY, mapW, mapH, 1)\n        // draw player dot and goal dot scaled to map (scale positions)\n        if (mazePlayer) {\n            let px = mapX + Math.floor((mazePlayer.x / 160) * (mapW - 4)) + 1\n            let py = mapY + Math.floor((mazePlayer.y / 120) * (mapH - 4)) + 1\n            screen.fillRect(px, py, 2, 2, 7)\n        }\n        if (mazeGoal) {\n            let gx = mapX + Math.floor((mazeGoal.x / 160) * (mapW - 4)) + 1\n            let gy = mapY + Math.floor((mazeGoal.y / 120) * (mapH - 4)) + 1\n            screen.fillRect(gx, gy, 2, 2, 2)\n        }\n    } else if (currentApp == App.ComingSoon) {\n        screen.fill(9)\n        screen.printCenter(\"COMING SOON\", 60, 2)\n        screen.printCenter(\"Press B\", 90, 1)\n    }\n})\n\n// ---------- INPUT: menu navigation + unified A handler ----------\ncontroller.up.onEvent(ControllerButtonEvent.Pressed, function () {\n    if (currentApp != App.Menu) return\n    selected = (selected - 1 + menuItems.length) % menuItems.length\n    drawMenu()\n})\ncontroller.down.onEvent(ControllerButtonEvent.Pressed, function () {\n    if (currentApp != App.Menu) return\n    selected = (selected + 1) % menuItems.length\n    drawMenu()\n})\n\ncontroller.B.onEvent(ControllerButtonEvent.Pressed, function () {\n    // back to menu from any game\n    if (currentApp != App.Menu) {\n        destroyAllKinds()\n        currentApp = App.Menu\n        drawMenu()\n    }\n})\n\n// SINGLE A handler (menu select, shooter shoot, maze no-op)\ncontroller.A.onEvent(ControllerButtonEvent.Pressed, function () {\n    // MENU select\n    if (currentApp == App.Menu) {\n        if (selected == 0) {\n            startShooter()\n            return\n        } else if (selected == 1) {\n            startMaze()\n            return\n        } else {\n            currentApp = App.ComingSoon\n            return\n        }\n    }\n\n    // SHOOTER shooting\n    if (currentApp == App.Shooter) {\n        info.changeScoreBy(-1) // cost\n        sprites.createProjectileFromSprite(img`\n            . 1 .\n            1 1 1\n            . 1 .\n        `, shooterPlayer, 160, 0)\n        return\n    }\n\n    // MAZE: A does nothing (could be used for auto-solve later)\n})\n\n// ---------- end of file ----------\n"]]}]}]},{"timestamp":1764284496018,"editorVersion":"2.0.62","changes":[{"type":"edited","filename":"main.ts","patch":[{"start1":0,"length1":0,"diffs":[[1,"// ===============================\n// MEWY OS – FINAL STABLE\n// ===============================\n\n// ---------- SPRITE KINDS ----------\nnamespace SpriteKind {\n    export const EnemyBullet = SpriteKind.create()\n}\n\n// ---------- APP STATES ----------\nenum App {\n    Menu,\n    Shooter,\n    Maze,\n    ComingSoon\n}\n\nlet currentApp = App.Menu\nlet selected = 0\nlet menuItems = [\"Shooter\", \"Maze\", \"Coming Soon\"]\n\n// ---------- BOOT ----------\nscene.setBackgroundColor(1)\nlet logo = sprites.create(img`\n    . 5 5 . . 5 5 .\n    . 5 . 5 . 5 . 5\n    . 5 5 . . 5 5 .\n`, SpriteKind.Player)\nlogo.setPosition(80, 50)\nlogo.say(\"Mewy OS\", 2000)\nmusic.powerUp.play()\npause(2000)\nlogo.destroy()\n\n// ---------- MENU ----------\ngame.onPaint(function () {\n    if (currentApp != App.Menu) return\n\n    screen.fill(9)\n    screen.printCenter(\"MEWY OS\", 10, 1)\n\n    for (let i = 0; i < menuItems.length; i++) {\n        let y = 40 + i * 18\n        if (i == selected) {\n            screen.drawRect(18, y - 4, 124, 14, 2) // RED BOX\n        }\n        screen.print(menuItems[i], 30, y, 1)\n    }\n})\n\n// ---------- MENU CONTROLS ----------\ncontroller.up.onEvent(ControllerButtonEvent.Pressed, function () {\n    if (currentApp == App.Menu)\n        selected = (selected - 1 + menuItems.length) % menuItems.length\n})\n\ncontroller.down.onEvent(ControllerButtonEvent.Pressed, function () {\n    if (currentApp == App.Menu)\n        selected = (selected + 1) % menuItems.length\n})\n\ncontroller.A.onEvent(ControllerButtonEvent.Pressed, function () {\n    if (currentApp != App.Menu) return\n\n    if (selected == 0) startShooter()\n    else if (selected == 1) startMaze()\n    else currentApp = App.ComingSoon\n})\n\n// ---------- BACK ----------\ncontroller.B.onEvent(ControllerButtonEvent.Pressed, function () {\n    resetToMenu()\n})\n\n// ---------- COMING SOON ----------\ngame.onPaint(function () {\n    if (currentApp == App.ComingSoon) {\n        screen.fill(9)\n        screen.printCenter(\"COMING SOON\", 60, 5)\n        screen.printCenter(\"B = Back\", 90, 1)\n    }\n})\n\n// ===============================\n// SHOOTER GAME\n// ===============================\nlet player: Sprite = null\nlet enemy: Sprite = null\nlet enemyHealth = 3\n\nfunction startShooter() {\n    currentApp = App.Shooter\n    scene.setBackgroundColor(7)\n    info.setScore(100)\n    info.setLife(3)\n\n    player = sprites.create(img`\n        . 2 2 .\n        2 2 2 2\n        2 2 2 2\n        . 2 2 .\n    `, SpriteKind.Player)\n    player.setPosition(80, 100)\n    controller.moveSprite(player, 100, 100)\n\n    enemy = sprites.create(img`\n        . 4 4 .\n        4 4 4 4\n        4 4 4 4\n        . 4 4 .\n    `, SpriteKind.Enemy)\n    enemy.setPosition(80, 30)\n    enemyHealth = 3\n\n    game.onUpdateInterval(800, function () {\n        if (currentApp != App.Shooter) return\n        let b = sprites.createProjectileFromSprite(img`4`, enemy, 0, 60)\n        b.setKind(SpriteKind.EnemyBullet)\n    })\n}\n\n// ---------- PLAYER SHOOT ----------\ncontroller.A.onEvent(ControllerButtonEvent.Pressed, function () {\n    if (currentApp != App.Shooter) return\n\n    let shot = sprites.createProjectileFromSprite(img`2`, player, 0, -100)\n\n    shot.onDestroyed(function () {\n        info.changeScoreBy(-1)\n    })\n})\n\n// ---------- HIT ENEMY ----------\nsprites.onOverlap(SpriteKind.Projectile, SpriteKind.Enemy, function (p, e) {\n    p.destroy()\n    enemyHealth--\n    music.pewPew.play()\n    if (enemyHealth <= 0) {\n        e.destroy()\n        game.splash(\"YOU WIN\")\n        resetToMenu()\n    }\n})\n\n// ---------- ENEMY BULLET HIT ----------\nsprites.onOverlap(SpriteKind.EnemyBullet, SpriteKind.Player, function (b, p) {\n    b.destroy()\n    info.changeLifeBy(-1)\n    if (info.life() <= 0) {\n        game.over(false)\n    }\n})\n\n// ---------- TOUCH ENEMY = DEAD ----------\nsprites.onOverlap(SpriteKind.Player, SpriteKind.Enemy, function () {\n    game.over(false)\n})\n\n// ===============================\n// MAZE GAME\n// ===============================\nlet mazePlayer: Sprite = null\nlet startTime = 0\n\nfunction startMaze() {\n    currentApp = App.Maze\n    tiles.setTilemap(tilemap`level1`)\n    scene.setBackgroundColor(13)\n\n    mazePlayer = sprites.create(img`\n        . 3 3 .\n        3 3 3 3\n        3 3 3 3\n        . 3 3 .\n    `, SpriteKind.Player)\n    tiles.placeOnRandomTile(mazePlayer, assets.tile`start`)\n    controller.moveSprite(mazePlayer, 80, 80)\n\n    startTime = game.runtime()\n}\n\n// ---------- MAZE FINISH ----------\nscene.onOverlapTile(SpriteKind.Player, assets.tile`finish`, function () {\n    let time = (game.runtime() - startTime) / 1000\n    game.splash(\"Done!\", \"Time: \" + time + \"s\")\n    resetToMenu()\n})\n\n// ===============================\n// RESET\n// ===============================\nfunction resetToMenu() {\n    sprites.destroyAllSpritesOfKind(SpriteKind.Player)\n    sprites.destroyAllSpritesOfKind(SpriteKind.Enemy)\n    sprites.destroyAllSpritesOfKind(SpriteKind.Projectile)\n    sprites.destroyAllSpritesOfKind(SpriteKind.EnemyBullet)\n    currentApp = App.Menu\n}\n"]]}]}]},{"timestamp":1764284505620,"editorVersion":"2.0.62","changes":[{"type":"edited","filename":"main.blocks","patch":[{"start1":0,"length1":9579,"diffs":[[1,"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable type=\"KIND_SpriteKind\" id=\"K10;JM4UhC|}eQn/[u)%\">Player</variable><variable type=\"KIND_SpriteKind\" id=\"~er+1ipXi0I^[UN`a3*#\">Projectile</variable><variable type=\"KIND_SpriteKind\" id=\"_dQK[}}9+sRGxLo,pmje\">Food</variable><variable type=\"KIND_SpriteKind\" id=\"Ql7k6Q%+3[iA+WRx8LiK\">Enemy</variable><variable id=\"`xbeyYgqoc:w%uL]]BG?\">i</variable><variable id=\"=Li;s4!`|zdItTH?tKnQ\">menuItems</variable><variable id=\"(-As/SpxD(`^8g.tvV^e\">y</variable><variable id=\"_b+sh3nJXAPx?C,MTQ|M\">selected</variable><variable id=\"@6,P!l3gyA!o4u7va@#u\">player</variable><variable id=\"5}Y_5YpV)aM_V$:0SsNz\">enemyHearts</variable><variable id=\"aG_c^~Joa,3=Uv1Haj,i\">enemy</variable><variable id=\"?xRcPH/e#nUD#H:3[Q(-\">currentApp</variable><variable id=\"P.h:7)ovmm!U_4gF!vBm\">bullet</variable><variable id=\"jU6)R*?EGZRH/iMqy!2n\">e</variable><variable id=\"M*@uk^1W{6=,hN%OmMaz\">logo</variable></variables><block type=\"pxt-on-start\" x=\"0\" y=\"0\"><statement name=\"HANDLER\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let enemy: Sprite = null\" numlines=\"1\" declaredvars=\"enemy\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let player: Sprite = null\" numlines=\"1\" declaredvars=\"player\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"enum App {\" line1=\"    Boot,\" line2=\"    Menu,\" line3=\"    Game\" line4=\"}\" numlines=\"5\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let currentApp = App.Boot\" numlines=\"1\" declaredvars=\"currentApp\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"=Li;s4!`|zdItTH?tKnQ\">menuItems</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_create_with\"><mutation items=\"1\" horizontalafter=\"3\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">Arena Shooter</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"5}Y_5YpV)aM_V$:0SsNz\">enemyHearts</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">3</field></shadow></value><next><block type=\"gamesetbackgroundcolor\"><comment pinned=\"false\" h=\"80\" w=\"160\">---------- BOOT ----------</comment><value name=\"color\"><shadow type=\"colorindexpicker\"><field name=\"index\">1</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"M*@uk^1W{6=,hN%OmMaz\">logo</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"spritescreate\"><value name=\"img\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n"]]},{"start1":2850,"length1":26210,"diffs":[[1,"`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value><value name=\"kind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Player</field></shadow></value></block></value><next><block type=\"spritesetpos\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"M*@uk^1W{6=,hN%OmMaz\">logo</field></block></value><value name=\"x\"><shadow type=\"positionPicker\"><field name=\"index\">80</field></shadow></value><value name=\"y\"><shadow type=\"positionPicker\"><field name=\"index\">50</field></shadow></value><next><block type=\"spritesay\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"1\" _input_init=\"true\"></mutation><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"M*@uk^1W{6=,hN%OmMaz\">logo</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Mewy OS</field></shadow></value><value name=\"millis\"><shadow type=\"timePicker\"><field name=\"ms\">2000</field></shadow></value><next><block type=\"mixer_play_sound\"><field name=\"sound\">music.powerUp</field><next><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">2000</field></shadow></value><next><block type=\"spritedestroy\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><field name=\"effect\">effects.spray</field><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"M*@uk^1W{6=,hN%OmMaz\">logo</field></block></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"currentApp = App.Menu\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"game.onPaint(function () {\" line1=\"    if (currentApp == App.Menu) {\" line2=\"        drawMenu()\" line3=\"    }\" line4=\"})\" numlines=\"5\"></mutation></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"gameupdate\" x=\"585\" y=\"0\"><comment pinned=\"false\" h=\"80\" w=\"160\">---------- ENEMY MOVEMENT (FAST, NO SHOOT) ----------</comment><statement name=\"HANDLER\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">NEQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"?xRcPH/e#nUD#H:3[Q(-\">currentApp</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">App.Game</field></block></value></block></value><statement name=\"DO0\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"return\" numlines=\"1\"></mutation></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">OR</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"aG_c^~Joa,3=Uv1Haj,i\">enemy</field></block></value></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@6,P!l3gyA!o4u7va@#u\">player</field></block></value></block></value></block></value><statement name=\"DO0\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"return\" numlines=\"1\"></mutation></block></statement><next><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"aG_c^~Joa,3=Uv1Haj,i\">enemy</field></block></value><value name=\"value\"><block type=\"typescript_expression\"><field name=\"EXPRESSION\">enemy.x &lt; player.x ? 40 : -40</field></block></value><next><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vy@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"aG_c^~Joa,3=Uv1Haj,i\">enemy</field></block></value><value name=\"value\"><block type=\"typescript_expression\"><field name=\"EXPRESSION\">enemy.y &lt; player.y ? 40 : -40</field></block></value></block></next></block></next></block></next></block></statement></block><block type=\"keyonevent\" x=\"1276\" y=\"0\"><field name=\"button\">controller.A</field><field name=\"event\">ControllerButtonEvent.Pressed</field><comment pinned=\"false\" h=\"80\" w=\"160\">---------- PLAYER SHOOT ----------</comment><statement name=\"HANDLER\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"?xRcPH/e#nUD#H:3[Q(-\">currentApp</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">App.Menu</field></block></value></block></value><statement name=\"DO0\"><block type=\"function_call\"><mutation name=\"startGame\" functionid=\"xbQ[)y5?r5SOjS,tRhVz\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"return\" numlines=\"1\"></mutation></block></next></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">AND</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"?xRcPH/e#nUD#H:3[Q(-\">currentApp</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">App.Game</field></block></value></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@6,P!l3gyA!o4u7va@#u\">player</field></block></value></block></value><statement name=\"DO0\"><block type=\"hudChangeScoreBy\"><comment pinned=\"false\" h=\"80\" w=\"160\">shooting costs 1 score</comment><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">-1</field></shadow></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sprites.createProjectileFromSprite(\" line1=\"            img`\" line2=\"                . 1 .\" line3=\"                1 1 1\" line4=\"                . 1 .\" line5=\"            `,\" line6=\"            player,\" line7=\"            160,\" line8=\"            0\" line9=\"        )\" numlines=\"10\"></mutation></block></next></block></statement></block></next></block></statement></block><block type=\"spritesoverlap\" x=\"1977\" y=\"0\"><comment pinned=\"false\" h=\"80\" w=\"160\">---------- BULLET HIT ENEMY ----------</comment><value name=\"HANDLER_DRAG_PARAM_sprite\"><block type=\"argument_reporter_custom\"><mutation duplicateondrag=\"true\" typename=\"Sprite\"></mutation><field name=\"VALUE\">bullet</field></block></value><value name=\"kind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Projectile</field></shadow></value><value name=\"HANDLER_DRAG_PARAM_otherSprite\"><block type=\"argument_reporter_custom\"><mutation duplicateondrag=\"true\" typename=\"Sprite\"></mutation><field name=\"VALUE\">e</field></block></value><value name=\"otherKind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Enemy</field></shadow></value><statement name=\"HANDLER\"><block type=\"spritedestroy\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><field name=\"effect\">effects.spray</field><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"P.h:7)ovmm!U_4gF!vBm\">bullet</field></block></value><next><block type=\"variables_change\"><field name=\"VAR\" id=\"5}Y_5YpV)aM_V$:0SsNz\">enemyHearts</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">-1</field></shadow></value><next><block type=\"hudChangeScoreBy\"><comment pinned=\"false\" h=\"80\" w=\"160\">refund score (hit)</comment><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"controls_if\"><data>{\"commentRefs\":[],\"fieldData\":{}}</data><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LTE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"5}Y_5YpV)aM_V$:0SsNz\">enemyHearts</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"spritedestroy\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><field name=\"effect\">effects.spray</field><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"jU6)R*?EGZRH/iMqy!2n\">e</field></block></value><next><block type=\"function_call\"><mutation name=\"spawnEnemy\" functionid=\"1a%0#Wq6D1jq4~$Y2k-p\"></mutation></block></next></block></statement></block></next></block></next></block></next></block></statement></block><block type=\"spritesoverlap\" x=\"2675\" y=\"0\"><comment pinned=\"false\" h=\"80\" w=\"160\">---------- ENEMY TOUCH DAMAGE ----------</comment><value name=\"HANDLER_DRAG_PARAM_sprite\"><block type=\"argument_reporter_custom\"><mutation duplicateondrag=\"true\" typename=\"Sprite\"></mutation><field name=\"VALUE\">sprite</field></block></value><value name=\"kind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Player</field></shadow></value><value name=\"HANDLER_DRAG_PARAM_otherSprite\"><block type=\"argument_reporter_custom\"><mutation duplicateondrag=\"true\" typename=\"Sprite\"></mutation><field name=\"VALUE\">otherSprite</field></block></value><value name=\"otherKind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Enemy</field></shadow></value><statement name=\"HANDLER\"><block type=\"hudChangeLifeBy\"><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">-1</field></shadow></value><next><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">300</field></shadow></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LTE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"hudLife\"></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"gameOver\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><field name=\"effect\">effects.confetti</field><value name=\"win\"><shadow type=\"toggleWinLose\"><field name=\"win\">false</field></shadow></value></block></statement></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"0\" y=\"1183\"><mutation name=\"drawMenu\" functionid=\"YzzKu{{3#F_h;~{2;%Bi\"></mutation><field name=\"function_name\">drawMenu</field><comment pinned=\"false\" h=\"80\" w=\"160\">---------- MENU ----------</comment><statement name=\"STACK\"><block type=\"Image_fill\"><value name=\"picture\"><block type=\"typescript_expression\"><field name=\"EXPRESSION\">screen</field></block></value><value name=\"c\"><shadow type=\"colorindexpicker\"><field name=\"index\">9</field></shadow></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"screen.printCenter(&quot;MEWY OS&quot;, 10, 1)\" numlines=\"1\"></mutation><next><block type=\"pxt_controls_for\"><value name=\"VAR\"><block type=\"variables_get_reporter\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VAR\" id=\"`xbeyYgqoc:w%uL]]BG?\">i</field></block></value><value name=\"TO\"><shadow type=\"math_whole_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"=Li;s4!`|zdItTH?tKnQ\">menuItems</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><statement name=\"DO\"><block type=\"variables_set\"><field name=\"VAR\" id=\"(-As/SpxD(`^8g.tvV^e\">y</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">50</field></shadow></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"`xbeyYgqoc:w%uL]]BG?\">i</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">18</field></shadow></value></block></value></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"`xbeyYgqoc:w%uL]]BG?\">i</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"_b+sh3nJXAPx?C,MTQ|M\">selected</field></block></value></block></value><statement name=\"DO0\"><block type=\"Image_drawRect\"><comment pinned=\"false\" h=\"80\" w=\"160\">red box</comment><value name=\"picture\"><block type=\"typescript_expression\"><field name=\"EXPRESSION\">screen</field></block></value><value name=\"x\"><shadow type=\"math_number\"><field name=\"NUM\">20</field></shadow></value><value name=\"y\"><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"(-As/SpxD(`^8g.tvV^e\">y</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">4</field></shadow></value></block></value><value name=\"w\"><shadow type=\"math_number\"><field name=\"NUM\">120</field></shadow></value><value name=\"h\"><shadow type=\"math_number\"><field name=\"NUM\">14</field></shadow></value><value name=\"c\"><shadow type=\"colorindexpicker\"><field name=\"index\">2</field></shadow></value></block></statement><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"screen.print(menuItems[i], 30, y, 1)\" numlines=\"1\"></mutation></block></next></block></next></block></statement><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"screen.printCenter(&quot;A = Start&quot;, 105, 1)\" numlines=\"1\"></mutation></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"932\" y=\"1183\"><mutation name=\"startGame\" functionid=\"xbQ[)y5?r5SOjS,tRhVz\"></mutation><field name=\"function_name\">startGame</field><comment pinned=\"false\" h=\"80\" w=\"160\">---------- START GAME ----------</comment><statement name=\"STACK\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"currentApp = App.Game\" numlines=\"1\"></mutation><next><block type=\"gamesetbackgroundcolor\"><value name=\"color\"><shadow type=\"colorindexpicker\"><field name=\"index\">7</field></shadow></value><next><block type=\"Image_fill\"><value name=\"picture\"><block type=\"typescript_expression\"><field name=\"EXPRESSION\">screen</field></block></value><value name=\"c\"><shadow type=\"colorindexpicker\"><field name=\"index\">7</field></shadow></value><next><block type=\"sprites_destroy_all_sprites_of_kind\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><field name=\"effect\">effects.spray</field><value name=\"kind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Player</field></shadow></value><next><block type=\"sprites_destroy_all_sprites_of_kind\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><field name=\"effect\">effects.spray</field><value name=\"kind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Enemy</field></shadow></value><next><block type=\"sprites_destroy_all_sprites_of_kind\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><field name=\"effect\">effects.spray</field><value name=\"kind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Projectile</field></shadow></value><next><block type=\"hudSetLife\"><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">3</field></shadow></value><next><block type=\"hudsetScore\"><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">100</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"@6,P!l3gyA!o4u7va@#u\">player</field><comment pinned=\"false\" h=\"80\" w=\"160\">PLAYER</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"spritescreate\"><value name=\"img\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n"]]},{"start1":20735,"length1":17877,"diffs":[[1,"`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value><value name=\"kind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Player</field></shadow></value></block></value><next><block type=\"spritesetpos\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"@6,P!l3gyA!o4u7va@#u\">player</field></block></value><value name=\"x\"><shadow type=\"positionPicker\"><field name=\"index\">25</field></shadow></value><value name=\"y\"><shadow type=\"positionPicker\"><field name=\"index\">60</field></shadow></value><next><block type=\"spritesetsetstayinscreen\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"@6,P!l3gyA!o4u7va@#u\">player</field></block></value><value name=\"on\"><shadow type=\"toggleOnOff\"><field name=\"on\">true</field></shadow></value><next><block type=\"game_control_sprite\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"@6,P!l3gyA!o4u7va@#u\">player</field></block></value><value name=\"vx\"><shadow type=\"spriteSpeedPicker\"><field name=\"speed\">100</field></shadow></value><value name=\"vy\"><shadow type=\"spriteSpeedPicker\"><field name=\"speed\">100</field></shadow></value><next><block type=\"function_call\"><mutation name=\"spawnEnemy\" functionid=\"1a%0#Wq6D1jq4~$Y2k-p\"></mutation></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"1516\" y=\"1183\"><mutation name=\"spawnEnemy\" functionid=\"1a%0#Wq6D1jq4~$Y2k-p\"></mutation><field name=\"function_name\">spawnEnemy</field><comment pinned=\"false\" h=\"80\" w=\"160\">---------- SPAWN ENEMY ----------</comment><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\"5}Y_5YpV)aM_V$:0SsNz\">enemyHearts</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">3</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"aG_c^~Joa,3=Uv1Haj,i\">enemy</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"spritescreate\"><value name=\"img\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n"]]},{"start1":23068,"length1":51760,"diffs":[[1,"`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value><value name=\"kind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Enemy</field></shadow></value></block></value><next><block type=\"spritesetpos\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"aG_c^~Joa,3=Uv1Haj,i\">enemy</field></block></value><value name=\"x\"><shadow type=\"positionPicker\"><field name=\"index\">140</field></shadow></value><value name=\"y\"><shadow type=\"positionPicker\"><field name=\"index\">0</field></shadow><block type=\"device_random\"><value name=\"min\"><shadow type=\"math_number\"><field name=\"NUM\">20</field></shadow></value><value name=\"limit\"><shadow type=\"math_number\"><field name=\"NUM\">100</field></shadow></value></block></value></block></next></block></next></block></statement></block></xml>"]]}]},{"type":"edited","filename":"main.ts","patch":[{"start1":0,"length1":12534,"diffs":[[1,""]]}]},{"type":"edited","filename":"pxt.json","patch":[{"start1":245,"length1":35,"diffs":[[1,"    \"preferredEditor\": \"tsprj\"\n"]]}]}]},{"timestamp":1764286511670,"editorVersion":"2.0.62","changes":[{"type":"edited","filename":"main.ts","patch":[{"start1":9974,"length1":19,"diffs":[[1,"logo.say(\"Mewy OS\", 1200)\n"]]}]}]},{"timestamp":1764286541609,"editorVersion":"2.0.62","changes":[{"type":"edited","filename":"main.blocks","patch":[{"start1":0,"length1":3451,"diffs":[[1,"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable type=\"KIND_SpriteKind\" id=\"ReXd^b13$~4E0=`o:f%}\">Wall</variable><variable type=\"KIND_SpriteKind\" id=\"e$%5q)_sza917T*Sjy,K\">Player</variable><variable type=\"KIND_SpriteKind\" id=\"#bmpg@WeO{_CRQpR2^rK\">Projectile</variable><variable type=\"KIND_SpriteKind\" id=\"O4~$=rYx/;jHeP5IHc2G\">Food</variable><variable type=\"KIND_SpriteKind\" id=\"ONDI,tHwz4o?~7|QG7Av\">Enemy</variable><variable id=\"H=Z9jCOG56`7?rv^nrUi\">i</variable><variable id=\"P21_,U8~ynqyk.[bQ;0k\">menuItems</variable><variable id=\"_D_;p|a?.Aw,9iFIHW6u\">y</variable><variable id=\"[Hij/P%Vv#EeSkb%[j.0\">selected</variable><variable id=\"3^w,8d?:.(w9qXvMez3/\">shooterEnemyHP</variable><variable id=\"-bE#q^0h+W^roo:{#hVh\">shooterPlayer</variable><variable id=\"sXdk|/zTzyZiJx*)Y0NS\">shooterEnemy</variable><variable id=\"aZEQj3~LtgGgNJdID/.R\">currentApp</variable><variable id=\")?rbLy[bRfqz(EMq]*Q9\">proj</variable><variable id=\"-3#yd)AW56YC[:WV4Uip\">en</variable><variable id=\"}*wFu?kV%j#;hiV+Tc%J\">mazeGrid</variable><variable id=\"U~ut=I8upPO_)[^A:G,f\">r</variable><variable id=\"68sO/eIcieQ_IJjDxG)c\">gridRows</variable><variable id=\"OG#pvyN@5OQEx/mye;Sy\">c</variable><variable id=\"@t_xB1te`ZVkhG$MW,-a\">gridCols</variable><variable id=\"ZVi}xbOt}spw?1=0kZ*)\">sr</variable><variable id=\"(RLn4XD)XKc~/hyxY!CS\">sc</variable><variable id=\"2D0i%pO-](gu/0$v^eK4\">stack</variable><variable id=\"B1^pQ~G:~VvO8@EWBERe\">top</variable><variable id=\"65fN=6eE-Z_S31OVOnGv\">s</variable><variable id=\"/U6]zrEzKtN#}yh7gffR\">d</variable><variable id=\")K8Xbbb6b0i;D2@ij$~h\">neighbors</variable><variable id=\"fO6z~T`$*0(jBA(?~epG\">n</variable><variable id=\"RSMk_1jVi_0OE@M$NtyG\">nr</variable><variable id=\"$v|%K!Mc%qo4#F{1!wiS\">nc</variable><variable id=\"HDTCPf+#}MP3!zxdZ1Ib\">midR</variable><variable id=\"rPD!=y~8t6qSn]M46@:X\">midC</variable><variable id=\"1mxy#BbgV{6nu4qH]WQL\">totalW</variable><variable id=\"d05}jO,/t.s!*dpa+cc6\">CELL</variable><variable id=\"b27wN`a-rI=y~XPv~glu\">totalH</variable><variable id=\")P/vL8(AW(mMsNe!wAPZ\">offsetX</variable><variable id=\"7:]Toyy5bD#)7j*J332-\">offsetY</variable><variable id=\"9PMIH|B,R)X`}w66X:/e\">px</variable><variable id=\"EyQq/S4:9blQ93x59N8a\">py</variable><variable id=\"F6YE+B4rI#UTdhVBFEfu\">mazeWalls</variable><variable id=\"=6rY8+dwOOyIeX0W5a/=\">w</variable><variable id=\"vHKbZ4R[o+~``vCtZqov\">t</variable><variable id=\"HMcu-YnvOoeZE%8sT.qN\">e</variable><variable id=\"d81{_y_zA3#8tfvn*A]~\">pos</variable><variable id=\"A9_3+KF%?RgMq{3m!9EQ\">wall</variable><variable id=\"@aOT,Ck?qqA)VCfG7A}u\">yy</variable><variable id=\"3N61hoHl|r;93!wbL/Oa\">xx</variable><variable id=\"kLS5JKhg!J.[1jjY*T)7\">mazeTimer</variable><variable id=\"HT@oWqX:N.#hhu8x)Ld.\">startPos</variable><variable id=\"/k(7x2=,QYSVph7=vjd1\">mazePlayer</variable><variable id=\"=1;|.LFU$;zyBpVC!1,n\">exitR</variable><variable id=\"bvoQ3sT`HQtG+lq]~YoN\">exitC</variable><variable id=\"4iDki$brlD~Lk.)yP5+(\">exitPos</variable><variable id=\"UV9Ko6aP^;.bX;rw4#-8\">mazeGoal</variable><variable id=\"^z:[]n[hgG_$E57qg~a~\">prevX</variable><variable id=\"l;P4?G`rva@8}r0go5=V\">prevY</variable><variable id=\"yy~|Ctv,9TRG]]6k/@l9\">mazeBest</variable><variable id=\"tp9j?M.qew4ff;8SvsdR\">a</variable><variable id=\"xOY=gpxxPKn)naZ5U`s1\">MAZE_CELLS_X</variable><variable id=\"FXUfHII5170ShQ)YD~@(\">MAZE_CELLS_Y</variable><variable id=\"%0on7tY[jyT48?{6GNX.\">logo</variable></variables><comment x=\"4327.546875\" y=\"4216\" w=\"480\" h=\"120\">\n"]]},{"start1":3484,"length1":80,"diffs":[[1,"</comment><comment x=\"4852.546875\" y=\"4216\" w=\"330\" h=\"120\">\n"]]},{"start1":3579,"length1":7428,"diffs":[[1,"</comment><block type=\"pxt-on-start\" x=\"20\" y=\"20\"><statement name=\"HANDLER\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let mazeTimer = 0\" numlines=\"1\" declaredvars=\"mazeTimer\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let mazeGoal: Sprite = null\" numlines=\"1\" declaredvars=\"mazeGoal\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let mazePlayer: Sprite = null\" numlines=\"1\" declaredvars=\"mazePlayer\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">--- global vars for maze ---</comment><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let shooterEnemy: Sprite = null\" numlines=\"1\" declaredvars=\"shooterEnemy\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let shooterPlayer: Sprite = null\" numlines=\"1\" declaredvars=\"shooterPlayer\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">--- global vars for shooter ---</comment><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"enum App {\" line1=\"    Boot,\" line2=\"    Menu,\" line3=\"    Shooter,\" line4=\"    Maze,\" line5=\"    ComingSoon\" line6=\"}\" numlines=\"7\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let currentApp = App.Boot\" numlines=\"1\" declaredvars=\"currentApp\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"P21_,U8~ynqyk.[bQ;0k\">menuItems</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_create_with\"><mutation items=\"3\" horizontalafter=\"3\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">Shooter</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">Maze</field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">Coming Soon</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"3^w,8d?:.(w9qXvMez3/\">shooterEnemyHP</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">3</field></shadow></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let mazeBest = settings.readNumber(&quot;mazeBest&quot;)\" numlines=\"1\" declaredvars=\"mazeBest\"></mutation><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"yy~|Ctv,9TRG]]6k/@l9\">mazeBest</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"yy~|Ctv,9TRG]]6k/@l9\">mazeBest</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">9999</field></shadow></value></block></statement><next><block type=\"variables_set\"><field name=\"VAR\" id=\"xOY=gpxxPKn)naZ5U`s1\">MAZE_CELLS_X</field><comment pinned=\"false\" h=\"80\" w=\"160\">Maze grid parameters (odd-grid carving)\nnumber of cell columns (odd carving grid will be 2*MAZE_CELLS_X+1)</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">11</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"FXUfHII5170ShQ)YD~@(\">MAZE_CELLS_Y</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">7</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"d05}jO,/t.s!*dpa+cc6\">CELL</field><comment pinned=\"false\" h=\"80\" w=\"160\">pixel size per grid cell (small so fits 160x120)</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">6</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"@t_xB1te`ZVkhG$MW,-a\">gridCols</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"xOY=gpxxPKn)naZ5U`s1\">MAZE_CELLS_X</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"68sO/eIcieQ_IJjDxG)c\">gridRows</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"FXUfHII5170ShQ)YD~@(\">MAZE_CELLS_Y</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><next><block type=\"gamesetbackgroundcolor\"><comment pinned=\"false\" h=\"80\" w=\"160\">0 = wall, 1 = path\n---------- BOOT ----------</comment><value name=\"color\"><shadow type=\"colorindexpicker\"><field name=\"index\">1</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"%0on7tY[jyT48?{6GNX.\">logo</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"spritescreate\"><value name=\"img\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n"]]},{"start1":9654,"length1":32390,"diffs":[[1,"`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value><value name=\"kind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Player</field></shadow></value></block></value><next><block type=\"spritesetpos\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%0on7tY[jyT48?{6GNX.\">logo</field></block></value><value name=\"x\"><shadow type=\"positionPicker\"><field name=\"index\">80</field></shadow></value><value name=\"y\"><shadow type=\"positionPicker\"><field name=\"index\">50</field></shadow></value><next><block type=\"spritesay\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"1\" _input_init=\"true\"></mutation><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%0on7tY[jyT48?{6GNX.\">logo</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Mewy OS</field></shadow></value><value name=\"millis\"><shadow type=\"timePicker\"><field name=\"ms\">1200</field></shadow></value><next><block type=\"mixer_play_sound\"><field name=\"sound\">music.powerUp</field><next><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">1300</field></shadow></value><next><block type=\"spritedestroy\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><field name=\"effect\">effects.spray</field><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%0on7tY[jyT48?{6GNX.\">logo</field></block></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"currentApp = App.Menu\" numlines=\"1\"></mutation><next><block type=\"function_call\"><mutation name=\"drawMenu\" functionid=\"(svOza?c_UeI1!CB:}A!\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"game.onPaint(function () {\" line1=\"    if (currentApp == App.Menu) {\" line2=\"        drawMenu()\" line3=\"    } else if (currentApp == App.Shooter) {\" line4=\"        screen.printCenter(&quot;SHOOTER&quot;, 8, 1)\" line5=\"        screen.print(&quot;Enemy HP: &quot; + shooterEnemyHP, 2, 2, 1)\" line6=\"        screen.print(&quot;Score:&quot; + info.score(), 2, 12, 1)\" line7=\"    } else if (currentApp == App.Maze) {\" line8=\"        // HUD\" line9=\"        screen.print(&quot;TIME: &quot; + mazeTimer + &quot;s&quot;, 2, 2, 1)\" line10=\"        screen.print(&quot;BEST: &quot; + mazeBest + &quot;s&quot;, 2, 12, 1)\" line11=\"\" line12=\"        // minimap box top-right\" line13=\"        let mapX = 110\" line14=\"        let mapY = 2\" line15=\"        let mapW = 46\" line16=\"        let mapH = 30\" line17=\"        screen.drawRect(mapX, mapY, mapW, mapH, 1)\" line18=\"        // draw player dot and goal dot scaled to map (scale positions)\" line19=\"        if (mazePlayer) {\" line20=\"            let px2 = mapX + Math.floor((mazePlayer.x / 160) * (mapW - 4)) + 1\" line21=\"            let py2 = mapY + Math.floor((mazePlayer.y / 120) * (mapH - 4)) + 1\" line22=\"            screen.fillRect(px2, py2, 2, 2, 7)\" line23=\"        }\" line24=\"        if (mazeGoal) {\" line25=\"            let gx = mapX + Math.floor((mazeGoal.x / 160) * (mapW - 4)) + 1\" line26=\"            let gy = mapY + Math.floor((mazeGoal.y / 120) * (mapH - 4)) + 1\" line27=\"            screen.fillRect(gx, gy, 2, 2, 2)\" line28=\"        }\" line29=\"    } else if (currentApp == App.ComingSoon) {\" line30=\"        screen.fill(9)\" line31=\"        screen.printCenter(&quot;COMING SOON&quot;, 60, 2)\" line32=\"        screen.printCenter(&quot;Press B&quot;, 90, 1)\" line33=\"    }\" line34=\"})\" numlines=\"35\"></mutation></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"gameinterval\" x=\"783\" y=\"20\"><comment pinned=\"false\" h=\"80\" w=\"160\">enemy AI: chase</comment><value name=\"period\"><shadow type=\"timePicker\"><field name=\"ms\">200</field></shadow></value><statement name=\"HANDLER\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">NEQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"aZEQj3~LtgGgNJdID/.R\">currentApp</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">App.Shooter</field></block></value></block></value><statement name=\"DO0\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"return\" numlines=\"1\"></mutation></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">OR</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"sXdk|/zTzyZiJx*)Y0NS\">shooterEnemy</field></block></value></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"-bE#q^0h+W^roo:{#hVh\">shooterPlayer</field></block></value></block></value></block></value><statement name=\"DO0\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"return\" numlines=\"1\"></mutation></block></statement><next><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"sXdk|/zTzyZiJx*)Y0NS\">shooterEnemy</field></block></value><value name=\"value\"><block type=\"typescript_expression\"><field name=\"EXPRESSION\">shooterPlayer.x &lt; shooterEnemy.x ? -40 : 40</field></block></value><next><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vy@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"sXdk|/zTzyZiJx*)Y0NS\">shooterEnemy</field></block></value><value name=\"value\"><block type=\"typescript_expression\"><field name=\"EXPRESSION\">shooterPlayer.y &lt; shooterEnemy.y ? -40 : 40</field></block></value></block></next></block></next></block></next></block></statement></block><block type=\"gameinterval\" x=\"1660\" y=\"20\"><comment pinned=\"false\" h=\"80\" w=\"160\">---------- Maze timer ----------</comment><value name=\"period\"><shadow type=\"timePicker\"><field name=\"ms\">1000</field></shadow></value><statement name=\"HANDLER\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"aZEQj3~LtgGgNJdID/.R\">currentApp</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">App.Maze</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_change\"><field name=\"VAR\" id=\"kLS5JKhg!J.[1jjY*T)7\">mazeTimer</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></statement></block></statement></block><block type=\"gameinterval\" x=\"2153\" y=\"20\"><value name=\"period\"><shadow type=\"timePicker\"><field name=\"ms\">20</field></shadow></value><statement name=\"HANDLER\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">OR</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">NEQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"aZEQj3~LtgGgNJdID/.R\">currentApp</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">App.Maze</field></block></value></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"/k(7x2=,QYSVph7=vjd1\">mazePlayer</field></block></value></block></value></block></value><statement name=\"DO0\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"return\" numlines=\"1\"></mutation></block></statement><next><block type=\"pxt_controls_for_of\"><comment pinned=\"false\" h=\"80\" w=\"160\">after movement, check overlap with any wall; if overlapping, revert to previous pos</comment><value name=\"VAR\"><block type=\"variables_get_reporter\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VAR\" id=\"tp9j?M.qew4ff;8SvsdR\">a</field></block></value><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"F6YE+B4rI#UTdhVBFEfu\">mazeWalls</field></block></value><statement name=\"DO\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"spriteoverlapswith\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"/k(7x2=,QYSVph7=vjd1\">mazePlayer</field></block></value><value name=\"other\"><block type=\"variables_get\"><field name=\"VAR\" id=\"tp9j?M.qew4ff;8SvsdR\">a</field></block></value></block></value><statement name=\"DO0\"><block type=\"spritesetpos\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"/k(7x2=,QYSVph7=vjd1\">mazePlayer</field></block></value><value name=\"x\"><shadow type=\"positionPicker\"><field name=\"index\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"^z:[]n[hgG_$E57qg~a~\">prevX</field></block></value><value name=\"y\"><shadow type=\"positionPicker\"><field name=\"index\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"l;P4?G`rva@8}r0go5=V\">prevY</field></block></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"return\" numlines=\"1\"></mutation></block></next></block></statement></block></statement></block></next></block></statement></block><block type=\"gameupdate\" x=\"2942\" y=\"20\"><statement name=\"HANDLER\"><block type=\"controls_if\"><comment pinned=\"false\" h=\"80\" w=\"160\">move is applied by engine on every frame; after a short delay we'll check collisions in next onUpdate</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">AND</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"aZEQj3~LtgGgNJdID/.R\">currentApp</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">App.Maze</field></block></value></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"/k(7x2=,QYSVph7=vjd1\">mazePlayer</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"^z:[]n[hgG_$E57qg~a~\">prevX</field><comment pinned=\"false\" h=\"80\" w=\"160\">store previous</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"Sprite_blockCombine_get\"><field name=\"property\">Sprite.x</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"/k(7x2=,QYSVph7=vjd1\">mazePlayer</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"l;P4?G`rva@8}r0go5=V\">prevY</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"Sprite_blockCombine_get\"><field name=\"property\">Sprite.y</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"/k(7x2=,QYSVph7=vjd1\">mazePlayer</field></block></value></block></value></block></next></block></statement></block></statement></block><block type=\"keyonevent\" x=\"3688\" y=\"20\"><field name=\"button\">controller.up</field><field name=\"event\">ControllerButtonEvent.Pressed</field><comment pinned=\"false\" h=\"80\" w=\"160\">---------- INPUT: menu navigation + unified A handler ----------</comment><statement name=\"HANDLER\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">NEQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"aZEQj3~LtgGgNJdID/.R\">currentApp</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">App.Menu</field></block></value></block></value><statement name=\"DO0\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"return\" numlines=\"1\"></mutation></block></statement><next><block type=\"variables_set\"><field name=\"VAR\" id=\"[Hij/P%Vv#EeSkb%[j.0\">selected</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_modulo\"><value name=\"DIVIDEND\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"[Hij/P%Vv#EeSkb%[j.0\">selected</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"P21_,U8~ynqyk.[bQ;0k\">menuItems</field></block></value></block></value></block></value><value name=\"DIVISOR\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"P21_,U8~ynqyk.[bQ;0k\">menuItems</field></block></value></block></value></block></value><next><block type=\"function_call\"><mutation name=\"drawMenu\" functionid=\"(svOza?c_UeI1!CB:}A!\"></mutation></block></next></block></next></block></statement></block><block type=\"keyonevent\" x=\"4950\" y=\"20\"><field name=\"button\">controller.down</field><field name=\"event\">ControllerButtonEvent.Pressed</field><statement name=\"HANDLER\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">NEQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"aZEQj3~LtgGgNJdID/.R\">currentApp</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">App.Menu</field></block></value></block></value><statement name=\"DO0\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"return\" numlines=\"1\"></mutation></block></statement><next><block type=\"variables_set\"><field name=\"VAR\" id=\"[Hij/P%Vv#EeSkb%[j.0\">selected</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_modulo\"><value name=\"DIVIDEND\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"[Hij/P%Vv#EeSkb%[j.0\">selected</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><value name=\"DIVISOR\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"P21_,U8~ynqyk.[bQ;0k\">menuItems</field></block></value></block></value></block></value><next><block type=\"function_call\"><mutation name=\"drawMenu\" functionid=\"(svOza?c_UeI1!CB:}A!\"></mutation></block></next></block></next></block></statement></block><block type=\"keyonevent\" x=\"5864\" y=\"20\"><field name=\"button\">controller.B</field><field name=\"event\">ControllerButtonEvent.Pressed</field><statement name=\"HANDLER\"><block type=\"controls_if\"><comment pinned=\"false\" h=\"80\" w=\"160\">back to menu from any game</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">NEQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"aZEQj3~LtgGgNJdID/.R\">currentApp</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">App.Menu</field></block></value></block></value><statement name=\"DO0\"><block type=\"function_call\"><mutation name=\"destroyAllKinds\" functionid=\":N;1Lqr9Bxi|[Ty!.7B-\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"currentApp = App.Menu\" numlines=\"1\"></mutation><next><block type=\"function_call\"><mutation name=\"drawMenu\" functionid=\"(svOza?c_UeI1!CB:}A!\"></mutation></block></next></block></next></block></statement></block></statement></block><block type=\"keyonevent\" x=\"20\" y=\"3131\"><field name=\"button\">controller.A</field><field name=\"event\">ControllerButtonEvent.Pressed</field><comment pinned=\"false\" h=\"80\" w=\"160\">SINGLE A handler (menu select, shooter shoot, maze no-op)\nMAZE: A does nothing (could be used for auto-solve later)</comment><statement name=\"HANDLER\"><block type=\"controls_if\"><comment pinned=\"false\" h=\"80\" w=\"160\">MENU select</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"aZEQj3~LtgGgNJdID/.R\">currentApp</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">App.Menu</field></block></value></block></value><statement name=\"DO0\"><block type=\"controls_if\"><mutation elseif=\"1\" else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"[Hij/P%Vv#EeSkb%[j.0\">selected</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"function_call\"><mutation name=\"startShooter\" functionid=\"W8Ik~)[HgxWv#Zy:fQl.\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"return\" numlines=\"1\"></mutation></block></next></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"[Hij/P%Vv#EeSkb%[j.0\">selected</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><statement name=\"DO1\"><block type=\"function_call\"><mutation name=\"startMaze\" functionid=\"4HjBOkW;V=fteA5oe#U}\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"return\" numlines=\"1\"></mutation></block></next></block></statement><statement name=\"ELSE\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"currentApp = App.ComingSoon\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"return\" numlines=\"1\"></mutation></block></next></block></statement></block></statement><next><block type=\"controls_if\"><comment pinned=\"false\" h=\"80\" w=\"160\">SHOOTER shooting</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"aZEQj3~LtgGgNJdID/.R\">currentApp</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">App.Shooter</field></block></value></block></value><statement name=\"DO0\"><block type=\"hudChangeScoreBy\"><comment pinned=\"false\" h=\"80\" w=\"160\">cost</comment><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">-1</field></shadow></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sprites.createProjectileFromSprite(img`\" line1=\"            . 1 .\" line2=\"            1 1 1\" line3=\"            . 1 .\" line4=\"        `, shooterPlayer, 160, 0)\" numlines=\"5\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"return\" numlines=\"1\"></mutation></block></next></block></next></block></statement></block></next></block></statement></block><block type=\"spritesoverlap\" x=\"550\" y=\"3131\"><comment pinned=\"false\" h=\"80\" w=\"160\">shooter collisions</comment><value name=\"HANDLER_DRAG_PARAM_sprite\"><block type=\"argument_reporter_custom\"><mutation duplicateondrag=\"true\" typename=\"Sprite\"></mutation><field name=\"VALUE\">proj</field></block></value><value name=\"kind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Projectile</field></shadow></value><value name=\"HANDLER_DRAG_PARAM_otherSprite\"><block type=\"argument_reporter_custom\"><mutation duplicateondrag=\"true\" typename=\"Sprite\"></mutation><field name=\"VALUE\">en</field></block></value><value name=\"otherKind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Enemy</field></shadow></value><statement name=\"HANDLER\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">NEQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"aZEQj3~LtgGgNJdID/.R\">currentApp</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">App.Shooter</field></block></value></block></value><statement name=\"DO0\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"return\" numlines=\"1\"></mutation></block></statement><next><block type=\"spritedestroy\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><field name=\"effect\">effects.spray</field><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\")?rbLy[bRfqz(EMq]*Q9\">proj</field></block></value><next><block type=\"variables_change\"><field name=\"VAR\" id=\"3^w,8d?:.(w9qXvMez3/\">shooterEnemyHP</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">-1</field></shadow></value><next><block type=\"mixer_play_sound\"><field name=\"sound\">music.zapped</field><next><block type=\"hudChangeScoreBy\"><comment pinned=\"false\" h=\"80\" w=\"160\">refund</comment><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"controls_if\"><data>{\"commentRefs\":[],\"fieldData\":{}}</data><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LTE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"3^w,8d?:.(w9qXvMez3/\">shooterEnemyHP</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"spritedestroy\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><field name=\"effect\">effects.disintegrate</field><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"-3#yd)AW56YC[:WV4Uip\">en</field></block></value><value name=\"duration\"><shadow type=\"timePicker\"><field name=\"ms\">300</field></shadow></value><next><block type=\"hudChangeScoreBy\"><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">10</field></shadow></value><next><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">200</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"sXdk|/zTzyZiJx*)Y0NS\">shooterEnemy</field><comment pinned=\"false\" h=\"80\" w=\"160\">respawn enemy</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"spritescreate\"><value name=\"img\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n"]]},{"start1":35900,"length1":22271,"diffs":[[1,"`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value><value name=\"kind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Enemy</field></shadow></value></block></value><next><block type=\"spritesetpos\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"sXdk|/zTzyZiJx*)Y0NS\">shooterEnemy</field></block></value><value name=\"x\"><shadow type=\"positionPicker\"><field name=\"index\">140</field></shadow></value><value name=\"y\"><shadow type=\"positionPicker\"><field name=\"index\">0</field></shadow><block type=\"device_random\"><value name=\"min\"><shadow type=\"math_number\"><field name=\"NUM\">20</field></shadow></value><value name=\"limit\"><shadow type=\"math_number\"><field name=\"NUM\">100</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"3^w,8d?:.(w9qXvMez3/\">shooterEnemyHP</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">3</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"spritesoverlap\" x=\"1285\" y=\"3131\"><value name=\"HANDLER_DRAG_PARAM_sprite\"><block type=\"argument_reporter_custom\"><mutation duplicateondrag=\"true\" typename=\"Sprite\"></mutation><field name=\"VALUE\">proj</field></block></value><value name=\"kind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Projectile</field></shadow></value><value name=\"HANDLER_DRAG_PARAM_otherSprite\"><block type=\"argument_reporter_custom\"><mutation duplicateondrag=\"true\" typename=\"Sprite\"></mutation><field name=\"VALUE\">pl</field></block></value><value name=\"otherKind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Player</field></shadow></value><statement name=\"HANDLER\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">NEQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"aZEQj3~LtgGgNJdID/.R\">currentApp</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">App.Shooter</field></block></value></block></value><statement name=\"DO0\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"return\" numlines=\"1\"></mutation></block></statement><next><block type=\"spritedestroy\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><field name=\"effect\">effects.spray</field><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\")?rbLy[bRfqz(EMq]*Q9\">proj</field></block></value><next><block type=\"hudChangeLifeBy\"><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">-1</field></shadow></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LTE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"hudLife\"></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"gameOver\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><field name=\"effect\">effects.confetti</field><value name=\"win\"><shadow type=\"toggleWinLose\"><field name=\"win\">false</field></shadow></value></block></statement></block></next></block></next></block></next></block></statement></block><block type=\"spritesoverlap\" x=\"1949\" y=\"3131\"><value name=\"HANDLER_DRAG_PARAM_sprite\"><block type=\"argument_reporter_custom\"><mutation duplicateondrag=\"true\" typename=\"Sprite\"></mutation><field name=\"VALUE\">pl</field></block></value><value name=\"kind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Player</field></shadow></value><value name=\"HANDLER_DRAG_PARAM_otherSprite\"><block type=\"argument_reporter_custom\"><mutation duplicateondrag=\"true\" typename=\"Sprite\"></mutation><field name=\"VALUE\">en</field></block></value><value name=\"otherKind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Enemy</field></shadow></value><statement name=\"HANDLER\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">NEQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"aZEQj3~LtgGgNJdID/.R\">currentApp</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">App.Shooter</field></block></value></block></value><statement name=\"DO0\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"return\" numlines=\"1\"></mutation></block></statement><next><block type=\"hudChangeLifeBy\"><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">-1</field></shadow></value><next><block type=\"camerashake\"><value name=\"amplitude\"><shadow type=\"math_number_minmax\"><mutation min=\"1\" max=\"8\" precision=\"0\"></mutation><field name=\"SLIDER\">4</field></shadow></value><value name=\"duration\"><shadow type=\"timePicker\"><field name=\"ms\">200</field></shadow></value><next><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">300</field></shadow></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LTE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"hudLife\"></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"gameOver\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><field name=\"effect\">effects.confetti</field><value name=\"win\"><shadow type=\"toggleWinLose\"><field name=\"win\">false</field></shadow></value></block></statement></block></next></block></next></block></next></block></next></block></statement></block><block type=\"spritesoverlap\" x=\"2558\" y=\"3131\"><comment pinned=\"false\" h=\"80\" w=\"160\">---------- collision: player reaches goal ----------</comment><value name=\"HANDLER_DRAG_PARAM_sprite\"><block type=\"argument_reporter_custom\"><mutation duplicateondrag=\"true\" typename=\"Sprite\"></mutation><field name=\"VALUE\">sprite</field></block></value><value name=\"kind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Player</field></shadow></value><value name=\"HANDLER_DRAG_PARAM_otherSprite\"><block type=\"argument_reporter_custom\"><mutation duplicateondrag=\"true\" typename=\"Sprite\"></mutation><field name=\"VALUE\">otherSprite</field></block></value><value name=\"otherKind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Food</field></shadow></value><statement name=\"HANDLER\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">NEQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"aZEQj3~LtgGgNJdID/.R\">currentApp</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">App.Maze</field></block></value></block></value><statement name=\"DO0\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"return\" numlines=\"1\"></mutation></block></statement><next><block type=\"gameSplash\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"title\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"3\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">TIME: </field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"kLS5JKhg!J.[1jjY*T)7\">mazeTimer</field></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">s</field></shadow></value></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"kLS5JKhg!J.[1jjY*T)7\">mazeTimer</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"yy~|Ctv,9TRG]]6k/@l9\">mazeBest</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"yy~|Ctv,9TRG]]6k/@l9\">mazeBest</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"kLS5JKhg!J.[1jjY*T)7\">mazeTimer</field></block></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"settings.writeNumber(&quot;mazeBest&quot;, mazeBest)\" numlines=\"1\"></mutation><next><block type=\"gameSplash\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"title\"><shadow type=\"text\"><field name=\"TEXT\">NEW RECORD!</field></shadow></value></block></next></block></next></block></statement><next><block type=\"function_call\"><mutation name=\"destroyAllKinds\" functionid=\":N;1Lqr9Bxi|[Ty!.7B-\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"currentApp = App.Menu\" numlines=\"1\"></mutation><next><block type=\"function_call\"><mutation name=\"drawMenu\" functionid=\"(svOza?c_UeI1!CB:}A!\"></mutation></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"3284\" y=\"3131\"><mutation name=\"drawMenu\" functionid=\"(svOza?c_UeI1!CB:}A!\"></mutation><field name=\"function_name\">drawMenu</field><comment pinned=\"false\" h=\"80\" w=\"160\">---------- MENU ----------</comment><statement name=\"STACK\"><block type=\"gamesetbackgroundcolor\"><value name=\"color\"><shadow type=\"colorindexpicker\"><field name=\"index\">9</field></shadow></value><next><block type=\"Image_fill\"><value name=\"picture\"><block type=\"typescript_expression\"><field name=\"EXPRESSION\">screen</field></block></value><value name=\"c\"><shadow type=\"colorindexpicker\"><field name=\"index\">9</field></shadow></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"screen.printCenter(&quot;MEWY OS&quot;, 10, 1)\" numlines=\"1\"></mutation><next><block type=\"pxt_controls_for\"><value name=\"VAR\"><block type=\"variables_get_reporter\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VAR\" id=\"H=Z9jCOG56`7?rv^nrUi\">i</field></block></value><value name=\"TO\"><shadow type=\"math_whole_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"P21_,U8~ynqyk.[bQ;0k\">menuItems</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><statement name=\"DO\"><block type=\"variables_set\"><field name=\"VAR\" id=\"_D_;p|a?.Aw,9iFIHW6u\">y</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">40</field></shadow></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"H=Z9jCOG56`7?rv^nrUi\">i</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">18</field></shadow></value></block></value></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"H=Z9jCOG56`7?rv^nrUi\">i</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"[Hij/P%Vv#EeSkb%[j.0\">selected</field></block></value></block></value><statement name=\"DO0\"><block type=\"Image_drawRect\"><value name=\"picture\"><block type=\"typescript_expression\"><field name=\"EXPRESSION\">// red selection rectangle (stroke)\n            screen</field></block></value><value name=\"x\"><shadow type=\"math_number\"><field name=\"NUM\">18</field></shadow></value><value name=\"y\"><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"_D_;p|a?.Aw,9iFIHW6u\">y</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">4</field></shadow></value></block></value><value name=\"w\"><shadow type=\"math_number\"><field name=\"NUM\">124</field></shadow></value><value name=\"h\"><shadow type=\"math_number\"><field name=\"NUM\">16</field></shadow></value><value name=\"c\"><shadow type=\"colorindexpicker\"><field name=\"index\">2</field></shadow></value></block></statement><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"screen.print(menuItems[i], 30, y, 1)\" numlines=\"1\"></mutation></block></next></block></next></block></statement><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"screen.printCenter(&quot;A = Select   B = Back&quot;, 110, 1)\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"screen.printCenter(&quot;BEST MAZE: &quot; + mazeBest + &quot;s&quot;, 100, 1)\" numlines=\"1\"></mutation></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"4569\" y=\"3131\"><mutation name=\"destroyAllKinds\" functionid=\":N;1Lqr9Bxi|[Ty!.7B-\"></mutation><field name=\"function_name\">destroyAllKinds</field><comment pinned=\"false\" h=\"80\" w=\"160\">---------- CLEANUP helpers ----------</comment><statement name=\"STACK\"><block type=\"sprites_destroy_all_sprites_of_kind\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><field name=\"effect\">effects.spray</field><value name=\"kind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Player</field></shadow></value><next><block type=\"sprites_destroy_all_sprites_of_kind\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><field name=\"effect\">effects.spray</field><value name=\"kind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Enemy</field></shadow></value><next><block type=\"sprites_destroy_all_sprites_of_kind\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><field name=\"effect\">effects.spray</field><value name=\"kind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Projectile</field></shadow></value><next><block type=\"sprites_destroy_all_sprites_of_kind\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><field name=\"effect\">effects.spray</field><value name=\"kind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Food</field></shadow></value><next><block type=\"sprites_destroy_all_sprites_of_kind\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><field name=\"effect\">effects.spray</field><value name=\"kind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Wall</field></shadow></value></block></next></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"5056\" y=\"3131\"><mutation name=\"startShooter\" functionid=\"W8Ik~)[HgxWv#Zy:fQl.\"></mutation><field name=\"function_name\">startShooter</field><comment pinned=\"false\" h=\"80\" w=\"160\">---------- SHOOTER: start ----------</comment><statement name=\"STACK\"><block type=\"function_call\"><mutation name=\"destroyAllKinds\" functionid=\":N;1Lqr9Bxi|[Ty!.7B-\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"currentApp = App.Shooter\" numlines=\"1\"></mutation><next><block type=\"gamesetbackgroundcolor\"><value name=\"color\"><shadow type=\"colorindexpicker\"><field name=\"index\">7</field></shadow></value><next><block type=\"hudsetScore\"><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">100</field></shadow></value><next><block type=\"hudSetLife\"><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">3</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"3^w,8d?:.(w9qXvMez3/\">shooterEnemyHP</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">3</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"-bE#q^0h+W^roo:{#hVh\">shooterPlayer</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"spritescreate\"><value name=\"img\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n"]]},{"start1":53813,"length1":1967,"diffs":[[1,"`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value><value name=\"kind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Player</field></shadow></value></block></value><next><block type=\"spritesetpos\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"-bE#q^0h+W^roo:{#hVh\">shooterPlayer</field></block></value><value name=\"x\"><shadow type=\"positionPicker\"><field name=\"index\">20</field></shadow></value><value name=\"y\"><shadow type=\"positionPicker\"><field name=\"index\">60</field></shadow></value><next><block type=\"spritesetsetstayinscreen\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"-bE#q^0h+W^roo:{#hVh\">shooterPlayer</field></block></value><value name=\"on\"><shadow type=\"toggleOnOff\"><field name=\"on\">true</field></shadow></value><next><block type=\"game_control_sprite\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"-bE#q^0h+W^roo:{#hVh\">shooterPlayer</field></block></value><value name=\"vx\"><shadow type=\"spriteSpeedPicker\"><field name=\"speed\">100</field></shadow></value><value name=\"vy\"><shadow type=\"spriteSpeedPicker\"><field name=\"speed\">100</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"sXdk|/zTzyZiJx*)Y0NS\">shooterEnemy</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"spritescreate\"><value name=\"img\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n"]]},{"start1":55400,"length1":54977,"diffs":[[1,"`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value><value name=\"kind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Enemy</field></shadow></value></block></value><next><block type=\"spritesetpos\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"sXdk|/zTzyZiJx*)Y0NS\">shooterEnemy</field></block></value><value name=\"x\"><shadow type=\"positionPicker\"><field name=\"index\">140</field></shadow></value><value name=\"y\"><shadow type=\"positionPicker\"><field name=\"index\">60</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"5682\" y=\"3131\"><mutation name=\"initMazeGrid\" functionid=\"$shEt}I$fdw.=.e{opE*\"></mutation><field name=\"function_name\">initMazeGrid</field><comment pinned=\"false\" h=\"80\" w=\"160\">---------- MAZE: generation (recursive backtracker) ----------</comment><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\"}*wFu?kV%j#;hiV+Tc%J\">mazeGrid</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_create_with\"><mutation items=\"0\" horizontalafter=\"3\"></mutation></block></value><next><block type=\"pxt_controls_for\"><value name=\"VAR\"><block type=\"variables_get_reporter\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VAR\" id=\"U~ut=I8upPO_)[^A:G,f\">r</field></block></value><value name=\"TO\"><shadow type=\"math_whole_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"68sO/eIcieQ_IJjDxG)c\">gridRows</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><statement name=\"DO\"><block type=\"lists_index_set\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"}*wFu?kV%j#;hiV+Tc%J\">mazeGrid</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"U~ut=I8upPO_)[^A:G,f\">r</field></block></value><value name=\"VALUE\"><block type=\"lists_create_with\"><mutation items=\"0\" horizontalafter=\"3\"></mutation></block></value><next><block type=\"pxt_controls_for\"><value name=\"VAR\"><block type=\"variables_get_reporter\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VAR\" id=\"OG#pvyN@5OQEx/mye;Sy\">c</field></block></value><value name=\"TO\"><shadow type=\"math_whole_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@t_xB1te`ZVkhG$MW,-a\">gridCols</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><statement name=\"DO\"><block type=\"lists_index_set\"><comment pinned=\"false\" h=\"80\" w=\"160\">wall</comment><value name=\"LIST\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"}*wFu?kV%j#;hiV+Tc%J\">mazeGrid</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"U~ut=I8upPO_)[^A:G,f\">r</field></block></value></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"OG#pvyN@5OQEx/mye;Sy\">c</field></block></value><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></statement></block></next></block></statement></block></next></block></statement></block><block type=\"function_definition\" x=\"20\" y=\"4216\"><mutation name=\"carveMaze\" functionid=\"f39^CkFOw{rZ%lzfWmgl\"></mutation><field name=\"function_name\">carveMaze</field><comment pinned=\"false\" h=\"80\" w=\"160\">start at (1,1)</comment><statement name=\"STACK\"><block type=\"function_call\"><mutation name=\"initMazeGrid\" functionid=\"$shEt}I$fdw.=.e{opE*\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"ZVi}xbOt}spw?1=0kZ*)\">sr</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"(RLn4XD)XKc~/hyxY!CS\">sc</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"lists_index_set\"><value name=\"LIST\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"}*wFu?kV%j#;hiV+Tc%J\">mazeGrid</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"ZVi}xbOt}spw?1=0kZ*)\">sr</field></block></value></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"(RLn4XD)XKc~/hyxY!CS\">sc</field></block></value><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"array_push\"><value name=\"list\"><block type=\"variables_get\"><field name=\"VAR\" id=\"2D0i%pO-](gu/0$v^eK4\">stack</field></block></value><value name=\"value\"><block type=\"lists_create_with\"><mutation items=\"2\" horizontalafter=\"3\"></mutation><value name=\"ADD0\"><block type=\"variables_get\"><field name=\"VAR\" id=\"ZVi}xbOt}spw?1=0kZ*)\">sr</field></block></value><value name=\"ADD1\"><block type=\"variables_get\"><field name=\"VAR\" id=\"(RLn4XD)XKc~/hyxY!CS\">sc</field></block></value></block></value><next><block type=\"device_while\"><value name=\"COND\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"2D0i%pO-](gu/0$v^eK4\">stack</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><statement name=\"DO\"><block type=\"variables_set\"><field name=\"VAR\" id=\"B1^pQ~G:~VvO8@EWBERe\">top</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"2D0i%pO-](gu/0$v^eK4\">stack</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"2D0i%pO-](gu/0$v^eK4\">stack</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"65fN=6eE-Z_S31OVOnGv\">s</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"B1^pQ~G:~VvO8@EWBERe\">top</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"/U6]zrEzKtN#}yh7gffR\">d</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"B1^pQ~G:~VvO8@EWBERe\">top</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><next><block type=\"controls_if\"><comment pinned=\"false\" h=\"80\" w=\"160\">Up</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">AND</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"65fN=6eE-Z_S31OVOnGv\">s</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"}*wFu?kV%j#;hiV+Tc%J\">mazeGrid</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"65fN=6eE-Z_S31OVOnGv\">s</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"/U6]zrEzKtN#}yh7gffR\">d</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value></block></value><statement name=\"DO0\"><block type=\"array_push\"><value name=\"list\"><block type=\"variables_get\"><field name=\"VAR\" id=\")K8Xbbb6b0i;D2@ij$~h\">neighbors</field></block></value><value name=\"value\"><block type=\"lists_create_with\"><mutation items=\"2\" horizontalafter=\"3\"></mutation><value name=\"ADD0\"><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"65fN=6eE-Z_S31OVOnGv\">s</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value><value name=\"ADD1\"><block type=\"variables_get\"><field name=\"VAR\" id=\"/U6]zrEzKtN#}yh7gffR\">d</field></block></value></block></value></block></statement><next><block type=\"controls_if\"><comment pinned=\"false\" h=\"80\" w=\"160\">Down</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">AND</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"65fN=6eE-Z_S31OVOnGv\">s</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"68sO/eIcieQ_IJjDxG)c\">gridRows</field></block></value></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"}*wFu?kV%j#;hiV+Tc%J\">mazeGrid</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"65fN=6eE-Z_S31OVOnGv\">s</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"/U6]zrEzKtN#}yh7gffR\">d</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value></block></value><statement name=\"DO0\"><block type=\"array_push\"><value name=\"list\"><block type=\"variables_get\"><field name=\"VAR\" id=\")K8Xbbb6b0i;D2@ij$~h\">neighbors</field></block></value><value name=\"value\"><block type=\"lists_create_with\"><mutation items=\"2\" horizontalafter=\"3\"></mutation><value name=\"ADD0\"><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"65fN=6eE-Z_S31OVOnGv\">s</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value><value name=\"ADD1\"><block type=\"variables_get\"><field name=\"VAR\" id=\"/U6]zrEzKtN#}yh7gffR\">d</field></block></value></block></value></block></statement><next><block type=\"controls_if\"><comment pinned=\"false\" h=\"80\" w=\"160\">Left</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">AND</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"/U6]zrEzKtN#}yh7gffR\">d</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"}*wFu?kV%j#;hiV+Tc%J\">mazeGrid</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"65fN=6eE-Z_S31OVOnGv\">s</field></block></value></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"/U6]zrEzKtN#}yh7gffR\">d</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value></block></value><statement name=\"DO0\"><block type=\"array_push\"><value name=\"list\"><block type=\"variables_get\"><field name=\"VAR\" id=\")K8Xbbb6b0i;D2@ij$~h\">neighbors</field></block></value><value name=\"value\"><block type=\"lists_create_with\"><mutation items=\"2\" horizontalafter=\"3\"></mutation><value name=\"ADD0\"><block type=\"variables_get\"><field name=\"VAR\" id=\"65fN=6eE-Z_S31OVOnGv\">s</field></block></value><value name=\"ADD1\"><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"/U6]zrEzKtN#}yh7gffR\">d</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value></block></value></block></statement><next><block type=\"controls_if\"><comment pinned=\"false\" h=\"80\" w=\"160\">Right</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">AND</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"/U6]zrEzKtN#}yh7gffR\">d</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@t_xB1te`ZVkhG$MW,-a\">gridCols</field></block></value></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"}*wFu?kV%j#;hiV+Tc%J\">mazeGrid</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"65fN=6eE-Z_S31OVOnGv\">s</field></block></value></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"/U6]zrEzKtN#}yh7gffR\">d</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value></block></value><statement name=\"DO0\"><block type=\"array_push\"><value name=\"list\"><block type=\"variables_get\"><field name=\"VAR\" id=\")K8Xbbb6b0i;D2@ij$~h\">neighbors</field></block></value><value name=\"value\"><block type=\"lists_create_with\"><mutation items=\"2\" horizontalafter=\"3\"></mutation><value name=\"ADD0\"><block type=\"variables_get\"><field name=\"VAR\" id=\"65fN=6eE-Z_S31OVOnGv\">s</field></block></value><value name=\"ADD1\"><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"/U6]zrEzKtN#}yh7gffR\">d</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value></block></value></block></statement><next><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\")K8Xbbb6b0i;D2@ij$~h\">neighbors</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"fO6z~T`$*0(jBA(?~epG\">n</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\")K8Xbbb6b0i;D2@ij$~h\">neighbors</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_random\"><value name=\"min\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"limit\"><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\")K8Xbbb6b0i;D2@ij$~h\">neighbors</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"RSMk_1jVi_0OE@M$NtyG\">nr</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"fO6z~T`$*0(jBA(?~epG\">n</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"$v|%K!Mc%qo4#F{1!wiS\">nc</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"fO6z~T`$*0(jBA(?~epG\">n</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let midR = (s + nr) &gt;&gt; 1\" numlines=\"1\" declaredvars=\"midR\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let midC = (d + nc) &gt;&gt; 1\" numlines=\"1\" declaredvars=\"midC\"></mutation><next><block type=\"lists_index_set\"><value name=\"LIST\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"}*wFu?kV%j#;hiV+Tc%J\">mazeGrid</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"HDTCPf+#}MP3!zxdZ1Ib\">midR</field></block></value></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"rPD!=y~8t6qSn]M46@:X\">midC</field></block></value><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"lists_index_set\"><value name=\"LIST\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"}*wFu?kV%j#;hiV+Tc%J\">mazeGrid</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"RSMk_1jVi_0OE@M$NtyG\">nr</field></block></value></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"$v|%K!Mc%qo4#F{1!wiS\">nc</field></block></value><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"array_push\"><value name=\"list\"><block type=\"variables_get\"><field name=\"VAR\" id=\"2D0i%pO-](gu/0$v^eK4\">stack</field></block></value><value name=\"value\"><block type=\"lists_create_with\"><mutation items=\"2\" horizontalafter=\"3\"></mutation><value name=\"ADD0\"><block type=\"variables_get\"><field name=\"VAR\" id=\"RSMk_1jVi_0OE@M$NtyG\">nr</field></block></value><value name=\"ADD1\"><block type=\"variables_get\"><field name=\"VAR\" id=\"$v|%K!Mc%qo4#F{1!wiS\">nc</field></block></value></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement><statement name=\"ELSE\"><block type=\"array_pop_statement\"><value name=\"list\"><block type=\"variables_get\"><field name=\"VAR\" id=\"2D0i%pO-](gu/0$v^eK4\">stack</field></block></value></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"1472\" y=\"4216\"><mutation name=\"gridToPixel\" functionid=\"3iZz6EN-v1IPgB(DhUJE\"><arg name=\"c\" id=\"zd0qlrap7paonke9kg7g\" type=\"number\"></arg><arg name=\"r\" id=\"n8zj4u4d95u82svbs492\" type=\"number\"></arg></mutation><field name=\"function_name\">gridToPixel</field><comment pinned=\"false\" h=\"80\" w=\"160\">convert grid (r,c) to pixel center</comment><value name=\"zd0qlrap7paonke9kg7g\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">c</field></block></value><value name=\"n8zj4u4d95u82svbs492\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">r</field></block></value><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\"1mxy#BbgV{6nu4qH]WQL\">totalW</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@t_xB1te`ZVkhG$MW,-a\">gridCols</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"d05}jO,/t.s!*dpa+cc6\">CELL</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"b27wN`a-rI=y~XPv~glu\">totalH</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"68sO/eIcieQ_IJjDxG)c\">gridRows</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"d05}jO,/t.s!*dpa+cc6\">CELL</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\")P/vL8(AW(mMsNe!wAPZ\">offsetX</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_js_round\"><field name=\"OP\">floor</field><value name=\"ARG0\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">DIVIDE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">160</field></shadow></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"1mxy#BbgV{6nu4qH]WQL\">totalW</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"7:]Toyy5bD#)7j*J332-\">offsetY</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_js_round\"><field name=\"OP\">floor</field><value name=\"ARG0\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">DIVIDE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">120</field></shadow></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"b27wN`a-rI=y~XPv~glu\">totalH</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"9PMIH|B,R)X`}w66X:/e\">px</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\")P/vL8(AW(mMsNe!wAPZ\">offsetX</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">c</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"d05}jO,/t.s!*dpa+cc6\">CELL</field></block></value></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_js_round\"><field name=\"OP\">floor</field><value name=\"ARG0\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">DIVIDE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"d05}jO,/t.s!*dpa+cc6\">CELL</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"EyQq/S4:9blQ93x59N8a\">py</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"7:]Toyy5bD#)7j*J332-\">offsetY</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">r</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"d05}jO,/t.s!*dpa+cc6\">CELL</field></block></value></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_js_round\"><field name=\"OP\">floor</field><value name=\"ARG0\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">DIVIDE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"d05}jO,/t.s!*dpa+cc6\">CELL</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value></block></value></block></value><next><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_create_with\"><mutation items=\"2\" horizontalafter=\"3\"></mutation><value name=\"ADD0\"><block type=\"variables_get\"><field name=\"VAR\" id=\"9PMIH|B,R)X`}w66X:/e\">px</field></block></value><value name=\"ADD1\"><block type=\"variables_get\"><field name=\"VAR\" id=\"EyQq/S4:9blQ93x59N8a\">py</field></block></value></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"2408\" y=\"4216\"><mutation name=\"spawnMazeSprites\" functionid=\"?gpoJr56JKY}f``$dD^%\"></mutation><field name=\"function_name\">spawnMazeSprites</field><statement name=\"STACK\"><block type=\"pxt_controls_for_of\"><comment pinned=\"false\" h=\"80\" w=\"160\">destroy old walls</comment><value name=\"VAR\"><block type=\"variables_get_reporter\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VAR\" id=\"=6rY8+dwOOyIeX0W5a/=\">w</field></block></value><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"F6YE+B4rI#UTdhVBFEfu\">mazeWalls</field></block></value><statement name=\"DO\"><block type=\"spritedestroy\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><field name=\"effect\">effects.spray</field><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"=6rY8+dwOOyIeX0W5a/=\">w</field></block></value></block></statement><next><block type=\"variables_set\"><field name=\"VAR\" id=\"F6YE+B4rI#UTdhVBFEfu\">mazeWalls</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_create_with\"><mutation items=\"0\" horizontalafter=\"3\"></mutation></block></value><next><block type=\"pxt_controls_for\"><value name=\"VAR\"><block type=\"variables_get_reporter\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VAR\" id=\"vHKbZ4R[o+~``vCtZqov\">t</field></block></value><value name=\"TO\"><shadow type=\"math_whole_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"68sO/eIcieQ_IJjDxG)c\">gridRows</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><statement name=\"DO\"><block type=\"pxt_controls_for\"><value name=\"VAR\"><block type=\"variables_get_reporter\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VAR\" id=\"HMcu-YnvOoeZE%8sT.qN\">e</field></block></value><value name=\"TO\"><shadow type=\"math_whole_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@t_xB1te`ZVkhG$MW,-a\">gridCols</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><statement name=\"DO\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"}*wFu?kV%j#;hiV+Tc%J\">mazeGrid</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"vHKbZ4R[o+~``vCtZqov\">t</field></block></value></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"HMcu-YnvOoeZE%8sT.qN\">e</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"d81{_y_zA3#8tfvn*A]~\">pos</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"function_call_output\"><mutation name=\"gridToPixel\" functionid=\"3iZz6EN-v1IPgB(DhUJE\"><arg name=\"c\" id=\"zd0qlrap7paonke9kg7g\" type=\"number\"></arg><arg name=\"r\" id=\"n8zj4u4d95u82svbs492\" type=\"number\"></arg></mutation><value name=\"zd0qlrap7paonke9kg7g\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"HMcu-YnvOoeZE%8sT.qN\">e</field></block></value><value name=\"n8zj4u4d95u82svbs492\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"vHKbZ4R[o+~``vCtZqov\">t</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"A9_3+KF%?RgMq{3m!9EQ\">wall</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"spritescreate\"><value name=\"img\"><shadow type=\"screen_image_picker\"><field name=\"img\"></field></shadow><block type=\"image_create\"><value name=\"width\"><block type=\"variables_get\"><field name=\"VAR\" id=\"d05}jO,/t.s!*dpa+cc6\">CELL</field></block></value><value name=\"height\"><block type=\"variables_get\"><field name=\"VAR\" id=\"d05}jO,/t.s!*dpa+cc6\">CELL</field></block></value></block></value><value name=\"kind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Wall</field></shadow></value></block></value><next><block type=\"pxt_controls_for\"><comment pinned=\"false\" h=\"80\" w=\"160\">fill wall image</comment><value name=\"VAR\"><block type=\"variables_get_reporter\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VAR\" id=\"@aOT,Ck?qqA)VCfG7A}u\">yy</field></block></value><value name=\"TO\"><shadow type=\"math_whole_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"d05}jO,/t.s!*dpa+cc6\">CELL</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><statement name=\"DO\"><block type=\"pxt_controls_for\"><value name=\"VAR\"><block type=\"variables_get_reporter\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VAR\" id=\"3N61hoHl|r;93!wbL/Oa\">xx</field></block></value><value name=\"TO\"><shadow type=\"math_whole_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"d05}jO,/t.s!*dpa+cc6\">CELL</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><statement name=\"DO\"><block type=\"Image_setPixel\"><value name=\"picture\"><block type=\"spriteimage\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"A9_3+KF%?RgMq{3m!9EQ\">wall</field></block></value></block></value><value name=\"x\"><block type=\"variables_get\"><field name=\"VAR\" id=\"3N61hoHl|r;93!wbL/Oa\">xx</field></block></value><value name=\"y\"><block type=\"variables_get\"><field name=\"VAR\" id=\"@aOT,Ck?qqA)VCfG7A}u\">yy</field></block></value><value name=\"c\"><shadow type=\"colorindexpicker\"><field name=\"index\">8</field></shadow></value></block></statement></block></statement><next><block type=\"spritesetpos\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"A9_3+KF%?RgMq{3m!9EQ\">wall</field></block></value><value name=\"x\"><shadow type=\"positionPicker\"><field name=\"index\">0</field></shadow><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"d81{_y_zA3#8tfvn*A]~\">pos</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><value name=\"y\"><shadow type=\"positionPicker\"><field name=\"index\">0</field></shadow><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"d81{_y_zA3#8tfvn*A]~\">pos</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><next><block type=\"spritesetsetflag\"><field name=\"flag\">SpriteFlag.Ghost</field><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"A9_3+KF%?RgMq{3m!9EQ\">wall</field></block></value><value name=\"on\"><shadow type=\"toggleOnOff\"><field name=\"on\">false</field></shadow></value><next><block type=\"array_push\"><value name=\"list\"><block type=\"variables_get\"><field name=\"VAR\" id=\"F6YE+B4rI#UTdhVBFEfu\">mazeWalls</field></block></value><value name=\"value\"><block type=\"variables_get\"><field name=\"VAR\" id=\"A9_3+KF%?RgMq{3m!9EQ\">wall</field></block></value></block></next></block></next></block></next></block></next></block></next></block></statement></block></statement></block></statement></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"3356\" y=\"4216\"><mutation name=\"startMaze\" functionid=\"4HjBOkW;V=fteA5oe#U}\"></mutation><field name=\"function_name\">startMaze</field><comment pinned=\"false\" h=\"80\" w=\"160\">---------- START MAZE ----------</comment><statement name=\"STACK\"><block type=\"function_call\"><mutation name=\"destroyAllKinds\" functionid=\":N;1Lqr9Bxi|[Ty!.7B-\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"currentApp = App.Maze\" numlines=\"1\"></mutation><next><block type=\"gamesetbackgroundcolor\"><value name=\"color\"><shadow type=\"colorindexpicker\"><field name=\"index\">6</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"kLS5JKhg!J.[1jjY*T)7\">mazeTimer</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"function_call\"><mutation name=\"carveMaze\" functionid=\"f39^CkFOw{rZ%lzfWmgl\"></mutation><next><block type=\"function_call\"><mutation name=\"spawnMazeSprites\" functionid=\"?gpoJr56JKY}f``$dD^%\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"HT@oWqX:N.#hhu8x)Ld.\">startPos</field><comment pinned=\"false\" h=\"80\" w=\"160\">place player at start (1,1)</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"function_call_output\"><mutation name=\"gridToPixel\" functionid=\"3iZz6EN-v1IPgB(DhUJE\"><arg name=\"c\" id=\"zd0qlrap7paonke9kg7g\" type=\"number\"></arg><arg name=\"r\" id=\"n8zj4u4d95u82svbs492\" type=\"number\"></arg></mutation><value name=\"zd0qlrap7paonke9kg7g\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value><value name=\"n8zj4u4d95u82svbs492\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"/k(7x2=,QYSVph7=vjd1\">mazePlayer</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"spritescreate\"><value name=\"img\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n"]]},{"start1":98506,"length1":6071,"diffs":[[1,"`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value><value name=\"kind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Player</field></shadow></value></block></value><next><block type=\"spritesetpos\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"/k(7x2=,QYSVph7=vjd1\">mazePlayer</field></block></value><value name=\"x\"><shadow type=\"positionPicker\"><field name=\"index\">0</field></shadow><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"HT@oWqX:N.#hhu8x)Ld.\">startPos</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><value name=\"y\"><shadow type=\"positionPicker\"><field name=\"index\">0</field></shadow><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"HT@oWqX:N.#hhu8x)Ld.\">startPos</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><next><block type=\"game_control_sprite\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"/k(7x2=,QYSVph7=vjd1\">mazePlayer</field></block></value><value name=\"vx\"><shadow type=\"spriteSpeedPicker\"><field name=\"speed\">80</field></shadow></value><value name=\"vy\"><shadow type=\"spriteSpeedPicker\"><field name=\"speed\">80</field></shadow></value><next><block type=\"spritesetsetstayinscreen\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"/k(7x2=,QYSVph7=vjd1\">mazePlayer</field></block></value><value name=\"on\"><shadow type=\"toggleOnOff\"><field name=\"on\">true</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"=1;|.LFU$;zyBpVC!1,n\">exitR</field><comment pinned=\"false\" h=\"80\" w=\"160\">place goal at opposite corner (gridRows-2, gridCols-2)</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"68sO/eIcieQ_IJjDxG)c\">gridRows</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"bvoQ3sT`HQtG+lq]~YoN\">exitC</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@t_xB1te`ZVkhG$MW,-a\">gridCols</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value><next><block type=\"lists_index_set\"><comment pinned=\"false\" h=\"80\" w=\"160\">make sure it's open</comment><value name=\"LIST\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"}*wFu?kV%j#;hiV+Tc%J\">mazeGrid</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"=1;|.LFU$;zyBpVC!1,n\">exitR</field></block></value></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"bvoQ3sT`HQtG+lq]~YoN\">exitC</field></block></value><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"4iDki$brlD~Lk.)yP5+(\">exitPos</field><data>{\"commentRefs\":[],\"fieldData\":{}}</data><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"function_call_output\"><mutation name=\"gridToPixel\" functionid=\"3iZz6EN-v1IPgB(DhUJE\"><arg name=\"c\" id=\"zd0qlrap7paonke9kg7g\" type=\"number\"></arg><arg name=\"r\" id=\"n8zj4u4d95u82svbs492\" type=\"number\"></arg></mutation><value name=\"zd0qlrap7paonke9kg7g\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"bvoQ3sT`HQtG+lq]~YoN\">exitC</field></block></value><value name=\"n8zj4u4d95u82svbs492\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"=1;|.LFU$;zyBpVC!1,n\">exitR</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"UV9Ko6aP^;.bX;rw4#-8\">mazeGoal</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"spritescreate\"><value name=\"img\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n"]]},{"start1":103339,"length1":2728,"diffs":[[1,"`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value><value name=\"kind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Food</field></shadow></value></block></value><next><block type=\"spritesetpos\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"UV9Ko6aP^;.bX;rw4#-8\">mazeGoal</field></block></value><value name=\"x\"><shadow type=\"positionPicker\"><field name=\"index\">0</field></shadow><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"4iDki$brlD~Lk.)yP5+(\">exitPos</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><value name=\"y\"><shadow type=\"positionPicker\"><field name=\"index\">0</field></shadow><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"4iDki$brlD~Lk.)yP5+(\">exitPos</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"^z:[]n[hgG_$E57qg~a~\">prevX</field><comment pinned=\"false\" h=\"80\" w=\"160\">record previous player pos for wall collision revert</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"Sprite_blockCombine_get\"><field name=\"property\">Sprite.x</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"/k(7x2=,QYSVph7=vjd1\">mazePlayer</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"l;P4?G`rva@8}r0go5=V\">prevY</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"Sprite_blockCombine_get\"><field name=\"property\">Sprite.y</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"/k(7x2=,QYSVph7=vjd1\">mazePlayer</field></block></value></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></xml>"]]}]},{"type":"edited","filename":"main.ts","patch":[{"start1":9974,"length1":26,"diffs":[[1,"logo.say(\"\", 1200)\n"]]}]},{"type":"edited","filename":"pxt.json","patch":[{"start1":2,"length1":33,"diffs":[[1,"    \"name\": \"Mewy Machine Beta2\",\n"]]},{"start1":245,"length1":44,"diffs":[[1,""]]}]},{"type":"added","filename":"test.ts","value":"// tests go here; this will not be compiled when this package is used as an extension.\n"}]}],"snapshots":[{"timestamp":1764277618393,"editorVersion":"2.0.62","text":{"main.blocks":"<xml xmlns=\"http://www.w3.org/1999/xhtml\">\n  <variables></variables>\n  <block type=\"pxt-on-start\" x=\"0\" y=\"0\"></block>\n</xml>","main.ts":" ","README.md":" ","assets.json":"","pxt.json":"{\n    \"name\": \"Mewy Machine Beta2\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"device\": \"*\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\",\n        \"assets.json\"\n    ],\n    \"additionalFilePaths\": []\n}\n"}},{"timestamp":1764279530012,"editorVersion":"2.0.62","text":{"main.blocks":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables></variables><block type=\"pxt-on-start\" x=\"0\" y=\"0\"></block></xml>","main.ts":"// ===============================\r\n// MEWY OS v0.7 – VERIFIED STABLE\r\n// ===============================\r\n\r\nenum App {\r\n    Menu,\r\n    Game,\r\n    Settings\r\n}\r\n\r\nlet currentApp = App.Menu\r\nlet selected = 0\r\n\r\nlet soundOn = true\r\nlet remapControls = false\r\nlet difficulty = 1 // 1 = easy, 2 = normal, 3 = hard\r\n\r\nlet player: Sprite = null\r\nlet enemy: Sprite = null\r\nlet enemyHealth = 5\r\nlet enemyAccuracy = 60\r\n\r\n// ---------- LOAD SETTINGS ----------\r\nsoundOn = settings.readNumber(\"sound\") != 0 ? true : false\r\nremapControls = settings.readNumber(\"remap\") == 1\r\ndifficulty = settings.readNumber(\"difficulty\")\r\nif (difficulty == 0) difficulty = 1\r\n\r\nmusic.setVolume(soundOn ? 128 : 0)\r\n\r\n// ---------- DRAW MENU ----------\r\nfunction drawMenu() {\r\n    screen.fill(9)\r\n    screen.printCenter(\"MEWY OS\", 10, 1)\r\n    screen.printCenter(\"A = Start Game\", 50, 1)\r\n    screen.printCenter(\"B = Settings\", 70, 1)\r\n}\r\n\r\n// ---------- DRAW SETTINGS ----------\r\nfunction drawSettings() {\r\n    screen.fill(9)\r\n    screen.printCenter(\"SETTINGS\", 10, 1)\r\n    screen.print(\"Sound: \" + (soundOn ? \"ON\" : \"OFF\"), 10, 40, 1)\r\n    screen.print(\"Controls: \" + (remapControls ? \"B SHOOTS\" : \"A SHOOTS\"), 10, 60, 1)\r\n    screen.print(\"Difficulty: \" + difficulty, 10, 80, 1)\r\n    screen.printCenter(\"A = Toggle / B = Back\", 110, 1)\r\n}\r\n\r\n// ---------- START GAME ----------\r\nfunction startGame() {\r\n    currentApp = App.Game\r\n    scene.setBackgroundColor(7)\r\n    screen.fill(7)\r\n\r\n    sprites.destroyAllSpritesOfKind(SpriteKind.Player)\r\n    sprites.destroyAllSpritesOfKind(SpriteKind.Enemy)\r\n    sprites.destroyAllSpritesOfKind(SpriteKind.Projectile)\r\n\r\n    info.setLife(3)\r\n    info.setScore(0)\r\n\r\n    // Difficulty effects\r\n    enemyHealth = 4 + difficulty\r\n    enemyAccuracy = 50 + difficulty * 15\r\n\r\n    player = sprites.create(img`\r\n        . 2 2 .\r\n        2 2 2 2\r\n        2 2 2 2\r\n        . 2 2 .\r\n    `, SpriteKind.Player)\r\n    player.setPosition(30, 60)\r\n    player.setStayInScreen(true)\r\n    controller.moveSprite(player, 100, 100)\r\n\r\n    spawnEnemy()\r\n}\r\n\r\n// ---------- SPAWN ENEMY ----------\r\nfunction spawnEnemy() {\r\n    enemy = sprites.create(img`\r\n        . 4 4 .\r\n        4 4 4 4\r\n        4 4 4 4\r\n        . 4 4 .\r\n    `, SpriteKind.Enemy)\r\n\r\n    enemy.setPosition(120, randint(20, 100))\r\n}\r\n\r\n// ---------- SMART AI + DODGE ----------\r\ngame.onUpdate(function () {\r\n    if (currentApp != App.Game) return\r\n    if (!enemy || !player) return\r\n\r\n    // Follow player\r\n    enemy.vx = enemy.x < player.x ? 20 : -20\r\n    enemy.vy = enemy.y < player.y ? 20 : -20\r\n\r\n    // Dodge bullets\r\n    for (let b of sprites.allOfKind(SpriteKind.Projectile)) {\r\n        if (Math.abs(b.x - enemy.x) < 15 && Math.abs(b.y - enemy.y) < 15) {\r\n            enemy.vy = -enemy.vy\r\n        }\r\n    }\r\n})\r\n\r\n// ---------- ENEMY SHOOT ----------\r\ngame.onUpdateInterval(1000 - difficulty * 200, function () {\r\n    if (currentApp != App.Game) return\r\n    if (!enemy || !player) return\r\n\r\n    let aimX = player.x\r\n    let aimY = player.y\r\n\r\n    if (randint(0, 100) > enemyAccuracy) {\r\n        aimX += randint(-30, 30)\r\n        aimY += randint(-30, 30)\r\n    }\r\n\r\n    let dx = aimX - enemy.x\r\n    let dy = aimY - enemy.y\r\n    let len = Math.sqrt(dx * dx + dy * dy)\r\n\r\n    sprites.createProjectileFromSprite(\r\n        img`\r\n            . 8 .\r\n            8 8 8\r\n            . 8 .\r\n        `,\r\n        enemy,\r\n        dx / len * 70,\r\n        dy / len * 70\r\n    )\r\n})\r\n\r\n// ---------- PLAYER SHOOT ----------\r\nfunction playerShoot() {\r\n    if (currentApp != App.Game || !player) return\r\n    sprites.createProjectileFromSprite(\r\n        img`\r\n            . 1 .\r\n            1 1 1\r\n            . 1 .\r\n        `,\r\n        player,\r\n        150,\r\n        0\r\n    )\r\n}\r\n\r\n// ---------- INPUT ----------\r\ncontroller.A.onEvent(ControllerButtonEvent.Pressed, function () {\r\n    if (currentApp == App.Menu) startGame()\r\n    else if (currentApp == App.Settings) {\r\n        soundOn = !soundOn\r\n        music.setVolume(soundOn ? 128 : 0)\r\n        settings.writeNumber(\"sound\", soundOn ? 1 : 0)\r\n    }\r\n    else if (!remapControls) playerShoot()\r\n})\r\n\r\ncontroller.B.onEvent(ControllerButtonEvent.Pressed, function () {\r\n    if (currentApp == App.Menu) currentApp = App.Settings\r\n    else if (currentApp == App.Settings) currentApp = App.Menu\r\n    else if (remapControls) playerShoot()\r\n})\r\n\r\n// ---------- SETTINGS CHANGE ----------\r\ncontroller.left.onEvent(ControllerButtonEvent.Pressed, function () {\r\n    if (currentApp != App.Settings) return\r\n    difficulty = Math.max(1, difficulty - 1)\r\n    settings.writeNumber(\"difficulty\", difficulty)\r\n})\r\n\r\ncontroller.right.onEvent(ControllerButtonEvent.Pressed, function () {\r\n    if (currentApp != App.Settings) return\r\n    difficulty = Math.min(3, difficulty + 1)\r\n    settings.writeNumber(\"difficulty\", difficulty)\r\n})\r\n\r\n// ---------- COLLISIONS ----------\r\nsprites.onOverlap(SpriteKind.Projectile, SpriteKind.Enemy, function (p, e) {\r\n    p.destroy()\r\n    enemyHealth--\r\n    if (enemyHealth <= 0) {\r\n        e.destroy()\r\n        info.changeScoreBy(1)\r\n        enemyHealth = 4 + difficulty\r\n        spawnEnemy()\r\n    }\r\n})\r\n\r\nsprites.onOverlap(SpriteKind.Projectile, SpriteKind.Player, function (p, pl) {\r\n    p.destroy()\r\n    info.changeLifeBy(-1)\r\n    if (info.life() <= 0) {\r\n        game.over(false)\r\n    }\r\n})\r\n\r\n// ---------- DRAW ----------\r\ngame.onPaint(function () {\r\n    if (currentApp == App.Menu) drawMenu()\r\n    if (currentApp == App.Settings) drawSettings()\r\n})\r\n","README.md":" ","assets.json":"","pxt.json":"{\n    \"name\": \"Mewy Machine Beta2\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"device\": \"*\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\",\n        \"assets.json\"\n    ],\n    \"preferredEditor\": \"tsprj\"\n}\n"}},{"timestamp":1764281869516,"editorVersion":"2.0.62","text":{"main.blocks":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable type=\"KIND_SpriteKind\" id=\"u2O48jn+?E8bEpDUFA+7\">Player</variable><variable type=\"KIND_SpriteKind\" id=\"K_EzPsDCCeOSUzXa/$tp\">Projectile</variable><variable type=\"KIND_SpriteKind\" id=\"R89wA5xPJ-Y.MuY,LhzY\">Food</variable><variable type=\"KIND_SpriteKind\" id=\"U?Lw;+HskpbSEvxR0I91\">Enemy</variable><variable id=\"1qokRj-=^q)i`r1`}o^p\">i</variable><variable id=\"1eg)e{n`_[D?vf0nT}^T\">menuItems</variable><variable id=\"^-]ntReO[GPQThs#cV60\">y</variable><variable id=\"M#qL4P5L^Qf%$;;drIXF\">selected</variable><variable id=\"d;%fx!:1Q!LX}c%fI/p%\">enemyHealth</variable><variable id=\"12~-PJPGFPlr8k|766Cx\">difficulty</variable><variable id=\"1+O.ObGm8vwFp:h?g^#q\">enemyAccuracy</variable><variable id=\"97N*M!j-G[81yO/Q_YMK\">player</variable><variable id=\"6#zEPo}]!LqQS]wDXU2=\">enemy</variable><variable id=\")Yc$b/|HfGL^jUVwTg%H\">currentApp</variable><variable id=\"5DZlh9:-R$3j8[5#Z)}D\">b</variable><variable id=\"vDKUv-/MmO]_+;sOQmWf\">aimX</variable><variable id=\"Ss9pTeIH7E2/CQJFwEm#\">aimY</variable><variable id=\"zF`Zf[pRPIo6=;!y%?Jg\">dx</variable><variable id=\"IG6)L*Nh_q/B*7:s%(s)\">dy</variable><variable id=\"%)Yv|Wb!Xs~~hpo?;1Zo\">len</variable><variable id=\"0w7kP8Md{8o}zK@++r;;\">p</variable><variable id=\"A^FQmRLn;Qut{{lUN8EY\">e</variable><variable id=\"yvtgVY;Fz5~in[EtxR25\">soundOn</variable><variable id=\"y2i:D#6t~c|^BA5-]MSN\">logo</variable></variables><block type=\"pxt-on-start\" x=\"20\" y=\"20\"><statement name=\"HANDLER\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let enemy: Sprite = null\" numlines=\"1\" declaredvars=\"enemy\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let player: Sprite = null\" numlines=\"1\" declaredvars=\"player\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"enum App {&#13;\" line1=\"    Boot,&#13;\" line2=\"    Menu,&#13;\" line3=\"    Game,&#13;\" line4=\"    Settings&#13;\" line5=\"}\" numlines=\"6\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let currentApp = App.Boot\" numlines=\"1\" declaredvars=\"currentApp\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"1eg)e{n`_[D?vf0nT}^T\">menuItems</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_create_with\"><mutation items=\"1\" horizontalafter=\"3\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">Arena Shooter</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"yvtgVY;Fz5~in[EtxR25\">soundOn</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"12~-PJPGFPlr8k|766Cx\">difficulty</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"d;%fx!:1Q!LX}c%fI/p%\">enemyHealth</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">6</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"1+O.ObGm8vwFp:h?g^#q\">enemyAccuracy</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">70</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"yvtgVY;Fz5~in[EtxR25\">soundOn</field><comment pinned=\"false\" h=\"80\" w=\"160\">---------- LOAD SETTINGS ----------</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_compare\"><field name=\"OP\">NEQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">settings.readNumber(\"sound\")</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"difficulty = settings.readNumber(&quot;difficulty&quot;)\" numlines=\"1\"></mutation><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"12~-PJPGFPlr8k|766Cx\">difficulty</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"12~-PJPGFPlr8k|766Cx\">difficulty</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></statement><next><block type=\"synth_set_volume\"><value name=\"volume\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">soundOn ? 128 : 0</field></block></value><next><block type=\"gamesetbackgroundcolor\"><comment pinned=\"false\" h=\"80\" w=\"160\">---------- BOOT SCREEN ----------</comment><value name=\"color\"><shadow type=\"colorindexpicker\"><field name=\"index\">1</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"y2i:D#6t~c|^BA5-]MSN\">logo</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"spritescreate\"><value name=\"img\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n. . . . . . . \n. 5 5 . 5 5 . \n. 5 . 5 . 5 . \n. 5 5 . 5 5 . \n. . . . . . . \n`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value><value name=\"kind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Player</field></shadow></value></block></value><next><block type=\"spritesetpos\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"y2i:D#6t~c|^BA5-]MSN\">logo</field></block></value><value name=\"x\"><shadow type=\"positionPicker\"><field name=\"index\">80</field></shadow></value><value name=\"y\"><shadow type=\"positionPicker\"><field name=\"index\">50</field></shadow></value><next><block type=\"spritesay\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"1\" _input_init=\"true\"></mutation><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"y2i:D#6t~c|^BA5-]MSN\">logo</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Mewy OS</field></shadow></value><value name=\"millis\"><shadow type=\"timePicker\"><field name=\"ms\">2000</field></shadow></value><next><block type=\"mixer_play_sound\"><field name=\"sound\">music.powerUp</field><next><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">2000</field></shadow></value><next><block type=\"spritedestroy\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><field name=\"effect\">effects.spray</field><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"y2i:D#6t~c|^BA5-]MSN\">logo</field></block></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"currentApp = App.Menu\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"game.onPaint(function () {&#13;\" line1=\"    if (currentApp == App.Menu) drawMenu()&#13;\" line2=\"})\" numlines=\"3\"></mutation></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"gameinterval\" x=\"711\" y=\"20\"><comment pinned=\"false\" h=\"80\" w=\"160\">---------- ENEMY SHOOT ----------</comment><value name=\"period\"><shadow type=\"timePicker\"><field name=\"ms\">500</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">800</field></shadow></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"12~-PJPGFPlr8k|766Cx\">difficulty</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">150</field></shadow></value></block></value></block></value><statement name=\"HANDLER\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">NEQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\")Yc$b/|HfGL^jUVwTg%H\">currentApp</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">App.Game</field></block></value></block></value><statement name=\"DO0\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"return\" numlines=\"1\"></mutation></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">OR</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"6#zEPo}]!LqQS]wDXU2=\">enemy</field></block></value></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"97N*M!j-G[81yO/Q_YMK\">player</field></block></value></block></value></block></value><statement name=\"DO0\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"return\" numlines=\"1\"></mutation></block></statement><next><block type=\"variables_set\"><field name=\"VAR\" id=\"vDKUv-/MmO]_+;sOQmWf\">aimX</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"Sprite_blockCombine_get\"><field name=\"property\">Sprite.x</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"97N*M!j-G[81yO/Q_YMK\">player</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"Ss9pTeIH7E2/CQJFwEm#\">aimY</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"Sprite_blockCombine_get\"><field name=\"property\">Sprite.y</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"97N*M!j-G[81yO/Q_YMK\">player</field></block></value></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_random\"><value name=\"min\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"limit\"><shadow type=\"math_number\"><field name=\"NUM\">100</field></shadow></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"1+O.ObGm8vwFp:h?g^#q\">enemyAccuracy</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_change\"><field name=\"VAR\" id=\"vDKUv-/MmO]_+;sOQmWf\">aimX</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_random\"><value name=\"min\"><shadow type=\"math_number\"><field name=\"NUM\">-25</field></shadow></value><value name=\"limit\"><shadow type=\"math_number\"><field name=\"NUM\">25</field></shadow></value></block></value><next><block type=\"variables_change\"><field name=\"VAR\" id=\"Ss9pTeIH7E2/CQJFwEm#\">aimY</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_random\"><value name=\"min\"><shadow type=\"math_number\"><field name=\"NUM\">-25</field></shadow></value><value name=\"limit\"><shadow type=\"math_number\"><field name=\"NUM\">25</field></shadow></value></block></value></block></next></block></statement><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zF`Zf[pRPIo6=;!y%?Jg\">dx</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"vDKUv-/MmO]_+;sOQmWf\">aimX</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"Sprite_blockCombine_get\"><field name=\"property\">Sprite.x</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"6#zEPo}]!LqQS]wDXU2=\">enemy</field></block></value></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"IG6)L*Nh_q/B*7:s%(s)\">dy</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Ss9pTeIH7E2/CQJFwEm#\">aimY</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"Sprite_blockCombine_get\"><field name=\"property\">Sprite.y</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"6#zEPo}]!LqQS]wDXU2=\">enemy</field></block></value></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"%)Yv|Wb!Xs~~hpo?;1Zo\">len</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_js_op\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" op-type=\"unary\"></mutation><field name=\"OP\">sqrt</field><value name=\"ARG0\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zF`Zf[pRPIo6=;!y%?Jg\">dx</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zF`Zf[pRPIo6=;!y%?Jg\">dx</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"IG6)L*Nh_q/B*7:s%(s)\">dy</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"IG6)L*Nh_q/B*7:s%(s)\">dy</field></block></value></block></value></block></value></block></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sprites.createProjectileFromSprite(&#13;\" line1=\"        img`&#13;\" line2=\"            . 8 .&#13;\" line3=\"            8 8 8&#13;\" line4=\"            . 8 .&#13;\" line5=\"        `,&#13;\" line6=\"        enemy,&#13;\" line7=\"        dx / len * 85,&#13;\" line8=\"        dy / len * 85&#13;\" line9=\"    )\" numlines=\"10\"></mutation></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"gameupdate\" x=\"1538\" y=\"20\"><comment pinned=\"false\" h=\"80\" w=\"160\">---------- SMART FAST AI ----------</comment><statement name=\"HANDLER\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">NEQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\")Yc$b/|HfGL^jUVwTg%H\">currentApp</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">App.Game</field></block></value></block></value><statement name=\"DO0\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"return\" numlines=\"1\"></mutation></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">OR</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"6#zEPo}]!LqQS]wDXU2=\">enemy</field></block></value></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"97N*M!j-G[81yO/Q_YMK\">player</field></block></value></block></value></block></value><statement name=\"DO0\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"return\" numlines=\"1\"></mutation></block></statement><next><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vx@set</field><comment pinned=\"false\" h=\"80\" w=\"160\">Faster movement</comment><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"6#zEPo}]!LqQS]wDXU2=\">enemy</field></block></value><value name=\"value\"><block type=\"typescript_expression\"><field name=\"EXPRESSION\">enemy.x &lt; player.x ? 40 : -40</field></block></value><next><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vy@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"6#zEPo}]!LqQS]wDXU2=\">enemy</field></block></value><value name=\"value\"><block type=\"typescript_expression\"><field name=\"EXPRESSION\">enemy.y &lt; player.y ? 40 : -40</field></block></value><next><block type=\"pxt_controls_for_of\"><comment pinned=\"false\" h=\"80\" w=\"160\">Dodge nearby bullets</comment><value name=\"VAR\"><block type=\"variables_get_reporter\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VAR\" id=\"5DZlh9:-R$3j8[5#Z)}D\">b</field></block></value><value name=\"LIST\"><block type=\"allOfKind\"><value name=\"kind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Projectile</field></shadow></value></block></value><statement name=\"DO\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">AND</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_op3\"><value name=\"x\"><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"Sprite_blockCombine_get\"><field name=\"property\">Sprite.x</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"5DZlh9:-R$3j8[5#Z)}D\">b</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"Sprite_blockCombine_get\"><field name=\"property\">Sprite.x</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"6#zEPo}]!LqQS]wDXU2=\">enemy</field></block></value></block></value></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">14</field></shadow></value></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_op3\"><value name=\"x\"><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"Sprite_blockCombine_get\"><field name=\"property\">Sprite.y</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"5DZlh9:-R$3j8[5#Z)}D\">b</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"Sprite_blockCombine_get\"><field name=\"property\">Sprite.y</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"6#zEPo}]!LqQS]wDXU2=\">enemy</field></block></value></block></value></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">14</field></shadow></value></block></value></block></value><statement name=\"DO0\"><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vy@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"6#zEPo}]!LqQS]wDXU2=\">enemy</field></block></value><value name=\"value\"><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"Sprite_blockCombine_get\"><field name=\"property\">Sprite.vy</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"6#zEPo}]!LqQS]wDXU2=\">enemy</field></block></value></block></value></block></value></block></statement></block></statement></block></next></block></next></block></next></block></next></block></statement></block><block type=\"keyonevent\" x=\"3120\" y=\"20\"><field name=\"button\">controller.A</field><field name=\"event\">ControllerButtonEvent.Pressed</field><comment pinned=\"false\" h=\"80\" w=\"160\">---------- PLAYER SHOOT ----------</comment><statement name=\"HANDLER\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\")Yc$b/|HfGL^jUVwTg%H\">currentApp</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">App.Menu</field></block></value></block></value><statement name=\"DO0\"><block type=\"function_call\"><mutation name=\"startGame\" functionid=\"q3rZ4G/3Uu0PcYi*`Y4F\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"return\" numlines=\"1\"></mutation></block></next></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">AND</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\")Yc$b/|HfGL^jUVwTg%H\">currentApp</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">App.Game</field></block></value></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"97N*M!j-G[81yO/Q_YMK\">player</field></block></value></block></value><statement name=\"DO0\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sprites.createProjectileFromSprite(&#13;\" line1=\"            img`&#13;\" line2=\"                . 1 .&#13;\" line3=\"                1 1 1&#13;\" line4=\"                . 1 .&#13;\" line5=\"            `,&#13;\" line6=\"            player,&#13;\" line7=\"            160,&#13;\" line8=\"            0&#13;\" line9=\"        )\" numlines=\"10\"></mutation></block></statement></block></next></block></statement></block><block type=\"spritesoverlap\" x=\"3826\" y=\"20\"><comment pinned=\"false\" h=\"80\" w=\"160\">---------- TOUCH DAMAGE ----------</comment><value name=\"HANDLER_DRAG_PARAM_sprite\"><block type=\"argument_reporter_custom\"><mutation duplicateondrag=\"true\" typename=\"Sprite\"></mutation><field name=\"VALUE\">sprite</field></block></value><value name=\"kind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Player</field></shadow></value><value name=\"HANDLER_DRAG_PARAM_otherSprite\"><block type=\"argument_reporter_custom\"><mutation duplicateondrag=\"true\" typename=\"Sprite\"></mutation><field name=\"VALUE\">otherSprite</field></block></value><value name=\"otherKind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Enemy</field></shadow></value><statement name=\"HANDLER\"><block type=\"hudChangeLifeBy\"><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">-1</field></shadow></value><next><block type=\"device_pause\"><comment pinned=\"false\" h=\"80\" w=\"160\">cooldown so it's fair</comment><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">300</field></shadow></value><next><block type=\"controls_if\"><data>{\"commentRefs\":[],\"fieldData\":{}}</data><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LTE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"hudLife\"></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"gameOver\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><field name=\"effect\">effects.confetti</field><value name=\"win\"><shadow type=\"toggleWinLose\"><field name=\"win\">false</field></shadow></value></block></statement></block></next></block></next></block></statement></block><block type=\"spritesoverlap\" x=\"20\" y=\"1595\"><comment pinned=\"false\" h=\"80\" w=\"160\">---------- BULLET HIT ENEMY ----------</comment><value name=\"HANDLER_DRAG_PARAM_sprite\"><block type=\"argument_reporter_custom\"><mutation duplicateondrag=\"true\" typename=\"Sprite\"></mutation><field name=\"VALUE\">p</field></block></value><value name=\"kind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Projectile</field></shadow></value><value name=\"HANDLER_DRAG_PARAM_otherSprite\"><block type=\"argument_reporter_custom\"><mutation duplicateondrag=\"true\" typename=\"Sprite\"></mutation><field name=\"VALUE\">e</field></block></value><value name=\"otherKind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Enemy</field></shadow></value><statement name=\"HANDLER\"><block type=\"spritedestroy\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><field name=\"effect\">effects.spray</field><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"0w7kP8Md{8o}zK@++r;;\">p</field></block></value><next><block type=\"variables_change\"><field name=\"VAR\" id=\"d;%fx!:1Q!LX}c%fI/p%\">enemyHealth</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">-1</field></shadow></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LTE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"d;%fx!:1Q!LX}c%fI/p%\">enemyHealth</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"spritedestroy\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><field name=\"effect\">effects.spray</field><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"A^FQmRLn;Qut{{lUN8EY\">e</field></block></value><next><block type=\"hudChangeScoreBy\"><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"function_call\"><mutation name=\"spawnEnemy\" functionid=\"i85W=:F(|f|*LOD:_0_#\"></mutation></block></next></block></next></block></statement></block></next></block></next></block></statement></block><block type=\"spritesoverlap\" x=\"695\" y=\"1595\"><comment pinned=\"false\" h=\"80\" w=\"160\">---------- BULLET HIT PLAYER ----------</comment><value name=\"HANDLER_DRAG_PARAM_sprite\"><block type=\"argument_reporter_custom\"><mutation duplicateondrag=\"true\" typename=\"Sprite\"></mutation><field name=\"VALUE\">p</field></block></value><value name=\"kind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Projectile</field></shadow></value><value name=\"HANDLER_DRAG_PARAM_otherSprite\"><block type=\"argument_reporter_custom\"><mutation duplicateondrag=\"true\" typename=\"Sprite\"></mutation><field name=\"VALUE\">otherSprite</field></block></value><value name=\"otherKind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Player</field></shadow></value><statement name=\"HANDLER\"><block type=\"spritedestroy\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><field name=\"effect\">effects.spray</field><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"0w7kP8Md{8o}zK@++r;;\">p</field></block></value><next><block type=\"hudChangeLifeBy\"><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">-1</field></shadow></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LTE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"hudLife\"></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"gameOver\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><field name=\"effect\">effects.confetti</field><value name=\"win\"><shadow type=\"toggleWinLose\"><field name=\"win\">false</field></shadow></value></block></statement></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"1454\" y=\"1595\"><mutation name=\"drawMenu\" functionid=\"k@Oo-0+Y%(AgA.@Z6uDX\"></mutation><field name=\"function_name\">drawMenu</field><comment pinned=\"false\" h=\"80\" w=\"160\">---------- MENU ----------</comment><statement name=\"STACK\"><block type=\"Image_fill\"><value name=\"picture\"><block type=\"typescript_expression\"><field name=\"EXPRESSION\">screen</field></block></value><value name=\"c\"><shadow type=\"colorindexpicker\"><field name=\"index\">9</field></shadow></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"screen.printCenter(&quot;MEWY OS&quot;, 10, 1)\" numlines=\"1\"></mutation><next><block type=\"pxt_controls_for\"><value name=\"VAR\"><block type=\"variables_get_reporter\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VAR\" id=\"1qokRj-=^q)i`r1`}o^p\">i</field></block></value><value name=\"TO\"><shadow type=\"math_whole_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"1eg)e{n`_[D?vf0nT}^T\">menuItems</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><statement name=\"DO\"><block type=\"variables_set\"><field name=\"VAR\" id=\"^-]ntReO[GPQThs#cV60\">y</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">50</field></shadow></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"1qokRj-=^q)i`r1`}o^p\">i</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">18</field></shadow></value></block></value></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"1qokRj-=^q)i`r1`}o^p\">i</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"M#qL4P5L^Qf%$;;drIXF\">selected</field></block></value></block></value><statement name=\"DO0\"><block type=\"Image_drawRect\"><comment pinned=\"false\" h=\"80\" w=\"160\">❤️ red box</comment><value name=\"picture\"><block type=\"typescript_expression\"><field name=\"EXPRESSION\">screen</field></block></value><value name=\"x\"><shadow type=\"math_number\"><field name=\"NUM\">20</field></shadow></value><value name=\"y\"><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"^-]ntReO[GPQThs#cV60\">y</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">4</field></shadow></value></block></value><value name=\"w\"><shadow type=\"math_number\"><field name=\"NUM\">120</field></shadow></value><value name=\"h\"><shadow type=\"math_number\"><field name=\"NUM\">14</field></shadow></value><value name=\"c\"><shadow type=\"colorindexpicker\"><field name=\"index\">2</field></shadow></value></block></statement><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"screen.print(menuItems[i], 30, y, 1)\" numlines=\"1\"></mutation></block></next></block></next></block></statement><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"screen.printCenter(&quot;A = Start&quot;, 105, 1)\" numlines=\"1\"></mutation></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"2394\" y=\"1595\"><mutation name=\"startGame\" functionid=\"q3rZ4G/3Uu0PcYi*`Y4F\"></mutation><field name=\"function_name\">startGame</field><comment pinned=\"false\" h=\"80\" w=\"160\">---------- START GAME ----------</comment><statement name=\"STACK\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"currentApp = App.Game\" numlines=\"1\"></mutation><next><block type=\"gamesetbackgroundcolor\"><value name=\"color\"><shadow type=\"colorindexpicker\"><field name=\"index\">7</field></shadow></value><next><block type=\"Image_fill\"><value name=\"picture\"><block type=\"typescript_expression\"><field name=\"EXPRESSION\">screen</field></block></value><value name=\"c\"><shadow type=\"colorindexpicker\"><field name=\"index\">7</field></shadow></value><next><block type=\"sprites_destroy_all_sprites_of_kind\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><field name=\"effect\">effects.spray</field><value name=\"kind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Player</field></shadow></value><next><block type=\"sprites_destroy_all_sprites_of_kind\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><field name=\"effect\">effects.spray</field><value name=\"kind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Enemy</field></shadow></value><next><block type=\"sprites_destroy_all_sprites_of_kind\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><field name=\"effect\">effects.spray</field><value name=\"kind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Projectile</field></shadow></value><next><block type=\"hudSetLife\"><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">3</field></shadow></value><next><block type=\"hudsetScore\"><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"d;%fx!:1Q!LX}c%fI/p%\">enemyHealth</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">4</field></shadow></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"12~-PJPGFPlr8k|766Cx\">difficulty</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"1+O.ObGm8vwFp:h?g^#q\">enemyAccuracy</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">60</field></shadow></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"12~-PJPGFPlr8k|766Cx\">difficulty</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">10</field></shadow></value></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"97N*M!j-G[81yO/Q_YMK\">player</field><comment pinned=\"false\" h=\"80\" w=\"160\">PLAYER</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"spritescreate\"><value name=\"img\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n. 2 2 . \n2 2 2 2 \n2 2 2 2 \n. 2 2 . \n`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value><value name=\"kind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Player</field></shadow></value></block></value><next><block type=\"spritesetpos\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"97N*M!j-G[81yO/Q_YMK\">player</field></block></value><value name=\"x\"><shadow type=\"positionPicker\"><field name=\"index\">25</field></shadow></value><value name=\"y\"><shadow type=\"positionPicker\"><field name=\"index\">60</field></shadow></value><next><block type=\"spritesetsetstayinscreen\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"97N*M!j-G[81yO/Q_YMK\">player</field></block></value><value name=\"on\"><shadow type=\"toggleOnOff\"><field name=\"on\">true</field></shadow></value><next><block type=\"game_control_sprite\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"97N*M!j-G[81yO/Q_YMK\">player</field></block></value><value name=\"vx\"><shadow type=\"spriteSpeedPicker\"><field name=\"speed\">100</field></shadow></value><value name=\"vy\"><shadow type=\"spriteSpeedPicker\"><field name=\"speed\">100</field></shadow></value><next><block type=\"function_call\"><mutation name=\"spawnEnemy\" functionid=\"i85W=:F(|f|*LOD:_0_#\"></mutation></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"3053\" y=\"1595\"><mutation name=\"spawnEnemy\" functionid=\"i85W=:F(|f|*LOD:_0_#\"></mutation><field name=\"function_name\">spawnEnemy</field><comment pinned=\"false\" h=\"80\" w=\"160\">---------- SPAWN ENEMY ----------</comment><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\"6#zEPo}]!LqQS]wDXU2=\">enemy</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"spritescreate\"><value name=\"img\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n. 4 4 . \n4 4 4 4 \n4 4 4 4 \n. 4 4 . \n`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value><value name=\"kind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Enemy</field></shadow></value></block></value><next><block type=\"spritesetpos\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"6#zEPo}]!LqQS]wDXU2=\">enemy</field></block></value><value name=\"x\"><shadow type=\"positionPicker\"><field name=\"index\">140</field></shadow></value><value name=\"y\"><shadow type=\"positionPicker\"><field name=\"index\">0</field></shadow><block type=\"device_random\"><value name=\"min\"><shadow type=\"math_number\"><field name=\"NUM\">20</field></shadow></value><value name=\"limit\"><shadow type=\"math_number\"><field name=\"NUM\">100</field></shadow></value></block></value></block></next></block></statement></block></xml>","main.ts":"// ===============================\n// MEWY OS v1.0 – FIXED & STABLE\n// ===============================\n\nenum App {\n    Boot,\n    Menu,\n    Game\n}\n\nlet currentApp = App.Boot\nlet selected = 0\nlet menuItems = [\"Arena Shooter\"]\n\nlet player: Sprite = null\nlet enemy: Sprite = null\nlet enemyHearts = 3\n\n// ---------- BOOT ----------\nscene.setBackgroundColor(1)\n\nlet logo = sprites.create(img`\n    . . . . . . .\n    . 5 5 . 5 5 .\n    . 5 . 5 . 5 .\n    . 5 5 . 5 5 .\n    . . . . . . .\n`, SpriteKind.Player)\n\nlogo.setPosition(80, 50)\nlogo.say(\"Mewy OS\", 2000)\nmusic.powerUp.play()\npause(2000)\nlogo.destroy()\ncurrentApp = App.Menu\n\n// ---------- MENU ----------\nfunction drawMenu() {\n    screen.fill(9)\n    screen.printCenter(\"MEWY OS\", 10, 1)\n\n    for (let i = 0; i < menuItems.length; i++) {\n        let y = 50 + i * 18\n        if (i == selected) {\n            screen.drawRect(20, y - 4, 120, 14, 2) // red box\n        }\n        screen.print(menuItems[i], 30, y, 1)\n    }\n\n    screen.printCenter(\"A = Start\", 105, 1)\n}\n\n// ---------- START GAME ----------\nfunction startGame() {\n    currentApp = App.Game\n    scene.setBackgroundColor(7)\n    screen.fill(7)\n\n    sprites.destroyAllSpritesOfKind(SpriteKind.Player)\n    sprites.destroyAllSpritesOfKind(SpriteKind.Enemy)\n    sprites.destroyAllSpritesOfKind(SpriteKind.Projectile)\n\n    info.setLife(3)\n    info.setScore(100)\n\n    // PLAYER\n    player = sprites.create(img`\n        . 2 2 .\n        2 2 2 2\n        2 2 2 2\n        . 2 2 .\n    `, SpriteKind.Player)\n    player.setPosition(25, 60)\n    player.setStayInScreen(true)\n    controller.moveSprite(player, 100, 100)\n\n    spawnEnemy()\n}\n\n// ---------- SPAWN ENEMY ----------\nfunction spawnEnemy() {\n    enemyHearts = 3\n    enemy = sprites.create(img`\n        . 4 4 .\n        4 4 4 4\n        4 4 4 4\n        . 4 4 .\n    `, SpriteKind.Enemy)\n\n    enemy.setPosition(140, randint(20, 100))\n}\n\n// ---------- ENEMY MOVEMENT (FAST, NO SHOOT) ----------\ngame.onUpdate(function () {\n    if (currentApp != App.Game) return\n    if (!enemy || !player) return\n\n    enemy.vx = enemy.x < player.x ? 40 : -40\n    enemy.vy = enemy.y < player.y ? 40 : -40\n})\n\n// ---------- PLAYER SHOOT ----------\ncontroller.A.onEvent(ControllerButtonEvent.Pressed, function () {\n    if (currentApp == App.Menu) {\n        startGame()\n        return\n    }\n\n    if (currentApp == App.Game && player) {\n        // shooting costs 1 score\n        info.changeScoreBy(-1)\n\n        sprites.createProjectileFromSprite(\n            img`\n                . 1 .\n                1 1 1\n                . 1 .\n            `,\n            player,\n            160,\n            0\n        )\n    }\n})\n\n// ---------- BULLET HIT ENEMY ----------\nsprites.onOverlap(SpriteKind.Projectile, SpriteKind.Enemy, function (bullet, e) {\n    bullet.destroy()\n\n    enemyHearts--\n    info.changeScoreBy(1) // refund score (hit)\n\n    if (enemyHearts <= 0) {\n        e.destroy()\n        spawnEnemy()\n    }\n})\n\n// ---------- ENEMY TOUCH DAMAGE ----------\nsprites.onOverlap(SpriteKind.Player, SpriteKind.Enemy, function () {\n    info.changeLifeBy(-1)\n    pause(300)\n\n    if (info.life() <= 0) {\n        game.over(false)\n    }\n})\n\n// ---------- DRAW ----------\ngame.onPaint(function () {\n    if (currentApp == App.Menu) {\n        drawMenu()\n    }\n})\n","README.md":" ","assets.json":"","pxt.json":"{\n    \"name\": \"Mewy Machine Beta2\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"device\": \"*\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\",\n        \"assets.json\"\n    ],\n    \"preferredEditor\": \"tsprj\"\n}\n"}},{"timestamp":1764283681950,"editorVersion":"2.0.62","text":{"main.blocks":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable type=\"KIND_SpriteKind\" id=\"K10;JM4UhC|}eQn/[u)%\">Player</variable><variable type=\"KIND_SpriteKind\" id=\"~er+1ipXi0I^[UN`a3*#\">Projectile</variable><variable type=\"KIND_SpriteKind\" id=\"_dQK[}}9+sRGxLo,pmje\">Food</variable><variable type=\"KIND_SpriteKind\" id=\"Ql7k6Q%+3[iA+WRx8LiK\">Enemy</variable><variable id=\"`xbeyYgqoc:w%uL]]BG?\">i</variable><variable id=\"=Li;s4!`|zdItTH?tKnQ\">menuItems</variable><variable id=\"(-As/SpxD(`^8g.tvV^e\">y</variable><variable id=\"_b+sh3nJXAPx?C,MTQ|M\">selected</variable><variable id=\"@6,P!l3gyA!o4u7va@#u\">player</variable><variable id=\"5}Y_5YpV)aM_V$:0SsNz\">enemyHearts</variable><variable id=\"aG_c^~Joa,3=Uv1Haj,i\">enemy</variable><variable id=\"?xRcPH/e#nUD#H:3[Q(-\">currentApp</variable><variable id=\"P.h:7)ovmm!U_4gF!vBm\">bullet</variable><variable id=\"jU6)R*?EGZRH/iMqy!2n\">e</variable><variable id=\"M*@uk^1W{6=,hN%OmMaz\">logo</variable></variables><block type=\"pxt-on-start\" x=\"0\" y=\"0\"><statement name=\"HANDLER\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let enemy: Sprite = null\" numlines=\"1\" declaredvars=\"enemy\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let player: Sprite = null\" numlines=\"1\" declaredvars=\"player\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"enum App {\" line1=\"    Boot,\" line2=\"    Menu,\" line3=\"    Game\" line4=\"}\" numlines=\"5\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let currentApp = App.Boot\" numlines=\"1\" declaredvars=\"currentApp\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"=Li;s4!`|zdItTH?tKnQ\">menuItems</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_create_with\"><mutation items=\"1\" horizontalafter=\"3\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">Arena Shooter</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"5}Y_5YpV)aM_V$:0SsNz\">enemyHearts</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">3</field></shadow></value><next><block type=\"gamesetbackgroundcolor\"><comment pinned=\"false\" h=\"80\" w=\"160\">---------- BOOT ----------</comment><value name=\"color\"><shadow type=\"colorindexpicker\"><field name=\"index\">1</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"M*@uk^1W{6=,hN%OmMaz\">logo</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"spritescreate\"><value name=\"img\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n. . . . . . . \n. 5 5 . 5 5 . \n. 5 . 5 . 5 . \n. 5 5 . 5 5 . \n. . . . . . . \n`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value><value name=\"kind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Player</field></shadow></value></block></value><next><block type=\"spritesetpos\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"M*@uk^1W{6=,hN%OmMaz\">logo</field></block></value><value name=\"x\"><shadow type=\"positionPicker\"><field name=\"index\">80</field></shadow></value><value name=\"y\"><shadow type=\"positionPicker\"><field name=\"index\">50</field></shadow></value><next><block type=\"spritesay\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"1\" _input_init=\"true\"></mutation><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"M*@uk^1W{6=,hN%OmMaz\">logo</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Mewy OS</field></shadow></value><value name=\"millis\"><shadow type=\"timePicker\"><field name=\"ms\">2000</field></shadow></value><next><block type=\"mixer_play_sound\"><field name=\"sound\">music.powerUp</field><next><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">2000</field></shadow></value><next><block type=\"spritedestroy\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><field name=\"effect\">effects.spray</field><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"M*@uk^1W{6=,hN%OmMaz\">logo</field></block></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"currentApp = App.Menu\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"game.onPaint(function () {\" line1=\"    if (currentApp == App.Menu) {\" line2=\"        drawMenu()\" line3=\"    }\" line4=\"})\" numlines=\"5\"></mutation></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"gameupdate\" x=\"585\" y=\"0\"><comment pinned=\"false\" h=\"80\" w=\"160\">---------- ENEMY MOVEMENT (FAST, NO SHOOT) ----------</comment><statement name=\"HANDLER\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">NEQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"?xRcPH/e#nUD#H:3[Q(-\">currentApp</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">App.Game</field></block></value></block></value><statement name=\"DO0\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"return\" numlines=\"1\"></mutation></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">OR</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"aG_c^~Joa,3=Uv1Haj,i\">enemy</field></block></value></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@6,P!l3gyA!o4u7va@#u\">player</field></block></value></block></value></block></value><statement name=\"DO0\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"return\" numlines=\"1\"></mutation></block></statement><next><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"aG_c^~Joa,3=Uv1Haj,i\">enemy</field></block></value><value name=\"value\"><block type=\"typescript_expression\"><field name=\"EXPRESSION\">enemy.x &lt; player.x ? 40 : -40</field></block></value><next><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vy@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"aG_c^~Joa,3=Uv1Haj,i\">enemy</field></block></value><value name=\"value\"><block type=\"typescript_expression\"><field name=\"EXPRESSION\">enemy.y &lt; player.y ? 40 : -40</field></block></value></block></next></block></next></block></next></block></statement></block><block type=\"keyonevent\" x=\"1276\" y=\"0\"><field name=\"button\">controller.A</field><field name=\"event\">ControllerButtonEvent.Pressed</field><comment pinned=\"false\" h=\"80\" w=\"160\">---------- PLAYER SHOOT ----------</comment><statement name=\"HANDLER\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"?xRcPH/e#nUD#H:3[Q(-\">currentApp</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">App.Menu</field></block></value></block></value><statement name=\"DO0\"><block type=\"function_call\"><mutation name=\"startGame\" functionid=\"xbQ[)y5?r5SOjS,tRhVz\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"return\" numlines=\"1\"></mutation></block></next></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">AND</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"?xRcPH/e#nUD#H:3[Q(-\">currentApp</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">App.Game</field></block></value></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@6,P!l3gyA!o4u7va@#u\">player</field></block></value></block></value><statement name=\"DO0\"><block type=\"hudChangeScoreBy\"><comment pinned=\"false\" h=\"80\" w=\"160\">shooting costs 1 score</comment><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">-1</field></shadow></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sprites.createProjectileFromSprite(\" line1=\"            img`\" line2=\"                . 1 .\" line3=\"                1 1 1\" line4=\"                . 1 .\" line5=\"            `,\" line6=\"            player,\" line7=\"            160,\" line8=\"            0\" line9=\"        )\" numlines=\"10\"></mutation></block></next></block></statement></block></next></block></statement></block><block type=\"spritesoverlap\" x=\"1977\" y=\"0\"><comment pinned=\"false\" h=\"80\" w=\"160\">---------- BULLET HIT ENEMY ----------</comment><value name=\"HANDLER_DRAG_PARAM_sprite\"><block type=\"argument_reporter_custom\"><mutation duplicateondrag=\"true\" typename=\"Sprite\"></mutation><field name=\"VALUE\">bullet</field></block></value><value name=\"kind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Projectile</field></shadow></value><value name=\"HANDLER_DRAG_PARAM_otherSprite\"><block type=\"argument_reporter_custom\"><mutation duplicateondrag=\"true\" typename=\"Sprite\"></mutation><field name=\"VALUE\">e</field></block></value><value name=\"otherKind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Enemy</field></shadow></value><statement name=\"HANDLER\"><block type=\"spritedestroy\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><field name=\"effect\">effects.spray</field><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"P.h:7)ovmm!U_4gF!vBm\">bullet</field></block></value><next><block type=\"variables_change\"><field name=\"VAR\" id=\"5}Y_5YpV)aM_V$:0SsNz\">enemyHearts</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">-1</field></shadow></value><next><block type=\"hudChangeScoreBy\"><comment pinned=\"false\" h=\"80\" w=\"160\">refund score (hit)</comment><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"controls_if\"><data>{\"commentRefs\":[],\"fieldData\":{}}</data><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LTE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"5}Y_5YpV)aM_V$:0SsNz\">enemyHearts</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"spritedestroy\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><field name=\"effect\">effects.spray</field><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"jU6)R*?EGZRH/iMqy!2n\">e</field></block></value><next><block type=\"function_call\"><mutation name=\"spawnEnemy\" functionid=\"1a%0#Wq6D1jq4~$Y2k-p\"></mutation></block></next></block></statement></block></next></block></next></block></next></block></statement></block><block type=\"spritesoverlap\" x=\"2675\" y=\"0\"><comment pinned=\"false\" h=\"80\" w=\"160\">---------- ENEMY TOUCH DAMAGE ----------</comment><value name=\"HANDLER_DRAG_PARAM_sprite\"><block type=\"argument_reporter_custom\"><mutation duplicateondrag=\"true\" typename=\"Sprite\"></mutation><field name=\"VALUE\">sprite</field></block></value><value name=\"kind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Player</field></shadow></value><value name=\"HANDLER_DRAG_PARAM_otherSprite\"><block type=\"argument_reporter_custom\"><mutation duplicateondrag=\"true\" typename=\"Sprite\"></mutation><field name=\"VALUE\">otherSprite</field></block></value><value name=\"otherKind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Enemy</field></shadow></value><statement name=\"HANDLER\"><block type=\"hudChangeLifeBy\"><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">-1</field></shadow></value><next><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">300</field></shadow></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LTE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"hudLife\"></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"gameOver\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><field name=\"effect\">effects.confetti</field><value name=\"win\"><shadow type=\"toggleWinLose\"><field name=\"win\">false</field></shadow></value></block></statement></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"0\" y=\"1183\"><mutation name=\"drawMenu\" functionid=\"YzzKu{{3#F_h;~{2;%Bi\"></mutation><field name=\"function_name\">drawMenu</field><comment pinned=\"false\" h=\"80\" w=\"160\">---------- MENU ----------</comment><statement name=\"STACK\"><block type=\"Image_fill\"><value name=\"picture\"><block type=\"typescript_expression\"><field name=\"EXPRESSION\">screen</field></block></value><value name=\"c\"><shadow type=\"colorindexpicker\"><field name=\"index\">9</field></shadow></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"screen.printCenter(&quot;MEWY OS&quot;, 10, 1)\" numlines=\"1\"></mutation><next><block type=\"pxt_controls_for\"><value name=\"VAR\"><block type=\"variables_get_reporter\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VAR\" id=\"`xbeyYgqoc:w%uL]]BG?\">i</field></block></value><value name=\"TO\"><shadow type=\"math_whole_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"=Li;s4!`|zdItTH?tKnQ\">menuItems</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><statement name=\"DO\"><block type=\"variables_set\"><field name=\"VAR\" id=\"(-As/SpxD(`^8g.tvV^e\">y</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">50</field></shadow></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"`xbeyYgqoc:w%uL]]BG?\">i</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">18</field></shadow></value></block></value></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"`xbeyYgqoc:w%uL]]BG?\">i</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"_b+sh3nJXAPx?C,MTQ|M\">selected</field></block></value></block></value><statement name=\"DO0\"><block type=\"Image_drawRect\"><comment pinned=\"false\" h=\"80\" w=\"160\">red box</comment><value name=\"picture\"><block type=\"typescript_expression\"><field name=\"EXPRESSION\">screen</field></block></value><value name=\"x\"><shadow type=\"math_number\"><field name=\"NUM\">20</field></shadow></value><value name=\"y\"><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"(-As/SpxD(`^8g.tvV^e\">y</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">4</field></shadow></value></block></value><value name=\"w\"><shadow type=\"math_number\"><field name=\"NUM\">120</field></shadow></value><value name=\"h\"><shadow type=\"math_number\"><field name=\"NUM\">14</field></shadow></value><value name=\"c\"><shadow type=\"colorindexpicker\"><field name=\"index\">2</field></shadow></value></block></statement><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"screen.print(menuItems[i], 30, y, 1)\" numlines=\"1\"></mutation></block></next></block></next></block></statement><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"screen.printCenter(&quot;A = Start&quot;, 105, 1)\" numlines=\"1\"></mutation></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"932\" y=\"1183\"><mutation name=\"startGame\" functionid=\"xbQ[)y5?r5SOjS,tRhVz\"></mutation><field name=\"function_name\">startGame</field><comment pinned=\"false\" h=\"80\" w=\"160\">---------- START GAME ----------</comment><statement name=\"STACK\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"currentApp = App.Game\" numlines=\"1\"></mutation><next><block type=\"gamesetbackgroundcolor\"><value name=\"color\"><shadow type=\"colorindexpicker\"><field name=\"index\">7</field></shadow></value><next><block type=\"Image_fill\"><value name=\"picture\"><block type=\"typescript_expression\"><field name=\"EXPRESSION\">screen</field></block></value><value name=\"c\"><shadow type=\"colorindexpicker\"><field name=\"index\">7</field></shadow></value><next><block type=\"sprites_destroy_all_sprites_of_kind\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><field name=\"effect\">effects.spray</field><value name=\"kind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Player</field></shadow></value><next><block type=\"sprites_destroy_all_sprites_of_kind\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><field name=\"effect\">effects.spray</field><value name=\"kind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Enemy</field></shadow></value><next><block type=\"sprites_destroy_all_sprites_of_kind\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><field name=\"effect\">effects.spray</field><value name=\"kind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Projectile</field></shadow></value><next><block type=\"hudSetLife\"><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">3</field></shadow></value><next><block type=\"hudsetScore\"><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">100</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"@6,P!l3gyA!o4u7va@#u\">player</field><comment pinned=\"false\" h=\"80\" w=\"160\">PLAYER</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"spritescreate\"><value name=\"img\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n. 2 2 . \n2 2 2 2 \n2 2 2 2 \n. 2 2 . \n`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value><value name=\"kind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Player</field></shadow></value></block></value><next><block type=\"spritesetpos\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"@6,P!l3gyA!o4u7va@#u\">player</field></block></value><value name=\"x\"><shadow type=\"positionPicker\"><field name=\"index\">25</field></shadow></value><value name=\"y\"><shadow type=\"positionPicker\"><field name=\"index\">60</field></shadow></value><next><block type=\"spritesetsetstayinscreen\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"@6,P!l3gyA!o4u7va@#u\">player</field></block></value><value name=\"on\"><shadow type=\"toggleOnOff\"><field name=\"on\">true</field></shadow></value><next><block type=\"game_control_sprite\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"@6,P!l3gyA!o4u7va@#u\">player</field></block></value><value name=\"vx\"><shadow type=\"spriteSpeedPicker\"><field name=\"speed\">100</field></shadow></value><value name=\"vy\"><shadow type=\"spriteSpeedPicker\"><field name=\"speed\">100</field></shadow></value><next><block type=\"function_call\"><mutation name=\"spawnEnemy\" functionid=\"1a%0#Wq6D1jq4~$Y2k-p\"></mutation></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"1516\" y=\"1183\"><mutation name=\"spawnEnemy\" functionid=\"1a%0#Wq6D1jq4~$Y2k-p\"></mutation><field name=\"function_name\">spawnEnemy</field><comment pinned=\"false\" h=\"80\" w=\"160\">---------- SPAWN ENEMY ----------</comment><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\"5}Y_5YpV)aM_V$:0SsNz\">enemyHearts</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">3</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"aG_c^~Joa,3=Uv1Haj,i\">enemy</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"spritescreate\"><value name=\"img\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n. 4 4 . \n4 4 4 4 \n4 4 4 4 \n. 4 4 . \n`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value><value name=\"kind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Enemy</field></shadow></value></block></value><next><block type=\"spritesetpos\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"aG_c^~Joa,3=Uv1Haj,i\">enemy</field></block></value><value name=\"x\"><shadow type=\"positionPicker\"><field name=\"index\">140</field></shadow></value><value name=\"y\"><shadow type=\"positionPicker\"><field name=\"index\">0</field></shadow><block type=\"device_random\"><value name=\"min\"><shadow type=\"math_number\"><field name=\"NUM\">20</field></shadow></value><value name=\"limit\"><shadow type=\"math_number\"><field name=\"NUM\">100</field></shadow></value></block></value></block></next></block></next></block></statement></block></xml>","main.ts":"// ===============================\n// MEWY OS v1.6 — Shooter + Real Maze\n// Double-checked for MakeCode Arcade\n// ===============================\n\n// define a wall SpriteKind\nnamespace SpriteKind {\n    export const Wall = SpriteKind.create()\n}\n\nenum App {\n    Boot,\n    Menu,\n    Shooter,\n    Maze,\n    ComingSoon\n}\n\nlet currentApp = App.Boot\nlet selected = 0\nlet menuItems = [\"Shooter\", \"Maze\", \"Coming Soon\"]\n\n// --- global vars for shooter ---\nlet shooterPlayer: Sprite = null\nlet shooterEnemy: Sprite = null\nlet shooterEnemyHP = 3\n\n// --- global vars for maze ---\nlet mazePlayer: Sprite = null\nlet mazeGoal: Sprite = null\nlet mazeWalls: Sprite[] = []\nlet mazeTimer = 0\nlet mazeBest = settings.readNumber(\"mazeBest\")\nif (mazeBest == 0) mazeBest = 9999\n\n// Maze grid parameters (odd-grid carving)\nconst MAZE_CELLS_X = 11 // number of cell columns (odd carving grid will be 2*MAZE_CELLS_X+1)\nconst MAZE_CELLS_Y = 7\nconst CELL = 6 // pixel size per grid cell (small so fits 160x120)\nlet gridCols = MAZE_CELLS_X * 2 + 1\nlet gridRows = MAZE_CELLS_Y * 2 + 1\nlet mazeGrid: number[][] = [] // 0 = wall, 1 = path\n\n// ---------- BOOT ----------\nscene.setBackgroundColor(1)\nlet logo = sprites.create(img`\n    . . . . . . .\n    . 5 5 . 5 5 .\n    . 5 . 5 . 5 .\n    . 5 5 . 5 5 .\n    . . . . . . .\n`, SpriteKind.Player)\nlogo.setPosition(80, 50)\nlogo.say(\"Mewy OS\", 1200)\nmusic.powerUp.play()\npause(1300)\nlogo.destroy()\ncurrentApp = App.Menu\ndrawMenu()\n\n// ---------- MENU ----------\nfunction drawMenu() {\n    scene.setBackgroundColor(9)\n    screen.fill(9)\n    screen.printCenter(\"MEWY OS\", 10, 1)\n\n    for (let i = 0; i < menuItems.length; i++) {\n        let y = 40 + i * 18\n        if (i == selected) {\n            // red selection rectangle (stroke)\n            screen.drawRect(18, y - 4, 124, 16, 2)\n        }\n        screen.print(menuItems[i], 30, y, 1)\n    }\n    screen.printCenter(\"A = Select   B = Back\", 110, 1)\n    screen.printCenter(\"BEST MAZE: \" + mazeBest + \"s\", 100, 1)\n}\n\n// ---------- CLEANUP helpers ----------\nfunction destroyAllKinds() {\n    sprites.destroyAllSpritesOfKind(SpriteKind.Player)\n    sprites.destroyAllSpritesOfKind(SpriteKind.Enemy)\n    sprites.destroyAllSpritesOfKind(SpriteKind.Projectile)\n    sprites.destroyAllSpritesOfKind(SpriteKind.Food)\n    sprites.destroyAllSpritesOfKind(SpriteKind.Wall)\n}\n\n// ---------- SHOOTER: start ----------\nfunction startShooter() {\n    destroyAllKinds()\n    currentApp = App.Shooter\n    scene.setBackgroundColor(7)\n\n    info.setScore(100)\n    info.setLife(3)\n\n    shooterEnemyHP = 3\n\n    shooterPlayer = sprites.create(img`\n        . 4 4 .\n        4 4 4 4\n        4 4 4 4\n        . 4 4 .\n    `, SpriteKind.Player)\n    shooterPlayer.setPosition(20, 60)\n    shooterPlayer.setStayInScreen(true)\n    controller.moveSprite(shooterPlayer, 100, 100)\n\n    shooterEnemy = sprites.create(img`\n        . 2 2 .\n        2 2 2 2\n        2 2 2 2\n        . 2 2 .\n    `, SpriteKind.Enemy)\n    shooterEnemy.setPosition(140, 60)\n}\n\n// enemy AI: chase\ngame.onUpdateInterval(200, function () {\n    if (currentApp != App.Shooter) return\n    if (!shooterEnemy || !shooterPlayer) return\n    shooterEnemy.vx = shooterPlayer.x < shooterEnemy.x ? -40 : 40\n    shooterEnemy.vy = shooterPlayer.y < shooterEnemy.y ? -40 : 40\n})\n\n// shooter collisions\nsprites.onOverlap(SpriteKind.Projectile, SpriteKind.Enemy, function (proj, en) {\n    if (currentApp != App.Shooter) return\n    proj.destroy()\n    shooterEnemyHP--\n    music.zapped.play()\n    info.changeScoreBy(1) // refund\n\n    if (shooterEnemyHP <= 0) {\n        en.destroy(effects.disintegrate, 300)\n        info.changeScoreBy(10)\n        pause(200)\n        // respawn enemy\n        shooterEnemy = sprites.create(img`\n            . 2 2 .\n            2 2 2 2\n            2 2 2 2\n            . 2 2 .\n        `, SpriteKind.Enemy)\n        shooterEnemy.setPosition(140, randint(20, 100))\n        shooterEnemyHP = 3\n    }\n})\n\nsprites.onOverlap(SpriteKind.Projectile, SpriteKind.Player, function (proj, pl) {\n    if (currentApp != App.Shooter) return\n    proj.destroy()\n    info.changeLifeBy(-1)\n    if (info.life() <= 0) game.over(false)\n})\n\nsprites.onOverlap(SpriteKind.Player, SpriteKind.Enemy, function (pl, en) {\n    if (currentApp != App.Shooter) return\n    info.changeLifeBy(-1)\n    scene.cameraShake(4, 200)\n    pause(300)\n    if (info.life() <= 0) game.over(false)\n})\n\n// ---------- MAZE: generation (recursive backtracker) ----------\nfunction initMazeGrid() {\n    mazeGrid = []\n    for (let r = 0; r < gridRows; r++) {\n        mazeGrid[r] = []\n        for (let c = 0; c < gridCols; c++) {\n            mazeGrid[r][c] = 0 // wall\n        }\n    }\n}\n\nfunction carveMaze() {\n    initMazeGrid()\n    // start at (1,1)\n    let stack: number[][] = []\n    let sr = 1\n    let sc = 1\n    mazeGrid[sr][sc] = 1\n    stack.push([sr, sc])\n\n    while (stack.length > 0) {\n        let top = stack[stack.length - 1]\n        let r = top[0]\n        let c = top[1]\n        let neighbors: number[][] = []\n        // Up\n        if (r - 2 > 0 && mazeGrid[r - 2][c] == 0) neighbors.push([r - 2, c])\n        // Down\n        if (r + 2 < gridRows && mazeGrid[r + 2][c] == 0) neighbors.push([r + 2, c])\n        // Left\n        if (c - 2 > 0 && mazeGrid[r][c - 2] == 0) neighbors.push([r, c - 2])\n        // Right\n        if (c + 2 < gridCols && mazeGrid[r][c + 2] == 0) neighbors.push([r, c + 2])\n\n        if (neighbors.length > 0) {\n            let n = neighbors[randint(0, neighbors.length - 1)]\n            let nr = n[0], nc = n[1]\n            // remove wall between\n            let midR = (r + nr) >> 1\n            let midC = (c + nc) >> 1\n            mazeGrid[midR][midC] = 1\n            mazeGrid[nr][nc] = 1\n            stack.push([nr, nc])\n        } else {\n            stack.pop()\n        }\n    }\n}\n\n// convert grid (r,c) to pixel center\nfunction gridToPixel(c: number, r: number): number[] {\n    let totalW = gridCols * CELL\n    let totalH = gridRows * CELL\n    let offsetX = Math.floor((160 - totalW) / 2)\n    let offsetY = Math.floor((120 - totalH) / 2)\n    let px = offsetX + c * CELL + Math.floor(CELL / 2)\n    let py = offsetY + r * CELL + Math.floor(CELL / 2)\n    return [px, py]\n}\n\nfunction spawnMazeSprites() {\n    // destroy old walls\n    for (let w of mazeWalls) {\n        w.destroy()\n    }\n    mazeWalls = []\n\n    for (let r = 0; r < gridRows; r++) {\n        for (let c = 0; c < gridCols; c++) {\n            if (mazeGrid[r][c] == 0) {\n                let pos = gridToPixel(c, r)\n                let wall = sprites.create(image.create(CELL, CELL), SpriteKind.Wall)\n                // fill wall image\n                for (let yy = 0; yy < CELL; yy++) {\n                    for (let xx = 0; xx < CELL; xx++) {\n                        wall.image.setPixel(xx, yy, 8)\n                    }\n                }\n                wall.setPosition(pos[0], pos[1])\n                wall.setFlag(SpriteFlag.Ghost, false)\n                mazeWalls.push(wall)\n            }\n        }\n    }\n}\n\n// ---------- START MAZE ----------\nfunction startMaze() {\n    destroyAllKinds()\n    currentApp = App.Maze\n    scene.setBackgroundColor(6)\n    mazeTimer = 0\n\n    carveMaze()\n    spawnMazeSprites()\n\n    // place player at start (1,1)\n    let startPos = gridToPixel(1, 1)\n    mazePlayer = sprites.create(img`\n        . 7 7 .\n        7 7 7 7\n        7 7 7 7\n        . 7 7 .\n    `, SpriteKind.Player)\n    mazePlayer.setPosition(startPos[0], startPos[1])\n    controller.moveSprite(mazePlayer, 80, 80)\n    mazePlayer.setStayInScreen(true)\n\n    // place goal at opposite corner (gridRows-2, gridCols-2)\n    let exitR = gridRows - 2\n    let exitC = gridCols - 2\n    mazeGrid[exitR][exitC] = 1 // make sure it's open\n    let exitPos = gridToPixel(exitC, exitR)\n    mazeGoal = sprites.create(img`\n        . 2 2 .\n        2 2 2 2\n        2 2 2 2\n        . 2 2 .\n    `, SpriteKind.Food)\n    mazeGoal.setPosition(exitPos[0], exitPos[1])\n\n    // record previous player pos for wall collision revert\n    prevX = mazePlayer.x\n    prevY = mazePlayer.y\n}\n\n// ---------- Maze timer ----------\ngame.onUpdateInterval(1000, function () {\n    if (currentApp == App.Maze) mazeTimer++\n})\n\n// ---------- collision: player reaches goal ----------\nsprites.onOverlap(SpriteKind.Player, SpriteKind.Food, function () {\n    if (currentApp != App.Maze) return\n    game.splash(\"TIME: \" + mazeTimer + \"s\")\n    if (mazeTimer < mazeBest) {\n        mazeBest = mazeTimer\n        settings.writeNumber(\"mazeBest\", mazeBest)\n        game.splash(\"NEW RECORD!\")\n    }\n    destroyAllKinds()\n    currentApp = App.Menu\n    drawMenu()\n})\n\n// ---------- prevent walking through walls ----------\nlet prevX = 0\nlet prevY = 0\n\ngame.onUpdate(function () {\n    if (currentApp == App.Maze && mazePlayer) {\n        // store previous\n        prevX = mazePlayer.x\n        prevY = mazePlayer.y\n        // move is applied by engine on every frame; after a short delay we'll check collisions in next onUpdate\n    }\n})\n\ngame.onUpdateInterval(20, function () {\n    if (currentApp != App.Maze || !mazePlayer) return\n    // after movement, check overlap with any wall; if overlapping, revert to previous pos\n    for (let w of mazeWalls) {\n        if (mazePlayer.overlapsWith(w)) {\n            mazePlayer.setPosition(prevX, prevY)\n            return\n        }\n    }\n})\n\n// ---------- DRAW (minimap + HUD + menu) ----------\ngame.onPaint(function () {\n    if (currentApp == App.Menu) {\n        drawMenu()\n    } else if (currentApp == App.Shooter) {\n        screen.printCenter(\"SHOOTER\", 8, 1)\n        screen.print(\"Enemy HP: \" + shooterEnemyHP, 2, 2, 1)\n        screen.print(\"Score:\" + info.score(), 2, 12, 1)\n    } else if (currentApp == App.Maze) {\n        // HUD\n        screen.print(\"TIME: \" + mazeTimer + \"s\", 2, 2, 1)\n        screen.print(\"BEST: \" + mazeBest + \"s\", 2, 12, 1)\n\n        // minimap box top-right\n        let mapX = 110\n        let mapY = 2\n        let mapW = 46\n        let mapH = 30\n        screen.drawRect(mapX, mapY, mapW, mapH, 1)\n        // draw player dot and goal dot scaled to map (scale positions)\n        if (mazePlayer) {\n            let px = mapX + Math.floor((mazePlayer.x / 160) * (mapW - 4)) + 1\n            let py = mapY + Math.floor((mazePlayer.y / 120) * (mapH - 4)) + 1\n            screen.fillRect(px, py, 2, 2, 7)\n        }\n        if (mazeGoal) {\n            let gx = mapX + Math.floor((mazeGoal.x / 160) * (mapW - 4)) + 1\n            let gy = mapY + Math.floor((mazeGoal.y / 120) * (mapH - 4)) + 1\n            screen.fillRect(gx, gy, 2, 2, 2)\n        }\n    } else if (currentApp == App.ComingSoon) {\n        screen.fill(9)\n        screen.printCenter(\"COMING SOON\", 60, 2)\n        screen.printCenter(\"Press B\", 90, 1)\n    }\n})\n\n// ---------- INPUT: menu navigation + unified A handler ----------\ncontroller.up.onEvent(ControllerButtonEvent.Pressed, function () {\n    if (currentApp != App.Menu) return\n    selected = (selected - 1 + menuItems.length) % menuItems.length\n    drawMenu()\n})\ncontroller.down.onEvent(ControllerButtonEvent.Pressed, function () {\n    if (currentApp != App.Menu) return\n    selected = (selected + 1) % menuItems.length\n    drawMenu()\n})\n\ncontroller.B.onEvent(ControllerButtonEvent.Pressed, function () {\n    // back to menu from any game\n    if (currentApp != App.Menu) {\n        destroyAllKinds()\n        currentApp = App.Menu\n        drawMenu()\n    }\n})\n\n// SINGLE A handler (menu select, shooter shoot, maze no-op)\ncontroller.A.onEvent(ControllerButtonEvent.Pressed, function () {\n    // MENU select\n    if (currentApp == App.Menu) {\n        if (selected == 0) {\n            startShooter()\n            return\n        } else if (selected == 1) {\n            startMaze()\n            return\n        } else {\n            currentApp = App.ComingSoon\n            return\n        }\n    }\n\n    // SHOOTER shooting\n    if (currentApp == App.Shooter) {\n        info.changeScoreBy(-1) // cost\n        sprites.createProjectileFromSprite(img`\n            . 1 .\n            1 1 1\n            . 1 .\n        `, shooterPlayer, 160, 0)\n        return\n    }\n\n    // MAZE: A does nothing (could be used for auto-solve later)\n})\n\n// ---------- end of file ----------\n","README.md":" ","assets.json":"","pxt.json":"{\n    \"name\": \"Mewy Machine Beta2\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"device\": \"*\",\n        \"multiplayer\": \"*\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\",\n        \"assets.json\"\n    ],\n    \"preferredEditor\": \"tsprj\"\n}\n"}},{"timestamp":1764286467008,"editorVersion":"2.0.62","text":{"main.blocks":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable type=\"KIND_SpriteKind\" id=\"ReXd^b13$~4E0=`o:f%}\">Wall</variable><variable type=\"KIND_SpriteKind\" id=\"e$%5q)_sza917T*Sjy,K\">Player</variable><variable type=\"KIND_SpriteKind\" id=\"#bmpg@WeO{_CRQpR2^rK\">Projectile</variable><variable type=\"KIND_SpriteKind\" id=\"O4~$=rYx/;jHeP5IHc2G\">Food</variable><variable type=\"KIND_SpriteKind\" id=\"ONDI,tHwz4o?~7|QG7Av\">Enemy</variable><variable id=\"H=Z9jCOG56`7?rv^nrUi\">i</variable><variable id=\"P21_,U8~ynqyk.[bQ;0k\">menuItems</variable><variable id=\"_D_;p|a?.Aw,9iFIHW6u\">y</variable><variable id=\"[Hij/P%Vv#EeSkb%[j.0\">selected</variable><variable id=\"3^w,8d?:.(w9qXvMez3/\">shooterEnemyHP</variable><variable id=\"-bE#q^0h+W^roo:{#hVh\">shooterPlayer</variable><variable id=\"sXdk|/zTzyZiJx*)Y0NS\">shooterEnemy</variable><variable id=\"aZEQj3~LtgGgNJdID/.R\">currentApp</variable><variable id=\")?rbLy[bRfqz(EMq]*Q9\">proj</variable><variable id=\"-3#yd)AW56YC[:WV4Uip\">en</variable><variable id=\"}*wFu?kV%j#;hiV+Tc%J\">mazeGrid</variable><variable id=\"U~ut=I8upPO_)[^A:G,f\">r</variable><variable id=\"68sO/eIcieQ_IJjDxG)c\">gridRows</variable><variable id=\"OG#pvyN@5OQEx/mye;Sy\">c</variable><variable id=\"@t_xB1te`ZVkhG$MW,-a\">gridCols</variable><variable id=\"ZVi}xbOt}spw?1=0kZ*)\">sr</variable><variable id=\"(RLn4XD)XKc~/hyxY!CS\">sc</variable><variable id=\"2D0i%pO-](gu/0$v^eK4\">stack</variable><variable id=\"B1^pQ~G:~VvO8@EWBERe\">top</variable><variable id=\"65fN=6eE-Z_S31OVOnGv\">s</variable><variable id=\"/U6]zrEzKtN#}yh7gffR\">d</variable><variable id=\")K8Xbbb6b0i;D2@ij$~h\">neighbors</variable><variable id=\"fO6z~T`$*0(jBA(?~epG\">n</variable><variable id=\"RSMk_1jVi_0OE@M$NtyG\">nr</variable><variable id=\"$v|%K!Mc%qo4#F{1!wiS\">nc</variable><variable id=\"HDTCPf+#}MP3!zxdZ1Ib\">midR</variable><variable id=\"rPD!=y~8t6qSn]M46@:X\">midC</variable><variable id=\"1mxy#BbgV{6nu4qH]WQL\">totalW</variable><variable id=\"d05}jO,/t.s!*dpa+cc6\">CELL</variable><variable id=\"b27wN`a-rI=y~XPv~glu\">totalH</variable><variable id=\")P/vL8(AW(mMsNe!wAPZ\">offsetX</variable><variable id=\"7:]Toyy5bD#)7j*J332-\">offsetY</variable><variable id=\"9PMIH|B,R)X`}w66X:/e\">px</variable><variable id=\"EyQq/S4:9blQ93x59N8a\">py</variable><variable id=\"F6YE+B4rI#UTdhVBFEfu\">mazeWalls</variable><variable id=\"=6rY8+dwOOyIeX0W5a/=\">w</variable><variable id=\"vHKbZ4R[o+~``vCtZqov\">t</variable><variable id=\"HMcu-YnvOoeZE%8sT.qN\">e</variable><variable id=\"d81{_y_zA3#8tfvn*A]~\">pos</variable><variable id=\"A9_3+KF%?RgMq{3m!9EQ\">wall</variable><variable id=\"@aOT,Ck?qqA)VCfG7A}u\">yy</variable><variable id=\"3N61hoHl|r;93!wbL/Oa\">xx</variable><variable id=\"kLS5JKhg!J.[1jjY*T)7\">mazeTimer</variable><variable id=\"HT@oWqX:N.#hhu8x)Ld.\">startPos</variable><variable id=\"/k(7x2=,QYSVph7=vjd1\">mazePlayer</variable><variable id=\"=1;|.LFU$;zyBpVC!1,n\">exitR</variable><variable id=\"bvoQ3sT`HQtG+lq]~YoN\">exitC</variable><variable id=\"4iDki$brlD~Lk.)yP5+(\">exitPos</variable><variable id=\"UV9Ko6aP^;.bX;rw4#-8\">mazeGoal</variable><variable id=\"^z:[]n[hgG_$E57qg~a~\">prevX</variable><variable id=\"l;P4?G`rva@8}r0go5=V\">prevY</variable><variable id=\"yy~|Ctv,9TRG]]6k/@l9\">mazeBest</variable><variable id=\"tp9j?M.qew4ff;8SvsdR\">a</variable><variable id=\"xOY=gpxxPKn)naZ5U`s1\">MAZE_CELLS_X</variable><variable id=\"FXUfHII5170ShQ)YD~@(\">MAZE_CELLS_Y</variable><variable id=\"%0on7tY[jyT48?{6GNX.\">logo</variable></variables><comment x=\"4327.546875\" y=\"4216\" w=\"480\" h=\"120\">\n---------- prevent walking through walls ----------\n</comment><comment x=\"4852.546875\" y=\"4216\" w=\"330\" h=\"120\">\n---------- end of file ----------\n</comment><block type=\"pxt-on-start\" x=\"20\" y=\"20\"><statement name=\"HANDLER\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let mazeTimer = 0\" numlines=\"1\" declaredvars=\"mazeTimer\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let mazeGoal: Sprite = null\" numlines=\"1\" declaredvars=\"mazeGoal\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let mazePlayer: Sprite = null\" numlines=\"1\" declaredvars=\"mazePlayer\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">--- global vars for maze ---</comment><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let shooterEnemy: Sprite = null\" numlines=\"1\" declaredvars=\"shooterEnemy\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let shooterPlayer: Sprite = null\" numlines=\"1\" declaredvars=\"shooterPlayer\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">--- global vars for shooter ---</comment><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"enum App {\" line1=\"    Boot,\" line2=\"    Menu,\" line3=\"    Shooter,\" line4=\"    Maze,\" line5=\"    ComingSoon\" line6=\"}\" numlines=\"7\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let currentApp = App.Boot\" numlines=\"1\" declaredvars=\"currentApp\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"P21_,U8~ynqyk.[bQ;0k\">menuItems</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_create_with\"><mutation items=\"3\" horizontalafter=\"3\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">Shooter</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">Maze</field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">Coming Soon</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"3^w,8d?:.(w9qXvMez3/\">shooterEnemyHP</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">3</field></shadow></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let mazeBest = settings.readNumber(&quot;mazeBest&quot;)\" numlines=\"1\" declaredvars=\"mazeBest\"></mutation><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"yy~|Ctv,9TRG]]6k/@l9\">mazeBest</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"yy~|Ctv,9TRG]]6k/@l9\">mazeBest</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">9999</field></shadow></value></block></statement><next><block type=\"variables_set\"><field name=\"VAR\" id=\"xOY=gpxxPKn)naZ5U`s1\">MAZE_CELLS_X</field><comment pinned=\"false\" h=\"80\" w=\"160\">Maze grid parameters (odd-grid carving)\nnumber of cell columns (odd carving grid will be 2*MAZE_CELLS_X+1)</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">11</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"FXUfHII5170ShQ)YD~@(\">MAZE_CELLS_Y</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">7</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"d05}jO,/t.s!*dpa+cc6\">CELL</field><comment pinned=\"false\" h=\"80\" w=\"160\">pixel size per grid cell (small so fits 160x120)</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">6</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"@t_xB1te`ZVkhG$MW,-a\">gridCols</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"xOY=gpxxPKn)naZ5U`s1\">MAZE_CELLS_X</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"68sO/eIcieQ_IJjDxG)c\">gridRows</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"FXUfHII5170ShQ)YD~@(\">MAZE_CELLS_Y</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><next><block type=\"gamesetbackgroundcolor\"><comment pinned=\"false\" h=\"80\" w=\"160\">0 = wall, 1 = path\n---------- BOOT ----------</comment><value name=\"color\"><shadow type=\"colorindexpicker\"><field name=\"index\">1</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"%0on7tY[jyT48?{6GNX.\">logo</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"spritescreate\"><value name=\"img\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n. . . . . . . \n. 5 5 . 5 5 . \n. 5 . 5 . 5 . \n. 5 5 . 5 5 . \n. . . . . . . \n`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value><value name=\"kind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Player</field></shadow></value></block></value><next><block type=\"spritesetpos\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%0on7tY[jyT48?{6GNX.\">logo</field></block></value><value name=\"x\"><shadow type=\"positionPicker\"><field name=\"index\">80</field></shadow></value><value name=\"y\"><shadow type=\"positionPicker\"><field name=\"index\">50</field></shadow></value><next><block type=\"spritesay\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"1\" _input_init=\"true\"></mutation><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%0on7tY[jyT48?{6GNX.\">logo</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Mewy OS</field></shadow></value><value name=\"millis\"><shadow type=\"timePicker\"><field name=\"ms\">1200</field></shadow></value><next><block type=\"mixer_play_sound\"><field name=\"sound\">music.powerUp</field><next><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">1300</field></shadow></value><next><block type=\"spritedestroy\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><field name=\"effect\">effects.spray</field><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%0on7tY[jyT48?{6GNX.\">logo</field></block></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"currentApp = App.Menu\" numlines=\"1\"></mutation><next><block type=\"function_call\"><mutation name=\"drawMenu\" functionid=\"(svOza?c_UeI1!CB:}A!\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"game.onPaint(function () {\" line1=\"    if (currentApp == App.Menu) {\" line2=\"        drawMenu()\" line3=\"    } else if (currentApp == App.Shooter) {\" line4=\"        screen.printCenter(&quot;SHOOTER&quot;, 8, 1)\" line5=\"        screen.print(&quot;Enemy HP: &quot; + shooterEnemyHP, 2, 2, 1)\" line6=\"        screen.print(&quot;Score:&quot; + info.score(), 2, 12, 1)\" line7=\"    } else if (currentApp == App.Maze) {\" line8=\"        // HUD\" line9=\"        screen.print(&quot;TIME: &quot; + mazeTimer + &quot;s&quot;, 2, 2, 1)\" line10=\"        screen.print(&quot;BEST: &quot; + mazeBest + &quot;s&quot;, 2, 12, 1)\" line11=\"\" line12=\"        // minimap box top-right\" line13=\"        let mapX = 110\" line14=\"        let mapY = 2\" line15=\"        let mapW = 46\" line16=\"        let mapH = 30\" line17=\"        screen.drawRect(mapX, mapY, mapW, mapH, 1)\" line18=\"        // draw player dot and goal dot scaled to map (scale positions)\" line19=\"        if (mazePlayer) {\" line20=\"            let px2 = mapX + Math.floor((mazePlayer.x / 160) * (mapW - 4)) + 1\" line21=\"            let py2 = mapY + Math.floor((mazePlayer.y / 120) * (mapH - 4)) + 1\" line22=\"            screen.fillRect(px2, py2, 2, 2, 7)\" line23=\"        }\" line24=\"        if (mazeGoal) {\" line25=\"            let gx = mapX + Math.floor((mazeGoal.x / 160) * (mapW - 4)) + 1\" line26=\"            let gy = mapY + Math.floor((mazeGoal.y / 120) * (mapH - 4)) + 1\" line27=\"            screen.fillRect(gx, gy, 2, 2, 2)\" line28=\"        }\" line29=\"    } else if (currentApp == App.ComingSoon) {\" line30=\"        screen.fill(9)\" line31=\"        screen.printCenter(&quot;COMING SOON&quot;, 60, 2)\" line32=\"        screen.printCenter(&quot;Press B&quot;, 90, 1)\" line33=\"    }\" line34=\"})\" numlines=\"35\"></mutation></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"gameinterval\" x=\"783\" y=\"20\"><comment pinned=\"false\" h=\"80\" w=\"160\">enemy AI: chase</comment><value name=\"period\"><shadow type=\"timePicker\"><field name=\"ms\">200</field></shadow></value><statement name=\"HANDLER\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">NEQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"aZEQj3~LtgGgNJdID/.R\">currentApp</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">App.Shooter</field></block></value></block></value><statement name=\"DO0\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"return\" numlines=\"1\"></mutation></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">OR</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"sXdk|/zTzyZiJx*)Y0NS\">shooterEnemy</field></block></value></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"-bE#q^0h+W^roo:{#hVh\">shooterPlayer</field></block></value></block></value></block></value><statement name=\"DO0\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"return\" numlines=\"1\"></mutation></block></statement><next><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"sXdk|/zTzyZiJx*)Y0NS\">shooterEnemy</field></block></value><value name=\"value\"><block type=\"typescript_expression\"><field name=\"EXPRESSION\">shooterPlayer.x &lt; shooterEnemy.x ? -40 : 40</field></block></value><next><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vy@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"sXdk|/zTzyZiJx*)Y0NS\">shooterEnemy</field></block></value><value name=\"value\"><block type=\"typescript_expression\"><field name=\"EXPRESSION\">shooterPlayer.y &lt; shooterEnemy.y ? -40 : 40</field></block></value></block></next></block></next></block></next></block></statement></block><block type=\"gameinterval\" x=\"1660\" y=\"20\"><comment pinned=\"false\" h=\"80\" w=\"160\">---------- Maze timer ----------</comment><value name=\"period\"><shadow type=\"timePicker\"><field name=\"ms\">1000</field></shadow></value><statement name=\"HANDLER\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"aZEQj3~LtgGgNJdID/.R\">currentApp</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">App.Maze</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_change\"><field name=\"VAR\" id=\"kLS5JKhg!J.[1jjY*T)7\">mazeTimer</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></statement></block></statement></block><block type=\"gameinterval\" x=\"2153\" y=\"20\"><value name=\"period\"><shadow type=\"timePicker\"><field name=\"ms\">20</field></shadow></value><statement name=\"HANDLER\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">OR</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">NEQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"aZEQj3~LtgGgNJdID/.R\">currentApp</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">App.Maze</field></block></value></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"/k(7x2=,QYSVph7=vjd1\">mazePlayer</field></block></value></block></value></block></value><statement name=\"DO0\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"return\" numlines=\"1\"></mutation></block></statement><next><block type=\"pxt_controls_for_of\"><comment pinned=\"false\" h=\"80\" w=\"160\">after movement, check overlap with any wall; if overlapping, revert to previous pos</comment><value name=\"VAR\"><block type=\"variables_get_reporter\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VAR\" id=\"tp9j?M.qew4ff;8SvsdR\">a</field></block></value><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"F6YE+B4rI#UTdhVBFEfu\">mazeWalls</field></block></value><statement name=\"DO\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"spriteoverlapswith\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"/k(7x2=,QYSVph7=vjd1\">mazePlayer</field></block></value><value name=\"other\"><block type=\"variables_get\"><field name=\"VAR\" id=\"tp9j?M.qew4ff;8SvsdR\">a</field></block></value></block></value><statement name=\"DO0\"><block type=\"spritesetpos\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"/k(7x2=,QYSVph7=vjd1\">mazePlayer</field></block></value><value name=\"x\"><shadow type=\"positionPicker\"><field name=\"index\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"^z:[]n[hgG_$E57qg~a~\">prevX</field></block></value><value name=\"y\"><shadow type=\"positionPicker\"><field name=\"index\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"l;P4?G`rva@8}r0go5=V\">prevY</field></block></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"return\" numlines=\"1\"></mutation></block></next></block></statement></block></statement></block></next></block></statement></block><block type=\"gameupdate\" x=\"2942\" y=\"20\"><statement name=\"HANDLER\"><block type=\"controls_if\"><comment pinned=\"false\" h=\"80\" w=\"160\">move is applied by engine on every frame; after a short delay we'll check collisions in next onUpdate</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">AND</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"aZEQj3~LtgGgNJdID/.R\">currentApp</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">App.Maze</field></block></value></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"/k(7x2=,QYSVph7=vjd1\">mazePlayer</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"^z:[]n[hgG_$E57qg~a~\">prevX</field><comment pinned=\"false\" h=\"80\" w=\"160\">store previous</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"Sprite_blockCombine_get\"><field name=\"property\">Sprite.x</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"/k(7x2=,QYSVph7=vjd1\">mazePlayer</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"l;P4?G`rva@8}r0go5=V\">prevY</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"Sprite_blockCombine_get\"><field name=\"property\">Sprite.y</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"/k(7x2=,QYSVph7=vjd1\">mazePlayer</field></block></value></block></value></block></next></block></statement></block></statement></block><block type=\"keyonevent\" x=\"3688\" y=\"20\"><field name=\"button\">controller.up</field><field name=\"event\">ControllerButtonEvent.Pressed</field><comment pinned=\"false\" h=\"80\" w=\"160\">---------- INPUT: menu navigation + unified A handler ----------</comment><statement name=\"HANDLER\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">NEQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"aZEQj3~LtgGgNJdID/.R\">currentApp</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">App.Menu</field></block></value></block></value><statement name=\"DO0\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"return\" numlines=\"1\"></mutation></block></statement><next><block type=\"variables_set\"><field name=\"VAR\" id=\"[Hij/P%Vv#EeSkb%[j.0\">selected</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_modulo\"><value name=\"DIVIDEND\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"[Hij/P%Vv#EeSkb%[j.0\">selected</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"P21_,U8~ynqyk.[bQ;0k\">menuItems</field></block></value></block></value></block></value><value name=\"DIVISOR\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"P21_,U8~ynqyk.[bQ;0k\">menuItems</field></block></value></block></value></block></value><next><block type=\"function_call\"><mutation name=\"drawMenu\" functionid=\"(svOza?c_UeI1!CB:}A!\"></mutation></block></next></block></next></block></statement></block><block type=\"keyonevent\" x=\"4950\" y=\"20\"><field name=\"button\">controller.down</field><field name=\"event\">ControllerButtonEvent.Pressed</field><statement name=\"HANDLER\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">NEQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"aZEQj3~LtgGgNJdID/.R\">currentApp</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">App.Menu</field></block></value></block></value><statement name=\"DO0\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"return\" numlines=\"1\"></mutation></block></statement><next><block type=\"variables_set\"><field name=\"VAR\" id=\"[Hij/P%Vv#EeSkb%[j.0\">selected</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_modulo\"><value name=\"DIVIDEND\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"[Hij/P%Vv#EeSkb%[j.0\">selected</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><value name=\"DIVISOR\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"P21_,U8~ynqyk.[bQ;0k\">menuItems</field></block></value></block></value></block></value><next><block type=\"function_call\"><mutation name=\"drawMenu\" functionid=\"(svOza?c_UeI1!CB:}A!\"></mutation></block></next></block></next></block></statement></block><block type=\"keyonevent\" x=\"5864\" y=\"20\"><field name=\"button\">controller.B</field><field name=\"event\">ControllerButtonEvent.Pressed</field><statement name=\"HANDLER\"><block type=\"controls_if\"><comment pinned=\"false\" h=\"80\" w=\"160\">back to menu from any game</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">NEQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"aZEQj3~LtgGgNJdID/.R\">currentApp</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">App.Menu</field></block></value></block></value><statement name=\"DO0\"><block type=\"function_call\"><mutation name=\"destroyAllKinds\" functionid=\":N;1Lqr9Bxi|[Ty!.7B-\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"currentApp = App.Menu\" numlines=\"1\"></mutation><next><block type=\"function_call\"><mutation name=\"drawMenu\" functionid=\"(svOza?c_UeI1!CB:}A!\"></mutation></block></next></block></next></block></statement></block></statement></block><block type=\"keyonevent\" x=\"20\" y=\"3131\"><field name=\"button\">controller.A</field><field name=\"event\">ControllerButtonEvent.Pressed</field><comment pinned=\"false\" h=\"80\" w=\"160\">SINGLE A handler (menu select, shooter shoot, maze no-op)\nMAZE: A does nothing (could be used for auto-solve later)</comment><statement name=\"HANDLER\"><block type=\"controls_if\"><comment pinned=\"false\" h=\"80\" w=\"160\">MENU select</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"aZEQj3~LtgGgNJdID/.R\">currentApp</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">App.Menu</field></block></value></block></value><statement name=\"DO0\"><block type=\"controls_if\"><mutation elseif=\"1\" else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"[Hij/P%Vv#EeSkb%[j.0\">selected</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"function_call\"><mutation name=\"startShooter\" functionid=\"W8Ik~)[HgxWv#Zy:fQl.\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"return\" numlines=\"1\"></mutation></block></next></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"[Hij/P%Vv#EeSkb%[j.0\">selected</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><statement name=\"DO1\"><block type=\"function_call\"><mutation name=\"startMaze\" functionid=\"4HjBOkW;V=fteA5oe#U}\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"return\" numlines=\"1\"></mutation></block></next></block></statement><statement name=\"ELSE\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"currentApp = App.ComingSoon\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"return\" numlines=\"1\"></mutation></block></next></block></statement></block></statement><next><block type=\"controls_if\"><comment pinned=\"false\" h=\"80\" w=\"160\">SHOOTER shooting</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"aZEQj3~LtgGgNJdID/.R\">currentApp</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">App.Shooter</field></block></value></block></value><statement name=\"DO0\"><block type=\"hudChangeScoreBy\"><comment pinned=\"false\" h=\"80\" w=\"160\">cost</comment><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">-1</field></shadow></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sprites.createProjectileFromSprite(img`\" line1=\"            . 1 .\" line2=\"            1 1 1\" line3=\"            . 1 .\" line4=\"        `, shooterPlayer, 160, 0)\" numlines=\"5\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"return\" numlines=\"1\"></mutation></block></next></block></next></block></statement></block></next></block></statement></block><block type=\"spritesoverlap\" x=\"550\" y=\"3131\"><comment pinned=\"false\" h=\"80\" w=\"160\">shooter collisions</comment><value name=\"HANDLER_DRAG_PARAM_sprite\"><block type=\"argument_reporter_custom\"><mutation duplicateondrag=\"true\" typename=\"Sprite\"></mutation><field name=\"VALUE\">proj</field></block></value><value name=\"kind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Projectile</field></shadow></value><value name=\"HANDLER_DRAG_PARAM_otherSprite\"><block type=\"argument_reporter_custom\"><mutation duplicateondrag=\"true\" typename=\"Sprite\"></mutation><field name=\"VALUE\">en</field></block></value><value name=\"otherKind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Enemy</field></shadow></value><statement name=\"HANDLER\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">NEQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"aZEQj3~LtgGgNJdID/.R\">currentApp</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">App.Shooter</field></block></value></block></value><statement name=\"DO0\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"return\" numlines=\"1\"></mutation></block></statement><next><block type=\"spritedestroy\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><field name=\"effect\">effects.spray</field><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\")?rbLy[bRfqz(EMq]*Q9\">proj</field></block></value><next><block type=\"variables_change\"><field name=\"VAR\" id=\"3^w,8d?:.(w9qXvMez3/\">shooterEnemyHP</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">-1</field></shadow></value><next><block type=\"mixer_play_sound\"><field name=\"sound\">music.zapped</field><next><block type=\"hudChangeScoreBy\"><comment pinned=\"false\" h=\"80\" w=\"160\">refund</comment><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"controls_if\"><data>{\"commentRefs\":[],\"fieldData\":{}}</data><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LTE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"3^w,8d?:.(w9qXvMez3/\">shooterEnemyHP</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"spritedestroy\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><field name=\"effect\">effects.disintegrate</field><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"-3#yd)AW56YC[:WV4Uip\">en</field></block></value><value name=\"duration\"><shadow type=\"timePicker\"><field name=\"ms\">300</field></shadow></value><next><block type=\"hudChangeScoreBy\"><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">10</field></shadow></value><next><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">200</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"sXdk|/zTzyZiJx*)Y0NS\">shooterEnemy</field><comment pinned=\"false\" h=\"80\" w=\"160\">respawn enemy</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"spritescreate\"><value name=\"img\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n. 2 2 . \n2 2 2 2 \n2 2 2 2 \n. 2 2 . \n`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value><value name=\"kind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Enemy</field></shadow></value></block></value><next><block type=\"spritesetpos\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"sXdk|/zTzyZiJx*)Y0NS\">shooterEnemy</field></block></value><value name=\"x\"><shadow type=\"positionPicker\"><field name=\"index\">140</field></shadow></value><value name=\"y\"><shadow type=\"positionPicker\"><field name=\"index\">0</field></shadow><block type=\"device_random\"><value name=\"min\"><shadow type=\"math_number\"><field name=\"NUM\">20</field></shadow></value><value name=\"limit\"><shadow type=\"math_number\"><field name=\"NUM\">100</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"3^w,8d?:.(w9qXvMez3/\">shooterEnemyHP</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">3</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"spritesoverlap\" x=\"1285\" y=\"3131\"><value name=\"HANDLER_DRAG_PARAM_sprite\"><block type=\"argument_reporter_custom\"><mutation duplicateondrag=\"true\" typename=\"Sprite\"></mutation><field name=\"VALUE\">proj</field></block></value><value name=\"kind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Projectile</field></shadow></value><value name=\"HANDLER_DRAG_PARAM_otherSprite\"><block type=\"argument_reporter_custom\"><mutation duplicateondrag=\"true\" typename=\"Sprite\"></mutation><field name=\"VALUE\">pl</field></block></value><value name=\"otherKind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Player</field></shadow></value><statement name=\"HANDLER\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">NEQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"aZEQj3~LtgGgNJdID/.R\">currentApp</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">App.Shooter</field></block></value></block></value><statement name=\"DO0\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"return\" numlines=\"1\"></mutation></block></statement><next><block type=\"spritedestroy\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><field name=\"effect\">effects.spray</field><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\")?rbLy[bRfqz(EMq]*Q9\">proj</field></block></value><next><block type=\"hudChangeLifeBy\"><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">-1</field></shadow></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LTE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"hudLife\"></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"gameOver\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><field name=\"effect\">effects.confetti</field><value name=\"win\"><shadow type=\"toggleWinLose\"><field name=\"win\">false</field></shadow></value></block></statement></block></next></block></next></block></next></block></statement></block><block type=\"spritesoverlap\" x=\"1949\" y=\"3131\"><value name=\"HANDLER_DRAG_PARAM_sprite\"><block type=\"argument_reporter_custom\"><mutation duplicateondrag=\"true\" typename=\"Sprite\"></mutation><field name=\"VALUE\">pl</field></block></value><value name=\"kind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Player</field></shadow></value><value name=\"HANDLER_DRAG_PARAM_otherSprite\"><block type=\"argument_reporter_custom\"><mutation duplicateondrag=\"true\" typename=\"Sprite\"></mutation><field name=\"VALUE\">en</field></block></value><value name=\"otherKind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Enemy</field></shadow></value><statement name=\"HANDLER\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">NEQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"aZEQj3~LtgGgNJdID/.R\">currentApp</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">App.Shooter</field></block></value></block></value><statement name=\"DO0\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"return\" numlines=\"1\"></mutation></block></statement><next><block type=\"hudChangeLifeBy\"><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">-1</field></shadow></value><next><block type=\"camerashake\"><value name=\"amplitude\"><shadow type=\"math_number_minmax\"><mutation min=\"1\" max=\"8\" precision=\"0\"></mutation><field name=\"SLIDER\">4</field></shadow></value><value name=\"duration\"><shadow type=\"timePicker\"><field name=\"ms\">200</field></shadow></value><next><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">300</field></shadow></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LTE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"hudLife\"></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"gameOver\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><field name=\"effect\">effects.confetti</field><value name=\"win\"><shadow type=\"toggleWinLose\"><field name=\"win\">false</field></shadow></value></block></statement></block></next></block></next></block></next></block></next></block></statement></block><block type=\"spritesoverlap\" x=\"2558\" y=\"3131\"><comment pinned=\"false\" h=\"80\" w=\"160\">---------- collision: player reaches goal ----------</comment><value name=\"HANDLER_DRAG_PARAM_sprite\"><block type=\"argument_reporter_custom\"><mutation duplicateondrag=\"true\" typename=\"Sprite\"></mutation><field name=\"VALUE\">sprite</field></block></value><value name=\"kind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Player</field></shadow></value><value name=\"HANDLER_DRAG_PARAM_otherSprite\"><block type=\"argument_reporter_custom\"><mutation duplicateondrag=\"true\" typename=\"Sprite\"></mutation><field name=\"VALUE\">otherSprite</field></block></value><value name=\"otherKind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Food</field></shadow></value><statement name=\"HANDLER\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">NEQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"aZEQj3~LtgGgNJdID/.R\">currentApp</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">App.Maze</field></block></value></block></value><statement name=\"DO0\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"return\" numlines=\"1\"></mutation></block></statement><next><block type=\"gameSplash\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"title\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"3\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">TIME: </field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"kLS5JKhg!J.[1jjY*T)7\">mazeTimer</field></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">s</field></shadow></value></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"kLS5JKhg!J.[1jjY*T)7\">mazeTimer</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"yy~|Ctv,9TRG]]6k/@l9\">mazeBest</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"yy~|Ctv,9TRG]]6k/@l9\">mazeBest</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"kLS5JKhg!J.[1jjY*T)7\">mazeTimer</field></block></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"settings.writeNumber(&quot;mazeBest&quot;, mazeBest)\" numlines=\"1\"></mutation><next><block type=\"gameSplash\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"title\"><shadow type=\"text\"><field name=\"TEXT\">NEW RECORD!</field></shadow></value></block></next></block></next></block></statement><next><block type=\"function_call\"><mutation name=\"destroyAllKinds\" functionid=\":N;1Lqr9Bxi|[Ty!.7B-\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"currentApp = App.Menu\" numlines=\"1\"></mutation><next><block type=\"function_call\"><mutation name=\"drawMenu\" functionid=\"(svOza?c_UeI1!CB:}A!\"></mutation></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"3284\" y=\"3131\"><mutation name=\"drawMenu\" functionid=\"(svOza?c_UeI1!CB:}A!\"></mutation><field name=\"function_name\">drawMenu</field><comment pinned=\"false\" h=\"80\" w=\"160\">---------- MENU ----------</comment><statement name=\"STACK\"><block type=\"gamesetbackgroundcolor\"><value name=\"color\"><shadow type=\"colorindexpicker\"><field name=\"index\">9</field></shadow></value><next><block type=\"Image_fill\"><value name=\"picture\"><block type=\"typescript_expression\"><field name=\"EXPRESSION\">screen</field></block></value><value name=\"c\"><shadow type=\"colorindexpicker\"><field name=\"index\">9</field></shadow></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"screen.printCenter(&quot;MEWY OS&quot;, 10, 1)\" numlines=\"1\"></mutation><next><block type=\"pxt_controls_for\"><value name=\"VAR\"><block type=\"variables_get_reporter\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VAR\" id=\"H=Z9jCOG56`7?rv^nrUi\">i</field></block></value><value name=\"TO\"><shadow type=\"math_whole_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"P21_,U8~ynqyk.[bQ;0k\">menuItems</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><statement name=\"DO\"><block type=\"variables_set\"><field name=\"VAR\" id=\"_D_;p|a?.Aw,9iFIHW6u\">y</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">40</field></shadow></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"H=Z9jCOG56`7?rv^nrUi\">i</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">18</field></shadow></value></block></value></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"H=Z9jCOG56`7?rv^nrUi\">i</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"[Hij/P%Vv#EeSkb%[j.0\">selected</field></block></value></block></value><statement name=\"DO0\"><block type=\"Image_drawRect\"><value name=\"picture\"><block type=\"typescript_expression\"><field name=\"EXPRESSION\">// red selection rectangle (stroke)\n            screen</field></block></value><value name=\"x\"><shadow type=\"math_number\"><field name=\"NUM\">18</field></shadow></value><value name=\"y\"><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"_D_;p|a?.Aw,9iFIHW6u\">y</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">4</field></shadow></value></block></value><value name=\"w\"><shadow type=\"math_number\"><field name=\"NUM\">124</field></shadow></value><value name=\"h\"><shadow type=\"math_number\"><field name=\"NUM\">16</field></shadow></value><value name=\"c\"><shadow type=\"colorindexpicker\"><field name=\"index\">2</field></shadow></value></block></statement><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"screen.print(menuItems[i], 30, y, 1)\" numlines=\"1\"></mutation></block></next></block></next></block></statement><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"screen.printCenter(&quot;A = Select   B = Back&quot;, 110, 1)\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"screen.printCenter(&quot;BEST MAZE: &quot; + mazeBest + &quot;s&quot;, 100, 1)\" numlines=\"1\"></mutation></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"4569\" y=\"3131\"><mutation name=\"destroyAllKinds\" functionid=\":N;1Lqr9Bxi|[Ty!.7B-\"></mutation><field name=\"function_name\">destroyAllKinds</field><comment pinned=\"false\" h=\"80\" w=\"160\">---------- CLEANUP helpers ----------</comment><statement name=\"STACK\"><block type=\"sprites_destroy_all_sprites_of_kind\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><field name=\"effect\">effects.spray</field><value name=\"kind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Player</field></shadow></value><next><block type=\"sprites_destroy_all_sprites_of_kind\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><field name=\"effect\">effects.spray</field><value name=\"kind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Enemy</field></shadow></value><next><block type=\"sprites_destroy_all_sprites_of_kind\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><field name=\"effect\">effects.spray</field><value name=\"kind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Projectile</field></shadow></value><next><block type=\"sprites_destroy_all_sprites_of_kind\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><field name=\"effect\">effects.spray</field><value name=\"kind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Food</field></shadow></value><next><block type=\"sprites_destroy_all_sprites_of_kind\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><field name=\"effect\">effects.spray</field><value name=\"kind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Wall</field></shadow></value></block></next></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"5056\" y=\"3131\"><mutation name=\"startShooter\" functionid=\"W8Ik~)[HgxWv#Zy:fQl.\"></mutation><field name=\"function_name\">startShooter</field><comment pinned=\"false\" h=\"80\" w=\"160\">---------- SHOOTER: start ----------</comment><statement name=\"STACK\"><block type=\"function_call\"><mutation name=\"destroyAllKinds\" functionid=\":N;1Lqr9Bxi|[Ty!.7B-\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"currentApp = App.Shooter\" numlines=\"1\"></mutation><next><block type=\"gamesetbackgroundcolor\"><value name=\"color\"><shadow type=\"colorindexpicker\"><field name=\"index\">7</field></shadow></value><next><block type=\"hudsetScore\"><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">100</field></shadow></value><next><block type=\"hudSetLife\"><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">3</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"3^w,8d?:.(w9qXvMez3/\">shooterEnemyHP</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">3</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"-bE#q^0h+W^roo:{#hVh\">shooterPlayer</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"spritescreate\"><value name=\"img\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n. 4 4 . \n4 4 4 4 \n4 4 4 4 \n. 4 4 . \n`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value><value name=\"kind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Player</field></shadow></value></block></value><next><block type=\"spritesetpos\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"-bE#q^0h+W^roo:{#hVh\">shooterPlayer</field></block></value><value name=\"x\"><shadow type=\"positionPicker\"><field name=\"index\">20</field></shadow></value><value name=\"y\"><shadow type=\"positionPicker\"><field name=\"index\">60</field></shadow></value><next><block type=\"spritesetsetstayinscreen\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"-bE#q^0h+W^roo:{#hVh\">shooterPlayer</field></block></value><value name=\"on\"><shadow type=\"toggleOnOff\"><field name=\"on\">true</field></shadow></value><next><block type=\"game_control_sprite\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"-bE#q^0h+W^roo:{#hVh\">shooterPlayer</field></block></value><value name=\"vx\"><shadow type=\"spriteSpeedPicker\"><field name=\"speed\">100</field></shadow></value><value name=\"vy\"><shadow type=\"spriteSpeedPicker\"><field name=\"speed\">100</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"sXdk|/zTzyZiJx*)Y0NS\">shooterEnemy</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"spritescreate\"><value name=\"img\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n. 2 2 . \n2 2 2 2 \n2 2 2 2 \n. 2 2 . \n`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value><value name=\"kind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Enemy</field></shadow></value></block></value><next><block type=\"spritesetpos\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"sXdk|/zTzyZiJx*)Y0NS\">shooterEnemy</field></block></value><value name=\"x\"><shadow type=\"positionPicker\"><field name=\"index\">140</field></shadow></value><value name=\"y\"><shadow type=\"positionPicker\"><field name=\"index\">60</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"5682\" y=\"3131\"><mutation name=\"initMazeGrid\" functionid=\"$shEt}I$fdw.=.e{opE*\"></mutation><field name=\"function_name\">initMazeGrid</field><comment pinned=\"false\" h=\"80\" w=\"160\">---------- MAZE: generation (recursive backtracker) ----------</comment><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\"}*wFu?kV%j#;hiV+Tc%J\">mazeGrid</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_create_with\"><mutation items=\"0\" horizontalafter=\"3\"></mutation></block></value><next><block type=\"pxt_controls_for\"><value name=\"VAR\"><block type=\"variables_get_reporter\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VAR\" id=\"U~ut=I8upPO_)[^A:G,f\">r</field></block></value><value name=\"TO\"><shadow type=\"math_whole_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"68sO/eIcieQ_IJjDxG)c\">gridRows</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><statement name=\"DO\"><block type=\"lists_index_set\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"}*wFu?kV%j#;hiV+Tc%J\">mazeGrid</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"U~ut=I8upPO_)[^A:G,f\">r</field></block></value><value name=\"VALUE\"><block type=\"lists_create_with\"><mutation items=\"0\" horizontalafter=\"3\"></mutation></block></value><next><block type=\"pxt_controls_for\"><value name=\"VAR\"><block type=\"variables_get_reporter\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VAR\" id=\"OG#pvyN@5OQEx/mye;Sy\">c</field></block></value><value name=\"TO\"><shadow type=\"math_whole_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@t_xB1te`ZVkhG$MW,-a\">gridCols</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><statement name=\"DO\"><block type=\"lists_index_set\"><comment pinned=\"false\" h=\"80\" w=\"160\">wall</comment><value name=\"LIST\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"}*wFu?kV%j#;hiV+Tc%J\">mazeGrid</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"U~ut=I8upPO_)[^A:G,f\">r</field></block></value></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"OG#pvyN@5OQEx/mye;Sy\">c</field></block></value><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></statement></block></next></block></statement></block></next></block></statement></block><block type=\"function_definition\" x=\"20\" y=\"4216\"><mutation name=\"carveMaze\" functionid=\"f39^CkFOw{rZ%lzfWmgl\"></mutation><field name=\"function_name\">carveMaze</field><comment pinned=\"false\" h=\"80\" w=\"160\">start at (1,1)</comment><statement name=\"STACK\"><block type=\"function_call\"><mutation name=\"initMazeGrid\" functionid=\"$shEt}I$fdw.=.e{opE*\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"ZVi}xbOt}spw?1=0kZ*)\">sr</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"(RLn4XD)XKc~/hyxY!CS\">sc</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"lists_index_set\"><value name=\"LIST\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"}*wFu?kV%j#;hiV+Tc%J\">mazeGrid</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"ZVi}xbOt}spw?1=0kZ*)\">sr</field></block></value></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"(RLn4XD)XKc~/hyxY!CS\">sc</field></block></value><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"array_push\"><value name=\"list\"><block type=\"variables_get\"><field name=\"VAR\" id=\"2D0i%pO-](gu/0$v^eK4\">stack</field></block></value><value name=\"value\"><block type=\"lists_create_with\"><mutation items=\"2\" horizontalafter=\"3\"></mutation><value name=\"ADD0\"><block type=\"variables_get\"><field name=\"VAR\" id=\"ZVi}xbOt}spw?1=0kZ*)\">sr</field></block></value><value name=\"ADD1\"><block type=\"variables_get\"><field name=\"VAR\" id=\"(RLn4XD)XKc~/hyxY!CS\">sc</field></block></value></block></value><next><block type=\"device_while\"><value name=\"COND\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"2D0i%pO-](gu/0$v^eK4\">stack</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><statement name=\"DO\"><block type=\"variables_set\"><field name=\"VAR\" id=\"B1^pQ~G:~VvO8@EWBERe\">top</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"2D0i%pO-](gu/0$v^eK4\">stack</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"2D0i%pO-](gu/0$v^eK4\">stack</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"65fN=6eE-Z_S31OVOnGv\">s</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"B1^pQ~G:~VvO8@EWBERe\">top</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"/U6]zrEzKtN#}yh7gffR\">d</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"B1^pQ~G:~VvO8@EWBERe\">top</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><next><block type=\"controls_if\"><comment pinned=\"false\" h=\"80\" w=\"160\">Up</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">AND</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"65fN=6eE-Z_S31OVOnGv\">s</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"}*wFu?kV%j#;hiV+Tc%J\">mazeGrid</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"65fN=6eE-Z_S31OVOnGv\">s</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"/U6]zrEzKtN#}yh7gffR\">d</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value></block></value><statement name=\"DO0\"><block type=\"array_push\"><value name=\"list\"><block type=\"variables_get\"><field name=\"VAR\" id=\")K8Xbbb6b0i;D2@ij$~h\">neighbors</field></block></value><value name=\"value\"><block type=\"lists_create_with\"><mutation items=\"2\" horizontalafter=\"3\"></mutation><value name=\"ADD0\"><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"65fN=6eE-Z_S31OVOnGv\">s</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value><value name=\"ADD1\"><block type=\"variables_get\"><field name=\"VAR\" id=\"/U6]zrEzKtN#}yh7gffR\">d</field></block></value></block></value></block></statement><next><block type=\"controls_if\"><comment pinned=\"false\" h=\"80\" w=\"160\">Down</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">AND</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"65fN=6eE-Z_S31OVOnGv\">s</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"68sO/eIcieQ_IJjDxG)c\">gridRows</field></block></value></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"}*wFu?kV%j#;hiV+Tc%J\">mazeGrid</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"65fN=6eE-Z_S31OVOnGv\">s</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"/U6]zrEzKtN#}yh7gffR\">d</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value></block></value><statement name=\"DO0\"><block type=\"array_push\"><value name=\"list\"><block type=\"variables_get\"><field name=\"VAR\" id=\")K8Xbbb6b0i;D2@ij$~h\">neighbors</field></block></value><value name=\"value\"><block type=\"lists_create_with\"><mutation items=\"2\" horizontalafter=\"3\"></mutation><value name=\"ADD0\"><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"65fN=6eE-Z_S31OVOnGv\">s</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value><value name=\"ADD1\"><block type=\"variables_get\"><field name=\"VAR\" id=\"/U6]zrEzKtN#}yh7gffR\">d</field></block></value></block></value></block></statement><next><block type=\"controls_if\"><comment pinned=\"false\" h=\"80\" w=\"160\">Left</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">AND</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"/U6]zrEzKtN#}yh7gffR\">d</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"}*wFu?kV%j#;hiV+Tc%J\">mazeGrid</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"65fN=6eE-Z_S31OVOnGv\">s</field></block></value></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"/U6]zrEzKtN#}yh7gffR\">d</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value></block></value><statement name=\"DO0\"><block type=\"array_push\"><value name=\"list\"><block type=\"variables_get\"><field name=\"VAR\" id=\")K8Xbbb6b0i;D2@ij$~h\">neighbors</field></block></value><value name=\"value\"><block type=\"lists_create_with\"><mutation items=\"2\" horizontalafter=\"3\"></mutation><value name=\"ADD0\"><block type=\"variables_get\"><field name=\"VAR\" id=\"65fN=6eE-Z_S31OVOnGv\">s</field></block></value><value name=\"ADD1\"><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"/U6]zrEzKtN#}yh7gffR\">d</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value></block></value></block></statement><next><block type=\"controls_if\"><comment pinned=\"false\" h=\"80\" w=\"160\">Right</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">AND</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"/U6]zrEzKtN#}yh7gffR\">d</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@t_xB1te`ZVkhG$MW,-a\">gridCols</field></block></value></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"}*wFu?kV%j#;hiV+Tc%J\">mazeGrid</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"65fN=6eE-Z_S31OVOnGv\">s</field></block></value></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"/U6]zrEzKtN#}yh7gffR\">d</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value></block></value><statement name=\"DO0\"><block type=\"array_push\"><value name=\"list\"><block type=\"variables_get\"><field name=\"VAR\" id=\")K8Xbbb6b0i;D2@ij$~h\">neighbors</field></block></value><value name=\"value\"><block type=\"lists_create_with\"><mutation items=\"2\" horizontalafter=\"3\"></mutation><value name=\"ADD0\"><block type=\"variables_get\"><field name=\"VAR\" id=\"65fN=6eE-Z_S31OVOnGv\">s</field></block></value><value name=\"ADD1\"><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"/U6]zrEzKtN#}yh7gffR\">d</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value></block></value></block></statement><next><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\")K8Xbbb6b0i;D2@ij$~h\">neighbors</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"fO6z~T`$*0(jBA(?~epG\">n</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\")K8Xbbb6b0i;D2@ij$~h\">neighbors</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_random\"><value name=\"min\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"limit\"><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\")K8Xbbb6b0i;D2@ij$~h\">neighbors</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"RSMk_1jVi_0OE@M$NtyG\">nr</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"fO6z~T`$*0(jBA(?~epG\">n</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"$v|%K!Mc%qo4#F{1!wiS\">nc</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"fO6z~T`$*0(jBA(?~epG\">n</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let midR = (s + nr) &gt;&gt; 1\" numlines=\"1\" declaredvars=\"midR\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let midC = (d + nc) &gt;&gt; 1\" numlines=\"1\" declaredvars=\"midC\"></mutation><next><block type=\"lists_index_set\"><value name=\"LIST\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"}*wFu?kV%j#;hiV+Tc%J\">mazeGrid</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"HDTCPf+#}MP3!zxdZ1Ib\">midR</field></block></value></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"rPD!=y~8t6qSn]M46@:X\">midC</field></block></value><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"lists_index_set\"><value name=\"LIST\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"}*wFu?kV%j#;hiV+Tc%J\">mazeGrid</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"RSMk_1jVi_0OE@M$NtyG\">nr</field></block></value></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"$v|%K!Mc%qo4#F{1!wiS\">nc</field></block></value><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"array_push\"><value name=\"list\"><block type=\"variables_get\"><field name=\"VAR\" id=\"2D0i%pO-](gu/0$v^eK4\">stack</field></block></value><value name=\"value\"><block type=\"lists_create_with\"><mutation items=\"2\" horizontalafter=\"3\"></mutation><value name=\"ADD0\"><block type=\"variables_get\"><field name=\"VAR\" id=\"RSMk_1jVi_0OE@M$NtyG\">nr</field></block></value><value name=\"ADD1\"><block type=\"variables_get\"><field name=\"VAR\" id=\"$v|%K!Mc%qo4#F{1!wiS\">nc</field></block></value></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement><statement name=\"ELSE\"><block type=\"array_pop_statement\"><value name=\"list\"><block type=\"variables_get\"><field name=\"VAR\" id=\"2D0i%pO-](gu/0$v^eK4\">stack</field></block></value></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"1472\" y=\"4216\"><mutation name=\"gridToPixel\" functionid=\"3iZz6EN-v1IPgB(DhUJE\"><arg name=\"c\" id=\"zd0qlrap7paonke9kg7g\" type=\"number\"></arg><arg name=\"r\" id=\"n8zj4u4d95u82svbs492\" type=\"number\"></arg></mutation><field name=\"function_name\">gridToPixel</field><comment pinned=\"false\" h=\"80\" w=\"160\">convert grid (r,c) to pixel center</comment><value name=\"zd0qlrap7paonke9kg7g\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">c</field></block></value><value name=\"n8zj4u4d95u82svbs492\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">r</field></block></value><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\"1mxy#BbgV{6nu4qH]WQL\">totalW</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@t_xB1te`ZVkhG$MW,-a\">gridCols</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"d05}jO,/t.s!*dpa+cc6\">CELL</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"b27wN`a-rI=y~XPv~glu\">totalH</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"68sO/eIcieQ_IJjDxG)c\">gridRows</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"d05}jO,/t.s!*dpa+cc6\">CELL</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\")P/vL8(AW(mMsNe!wAPZ\">offsetX</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_js_round\"><field name=\"OP\">floor</field><value name=\"ARG0\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">DIVIDE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">160</field></shadow></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"1mxy#BbgV{6nu4qH]WQL\">totalW</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"7:]Toyy5bD#)7j*J332-\">offsetY</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_js_round\"><field name=\"OP\">floor</field><value name=\"ARG0\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">DIVIDE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">120</field></shadow></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"b27wN`a-rI=y~XPv~glu\">totalH</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"9PMIH|B,R)X`}w66X:/e\">px</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\")P/vL8(AW(mMsNe!wAPZ\">offsetX</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">c</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"d05}jO,/t.s!*dpa+cc6\">CELL</field></block></value></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_js_round\"><field name=\"OP\">floor</field><value name=\"ARG0\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">DIVIDE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"d05}jO,/t.s!*dpa+cc6\">CELL</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"EyQq/S4:9blQ93x59N8a\">py</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"7:]Toyy5bD#)7j*J332-\">offsetY</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">r</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"d05}jO,/t.s!*dpa+cc6\">CELL</field></block></value></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_js_round\"><field name=\"OP\">floor</field><value name=\"ARG0\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">DIVIDE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"d05}jO,/t.s!*dpa+cc6\">CELL</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value></block></value></block></value><next><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_create_with\"><mutation items=\"2\" horizontalafter=\"3\"></mutation><value name=\"ADD0\"><block type=\"variables_get\"><field name=\"VAR\" id=\"9PMIH|B,R)X`}w66X:/e\">px</field></block></value><value name=\"ADD1\"><block type=\"variables_get\"><field name=\"VAR\" id=\"EyQq/S4:9blQ93x59N8a\">py</field></block></value></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"2408\" y=\"4216\"><mutation name=\"spawnMazeSprites\" functionid=\"?gpoJr56JKY}f``$dD^%\"></mutation><field name=\"function_name\">spawnMazeSprites</field><statement name=\"STACK\"><block type=\"pxt_controls_for_of\"><comment pinned=\"false\" h=\"80\" w=\"160\">destroy old walls</comment><value name=\"VAR\"><block type=\"variables_get_reporter\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VAR\" id=\"=6rY8+dwOOyIeX0W5a/=\">w</field></block></value><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"F6YE+B4rI#UTdhVBFEfu\">mazeWalls</field></block></value><statement name=\"DO\"><block type=\"spritedestroy\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><field name=\"effect\">effects.spray</field><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"=6rY8+dwOOyIeX0W5a/=\">w</field></block></value></block></statement><next><block type=\"variables_set\"><field name=\"VAR\" id=\"F6YE+B4rI#UTdhVBFEfu\">mazeWalls</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_create_with\"><mutation items=\"0\" horizontalafter=\"3\"></mutation></block></value><next><block type=\"pxt_controls_for\"><value name=\"VAR\"><block type=\"variables_get_reporter\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VAR\" id=\"vHKbZ4R[o+~``vCtZqov\">t</field></block></value><value name=\"TO\"><shadow type=\"math_whole_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"68sO/eIcieQ_IJjDxG)c\">gridRows</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><statement name=\"DO\"><block type=\"pxt_controls_for\"><value name=\"VAR\"><block type=\"variables_get_reporter\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VAR\" id=\"HMcu-YnvOoeZE%8sT.qN\">e</field></block></value><value name=\"TO\"><shadow type=\"math_whole_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@t_xB1te`ZVkhG$MW,-a\">gridCols</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><statement name=\"DO\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"}*wFu?kV%j#;hiV+Tc%J\">mazeGrid</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"vHKbZ4R[o+~``vCtZqov\">t</field></block></value></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"HMcu-YnvOoeZE%8sT.qN\">e</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"d81{_y_zA3#8tfvn*A]~\">pos</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"function_call_output\"><mutation name=\"gridToPixel\" functionid=\"3iZz6EN-v1IPgB(DhUJE\"><arg name=\"c\" id=\"zd0qlrap7paonke9kg7g\" type=\"number\"></arg><arg name=\"r\" id=\"n8zj4u4d95u82svbs492\" type=\"number\"></arg></mutation><value name=\"zd0qlrap7paonke9kg7g\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"HMcu-YnvOoeZE%8sT.qN\">e</field></block></value><value name=\"n8zj4u4d95u82svbs492\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"vHKbZ4R[o+~``vCtZqov\">t</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"A9_3+KF%?RgMq{3m!9EQ\">wall</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"spritescreate\"><value name=\"img\"><shadow type=\"screen_image_picker\"><field name=\"img\"></field></shadow><block type=\"image_create\"><value name=\"width\"><block type=\"variables_get\"><field name=\"VAR\" id=\"d05}jO,/t.s!*dpa+cc6\">CELL</field></block></value><value name=\"height\"><block type=\"variables_get\"><field name=\"VAR\" id=\"d05}jO,/t.s!*dpa+cc6\">CELL</field></block></value></block></value><value name=\"kind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Wall</field></shadow></value></block></value><next><block type=\"pxt_controls_for\"><comment pinned=\"false\" h=\"80\" w=\"160\">fill wall image</comment><value name=\"VAR\"><block type=\"variables_get_reporter\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VAR\" id=\"@aOT,Ck?qqA)VCfG7A}u\">yy</field></block></value><value name=\"TO\"><shadow type=\"math_whole_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"d05}jO,/t.s!*dpa+cc6\">CELL</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><statement name=\"DO\"><block type=\"pxt_controls_for\"><value name=\"VAR\"><block type=\"variables_get_reporter\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VAR\" id=\"3N61hoHl|r;93!wbL/Oa\">xx</field></block></value><value name=\"TO\"><shadow type=\"math_whole_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"d05}jO,/t.s!*dpa+cc6\">CELL</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><statement name=\"DO\"><block type=\"Image_setPixel\"><value name=\"picture\"><block type=\"spriteimage\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"A9_3+KF%?RgMq{3m!9EQ\">wall</field></block></value></block></value><value name=\"x\"><block type=\"variables_get\"><field name=\"VAR\" id=\"3N61hoHl|r;93!wbL/Oa\">xx</field></block></value><value name=\"y\"><block type=\"variables_get\"><field name=\"VAR\" id=\"@aOT,Ck?qqA)VCfG7A}u\">yy</field></block></value><value name=\"c\"><shadow type=\"colorindexpicker\"><field name=\"index\">8</field></shadow></value></block></statement></block></statement><next><block type=\"spritesetpos\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"A9_3+KF%?RgMq{3m!9EQ\">wall</field></block></value><value name=\"x\"><shadow type=\"positionPicker\"><field name=\"index\">0</field></shadow><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"d81{_y_zA3#8tfvn*A]~\">pos</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><value name=\"y\"><shadow type=\"positionPicker\"><field name=\"index\">0</field></shadow><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"d81{_y_zA3#8tfvn*A]~\">pos</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><next><block type=\"spritesetsetflag\"><field name=\"flag\">SpriteFlag.Ghost</field><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"A9_3+KF%?RgMq{3m!9EQ\">wall</field></block></value><value name=\"on\"><shadow type=\"toggleOnOff\"><field name=\"on\">false</field></shadow></value><next><block type=\"array_push\"><value name=\"list\"><block type=\"variables_get\"><field name=\"VAR\" id=\"F6YE+B4rI#UTdhVBFEfu\">mazeWalls</field></block></value><value name=\"value\"><block type=\"variables_get\"><field name=\"VAR\" id=\"A9_3+KF%?RgMq{3m!9EQ\">wall</field></block></value></block></next></block></next></block></next></block></next></block></next></block></statement></block></statement></block></statement></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"3356\" y=\"4216\"><mutation name=\"startMaze\" functionid=\"4HjBOkW;V=fteA5oe#U}\"></mutation><field name=\"function_name\">startMaze</field><comment pinned=\"false\" h=\"80\" w=\"160\">---------- START MAZE ----------</comment><statement name=\"STACK\"><block type=\"function_call\"><mutation name=\"destroyAllKinds\" functionid=\":N;1Lqr9Bxi|[Ty!.7B-\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"currentApp = App.Maze\" numlines=\"1\"></mutation><next><block type=\"gamesetbackgroundcolor\"><value name=\"color\"><shadow type=\"colorindexpicker\"><field name=\"index\">6</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"kLS5JKhg!J.[1jjY*T)7\">mazeTimer</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"function_call\"><mutation name=\"carveMaze\" functionid=\"f39^CkFOw{rZ%lzfWmgl\"></mutation><next><block type=\"function_call\"><mutation name=\"spawnMazeSprites\" functionid=\"?gpoJr56JKY}f``$dD^%\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"HT@oWqX:N.#hhu8x)Ld.\">startPos</field><comment pinned=\"false\" h=\"80\" w=\"160\">place player at start (1,1)</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"function_call_output\"><mutation name=\"gridToPixel\" functionid=\"3iZz6EN-v1IPgB(DhUJE\"><arg name=\"c\" id=\"zd0qlrap7paonke9kg7g\" type=\"number\"></arg><arg name=\"r\" id=\"n8zj4u4d95u82svbs492\" type=\"number\"></arg></mutation><value name=\"zd0qlrap7paonke9kg7g\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value><value name=\"n8zj4u4d95u82svbs492\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"/k(7x2=,QYSVph7=vjd1\">mazePlayer</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"spritescreate\"><value name=\"img\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n. 7 7 . \n7 7 7 7 \n7 7 7 7 \n. 7 7 . \n`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value><value name=\"kind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Player</field></shadow></value></block></value><next><block type=\"spritesetpos\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"/k(7x2=,QYSVph7=vjd1\">mazePlayer</field></block></value><value name=\"x\"><shadow type=\"positionPicker\"><field name=\"index\">0</field></shadow><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"HT@oWqX:N.#hhu8x)Ld.\">startPos</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><value name=\"y\"><shadow type=\"positionPicker\"><field name=\"index\">0</field></shadow><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"HT@oWqX:N.#hhu8x)Ld.\">startPos</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><next><block type=\"game_control_sprite\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"/k(7x2=,QYSVph7=vjd1\">mazePlayer</field></block></value><value name=\"vx\"><shadow type=\"spriteSpeedPicker\"><field name=\"speed\">80</field></shadow></value><value name=\"vy\"><shadow type=\"spriteSpeedPicker\"><field name=\"speed\">80</field></shadow></value><next><block type=\"spritesetsetstayinscreen\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"/k(7x2=,QYSVph7=vjd1\">mazePlayer</field></block></value><value name=\"on\"><shadow type=\"toggleOnOff\"><field name=\"on\">true</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"=1;|.LFU$;zyBpVC!1,n\">exitR</field><comment pinned=\"false\" h=\"80\" w=\"160\">place goal at opposite corner (gridRows-2, gridCols-2)</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"68sO/eIcieQ_IJjDxG)c\">gridRows</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"bvoQ3sT`HQtG+lq]~YoN\">exitC</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@t_xB1te`ZVkhG$MW,-a\">gridCols</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value><next><block type=\"lists_index_set\"><comment pinned=\"false\" h=\"80\" w=\"160\">make sure it's open</comment><value name=\"LIST\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"}*wFu?kV%j#;hiV+Tc%J\">mazeGrid</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"=1;|.LFU$;zyBpVC!1,n\">exitR</field></block></value></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"bvoQ3sT`HQtG+lq]~YoN\">exitC</field></block></value><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"4iDki$brlD~Lk.)yP5+(\">exitPos</field><data>{\"commentRefs\":[],\"fieldData\":{}}</data><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"function_call_output\"><mutation name=\"gridToPixel\" functionid=\"3iZz6EN-v1IPgB(DhUJE\"><arg name=\"c\" id=\"zd0qlrap7paonke9kg7g\" type=\"number\"></arg><arg name=\"r\" id=\"n8zj4u4d95u82svbs492\" type=\"number\"></arg></mutation><value name=\"zd0qlrap7paonke9kg7g\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"bvoQ3sT`HQtG+lq]~YoN\">exitC</field></block></value><value name=\"n8zj4u4d95u82svbs492\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"=1;|.LFU$;zyBpVC!1,n\">exitR</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"UV9Ko6aP^;.bX;rw4#-8\">mazeGoal</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"spritescreate\"><value name=\"img\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n. 2 2 . \n2 2 2 2 \n2 2 2 2 \n. 2 2 . \n`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value><value name=\"kind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Food</field></shadow></value></block></value><next><block type=\"spritesetpos\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"UV9Ko6aP^;.bX;rw4#-8\">mazeGoal</field></block></value><value name=\"x\"><shadow type=\"positionPicker\"><field name=\"index\">0</field></shadow><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"4iDki$brlD~Lk.)yP5+(\">exitPos</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><value name=\"y\"><shadow type=\"positionPicker\"><field name=\"index\">0</field></shadow><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"4iDki$brlD~Lk.)yP5+(\">exitPos</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"^z:[]n[hgG_$E57qg~a~\">prevX</field><comment pinned=\"false\" h=\"80\" w=\"160\">record previous player pos for wall collision revert</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"Sprite_blockCombine_get\"><field name=\"property\">Sprite.x</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"/k(7x2=,QYSVph7=vjd1\">mazePlayer</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"l;P4?G`rva@8}r0go5=V\">prevY</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"Sprite_blockCombine_get\"><field name=\"property\">Sprite.y</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"/k(7x2=,QYSVph7=vjd1\">mazePlayer</field></block></value></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></xml>","main.ts":"","README.md":" ","assets.json":"","pxt.json":"{\n    \"name\": \"Mewy Machine Beta2\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"device\": \"*\",\n        \"multiplayer\": \"*\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\",\n        \"assets.json\"\n    ],\n    \"preferredEditor\": \"blocksprj\"\n}\n"}}],"shares":[{"id":"14234-47480-78706-66942","timestamp":1764282218779}],"lastSaveTime":1764286884744}